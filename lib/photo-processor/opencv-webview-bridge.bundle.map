{"version":3,"sources":["__prelude__","\u0000polyfill:environment-variables","/Users/eryk.napierala/Development/fasola/node_modules/metro-runtime/src/polyfills/require.js","/Users/eryk.napierala/Development/fasola/node_modules/@react-native/js-polyfills/console.js","/Users/eryk.napierala/Development/fasola/node_modules/@react-native/js-polyfills/error-guard.js","/Users/eryk.napierala/Development/fasola/lib/photo-processor/opencv-webview-bridge.ts","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/asyncToGenerator.js","/Users/eryk.napierala/Development/fasola/lib/photo-processor/pipelines/opencv-core.ts"],"sourcesContent":["var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=true,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='',__requireCycleIgnorePatterns=[/(^|\\/|\\\\)node_modules($|\\/|\\\\)/];process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||\"development\";","/* HMR env vars from Expo CLI (dev-only) */ process.env=Object.defineProperties(process.env, {});","\"use strict\";\n\nglobal.__r = metroRequire;\nglobal[`${__METRO_GLOBAL_PREFIX__}__d`] = define;\nglobal.__c = clear;\nglobal.__registerSegment = registerSegment;\nvar modules = clear();\nconst EMPTY = {};\nconst CYCLE_DETECTED = {};\nconst { hasOwnProperty } = {};\nif (__DEV__) {\n  global.$RefreshReg$ = global.$RefreshReg$ ?? (() => {});\n  global.$RefreshSig$ = global.$RefreshSig$ ?? (() => (type) => type);\n}\nfunction clear() {\n  modules = new Map();\n  return modules;\n}\nif (__DEV__) {\n  var verboseNamesToModuleIds = new Map();\n  var getModuleIdForVerboseName = (verboseName) => {\n    const moduleId = verboseNamesToModuleIds.get(verboseName);\n    if (moduleId == null) {\n      throw new Error(`Unknown named module: \"${verboseName}\"`);\n    }\n    return moduleId;\n  };\n  var initializingModuleIds = [];\n}\nfunction define(factory, moduleId, dependencyMap) {\n  if (modules.has(moduleId)) {\n    if (__DEV__) {\n      const inverseDependencies = arguments[4];\n      if (inverseDependencies) {\n        global.__accept(moduleId, factory, dependencyMap, inverseDependencies);\n      }\n    }\n    return;\n  }\n  const mod = {\n    dependencyMap,\n    factory,\n    hasError: false,\n    importedAll: EMPTY,\n    importedDefault: EMPTY,\n    isInitialized: false,\n    publicModule: {\n      exports: {},\n    },\n  };\n  modules.set(moduleId, mod);\n  if (__DEV__) {\n    mod.hot = createHotReloadingObject();\n    const verboseName = arguments[3];\n    if (verboseName) {\n      mod.verboseName = verboseName;\n      verboseNamesToModuleIds.set(verboseName, moduleId);\n    }\n  }\n}\nfunction metroRequire(moduleId, maybeNameForDev) {\n  if (moduleId === null) {\n    if (__DEV__ && typeof maybeNameForDev === \"string\") {\n      throw new Error(\"Cannot find module '\" + maybeNameForDev + \"'\");\n    }\n    throw new Error(\"Cannot find module\");\n  }\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n    console.warn(\n      `Requiring module \"${verboseName}\" by name is only supported for ` +\n        \"debugging purposes and will BREAK IN PRODUCTION!\"\n    );\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  if (__DEV__) {\n    const initializingIndex = initializingModuleIds.indexOf(\n      moduleIdReallyIsNumber\n    );\n    if (initializingIndex !== -1) {\n      const cycle = initializingModuleIds\n        .slice(initializingIndex)\n        .map((id) => modules.get(id)?.verboseName ?? \"[unknown]\");\n      if (shouldPrintRequireCycle(cycle)) {\n        cycle.push(cycle[0]);\n        console.warn(\n          `Require cycle: ${cycle.join(\" -> \")}\\n\\n` +\n            \"Require cycles are allowed, but can result in uninitialized values. \" +\n            \"Consider refactoring to remove the need for a cycle.\"\n        );\n      }\n    }\n  }\n  const module = modules.get(moduleIdReallyIsNumber);\n  return module && module.isInitialized\n    ? module.publicModule.exports\n    : guardedLoadModule(moduleIdReallyIsNumber, module);\n}\nfunction shouldPrintRequireCycle(modules) {\n  const regExps =\n    global[__METRO_GLOBAL_PREFIX__ + \"__requireCycleIgnorePatterns\"];\n  if (!Array.isArray(regExps)) {\n    return true;\n  }\n  const isIgnored = (module) =>\n    module != null && regExps.some((regExp) => regExp.test(module));\n  return modules.every((module) => !isIgnored(module));\n}\nfunction metroImportDefault(moduleId) {\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  const maybeInitializedModule = modules.get(moduleIdReallyIsNumber);\n  if (\n    maybeInitializedModule &&\n    maybeInitializedModule.importedDefault !== EMPTY\n  ) {\n    return maybeInitializedModule.importedDefault;\n  }\n  const exports = metroRequire(moduleIdReallyIsNumber);\n  const importedDefault =\n    exports && exports.__esModule ? exports.default : exports;\n  const initializedModule = modules.get(moduleIdReallyIsNumber);\n  return (initializedModule.importedDefault = importedDefault);\n}\nmetroRequire.importDefault = metroImportDefault;\nfunction metroImportAll(moduleId) {\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  const maybeInitializedModule = modules.get(moduleIdReallyIsNumber);\n  if (maybeInitializedModule && maybeInitializedModule.importedAll !== EMPTY) {\n    return maybeInitializedModule.importedAll;\n  }\n  const exports = metroRequire(moduleIdReallyIsNumber);\n  let importedAll;\n  if (exports && exports.__esModule) {\n    importedAll = exports;\n  } else {\n    importedAll = {};\n    if (exports) {\n      for (const key in exports) {\n        if (hasOwnProperty.call(exports, key)) {\n          importedAll[key] = exports[key];\n        }\n      }\n    }\n    importedAll.default = exports;\n  }\n  const initializedModule = modules.get(moduleIdReallyIsNumber);\n  return (initializedModule.importedAll = importedAll);\n}\nmetroRequire.importAll = metroImportAll;\nmetroRequire.context = function fallbackRequireContext() {\n  if (__DEV__) {\n    throw new Error(\n      \"The experimental Metro feature `require.context` is not enabled in your project.\\nThis can be enabled by setting the `transformer.unstable_allowRequireContext` property to `true` in your Metro configuration.\"\n    );\n  }\n  throw new Error(\n    \"The experimental Metro feature `require.context` is not enabled in your project.\"\n  );\n};\nmetroRequire.resolveWeak = function fallbackRequireResolveWeak() {\n  if (__DEV__) {\n    throw new Error(\n      \"require.resolveWeak cannot be called dynamically. Ensure you are using the same version of `metro` and `metro-runtime`.\"\n    );\n  }\n  throw new Error(\"require.resolveWeak cannot be called dynamically.\");\n};\nlet inGuard = false;\nfunction guardedLoadModule(moduleId, module) {\n  if (!inGuard && global.ErrorUtils) {\n    inGuard = true;\n    let returnValue;\n    try {\n      returnValue = loadModuleImplementation(moduleId, module);\n    } catch (e) {\n      global.ErrorUtils.reportFatalError(e);\n    }\n    inGuard = false;\n    return returnValue;\n  } else {\n    return loadModuleImplementation(moduleId, module);\n  }\n}\nconst ID_MASK_SHIFT = 16;\nconst LOCAL_ID_MASK = ~0 >>> ID_MASK_SHIFT;\nfunction unpackModuleId(moduleId) {\n  const segmentId = moduleId >>> ID_MASK_SHIFT;\n  const localId = moduleId & LOCAL_ID_MASK;\n  return {\n    segmentId,\n    localId,\n  };\n}\nmetroRequire.unpackModuleId = unpackModuleId;\nfunction packModuleId(value) {\n  return (value.segmentId << ID_MASK_SHIFT) + value.localId;\n}\nmetroRequire.packModuleId = packModuleId;\nconst moduleDefinersBySegmentID = [];\nconst definingSegmentByModuleID = new Map();\nfunction registerSegment(segmentId, moduleDefiner, moduleIds) {\n  moduleDefinersBySegmentID[segmentId] = moduleDefiner;\n  if (__DEV__) {\n    if (segmentId === 0 && moduleIds) {\n      throw new Error(\n        \"registerSegment: Expected moduleIds to be null for main segment\"\n      );\n    }\n    if (segmentId !== 0 && !moduleIds) {\n      throw new Error(\n        \"registerSegment: Expected moduleIds to be passed for segment #\" +\n          segmentId\n      );\n    }\n  }\n  if (moduleIds) {\n    moduleIds.forEach((moduleId) => {\n      if (!modules.has(moduleId) && !definingSegmentByModuleID.has(moduleId)) {\n        definingSegmentByModuleID.set(moduleId, segmentId);\n      }\n    });\n  }\n}\nfunction loadModuleImplementation(moduleId, module) {\n  if (!module && moduleDefinersBySegmentID.length > 0) {\n    const segmentId = definingSegmentByModuleID.get(moduleId) ?? 0;\n    const definer = moduleDefinersBySegmentID[segmentId];\n    if (definer != null) {\n      definer(moduleId);\n      module = modules.get(moduleId);\n      definingSegmentByModuleID.delete(moduleId);\n    }\n  }\n  const nativeRequire = global.nativeRequire;\n  if (!module && nativeRequire) {\n    const { segmentId, localId } = unpackModuleId(moduleId);\n    nativeRequire(localId, segmentId);\n    module = modules.get(moduleId);\n  }\n  if (!module) {\n    throw unknownModuleError(moduleId);\n  }\n  if (module.hasError) {\n    throw module.error;\n  }\n  if (__DEV__) {\n    var Systrace = requireSystrace();\n    var Refresh = requireRefresh();\n  }\n  module.isInitialized = true;\n  const { factory, dependencyMap } = module;\n  if (__DEV__) {\n    initializingModuleIds.push(moduleId);\n  }\n  try {\n    if (__DEV__) {\n      Systrace.beginEvent(\"JS_require_\" + (module.verboseName || moduleId));\n    }\n    const moduleObject = module.publicModule;\n    if (__DEV__) {\n      moduleObject.hot = module.hot;\n      var prevRefreshReg = global.$RefreshReg$;\n      var prevRefreshSig = global.$RefreshSig$;\n      if (Refresh != null) {\n        const RefreshRuntime = Refresh;\n        global.$RefreshReg$ = (type, id) => {\n          const prefixedModuleId =\n            __METRO_GLOBAL_PREFIX__ + \" \" + moduleId + \" \" + id;\n          RefreshRuntime.register(type, prefixedModuleId);\n        };\n        global.$RefreshSig$ =\n          RefreshRuntime.createSignatureFunctionForTransform;\n      }\n    }\n    moduleObject.id = moduleId;\n    factory(\n      global,\n      metroRequire,\n      metroImportDefault,\n      metroImportAll,\n      moduleObject,\n      moduleObject.exports,\n      dependencyMap\n    );\n    if (!__DEV__) {\n      module.factory = undefined;\n      module.dependencyMap = undefined;\n    }\n    if (__DEV__) {\n      Systrace.endEvent();\n      if (Refresh != null) {\n        const prefixedModuleId = __METRO_GLOBAL_PREFIX__ + \" \" + moduleId;\n        registerExportsForReactRefresh(\n          Refresh,\n          moduleObject.exports,\n          prefixedModuleId\n        );\n      }\n    }\n    return moduleObject.exports;\n  } catch (e) {\n    module.hasError = true;\n    module.error = e;\n    module.isInitialized = false;\n    module.publicModule.exports = undefined;\n    throw e;\n  } finally {\n    if (__DEV__) {\n      if (initializingModuleIds.pop() !== moduleId) {\n        throw new Error(\n          \"initializingModuleIds is corrupt; something is terribly wrong\"\n        );\n      }\n      global.$RefreshReg$ = prevRefreshReg;\n      global.$RefreshSig$ = prevRefreshSig;\n    }\n  }\n}\nfunction unknownModuleError(id) {\n  let message = 'Requiring unknown module \"' + id + '\".';\n  if (__DEV__) {\n    message +=\n      \" If you are sure the module exists, try restarting Metro. \" +\n      \"You may also want to run `yarn` or `npm install`.\";\n  }\n  return Error(message);\n}\nif (__DEV__) {\n  metroRequire.Systrace = {\n    beginEvent: () => {},\n    endEvent: () => {},\n  };\n  metroRequire.getModules = () => {\n    return modules;\n  };\n  var createHotReloadingObject = function () {\n    const hot = {\n      _acceptCallback: null,\n      _disposeCallback: null,\n      _didAccept: false,\n      accept: (callback) => {\n        hot._didAccept = true;\n        hot._acceptCallback = callback;\n      },\n      dispose: (callback) => {\n        hot._disposeCallback = callback;\n      },\n    };\n    return hot;\n  };\n  let reactRefreshTimeout = null;\n  const metroHotUpdateModule = function (\n    id,\n    factory,\n    dependencyMap,\n    inverseDependencies\n  ) {\n    const mod = modules.get(id);\n    if (!mod) {\n      if (factory) {\n        return;\n      }\n      throw unknownModuleError(id);\n    }\n    if (!mod.hasError && !mod.isInitialized) {\n      mod.factory = factory;\n      mod.dependencyMap = dependencyMap;\n      return;\n    }\n    const Refresh = requireRefresh();\n    const refreshBoundaryIDs = new Set();\n    let didBailOut = false;\n    let updatedModuleIDs;\n    try {\n      updatedModuleIDs = topologicalSort(\n        [id],\n        (pendingID) => {\n          const pendingModule = modules.get(pendingID);\n          if (pendingModule == null) {\n            return [];\n          }\n          const pendingHot = pendingModule.hot;\n          if (pendingHot == null) {\n            throw new Error(\n              \"[Refresh] Expected module.hot to always exist in DEV.\"\n            );\n          }\n          let canAccept = pendingHot._didAccept;\n          if (!canAccept && Refresh != null) {\n            const isBoundary = isReactRefreshBoundary(\n              Refresh,\n              pendingModule.publicModule.exports\n            );\n            if (isBoundary) {\n              canAccept = true;\n              refreshBoundaryIDs.add(pendingID);\n            }\n          }\n          if (canAccept) {\n            return [];\n          }\n          const parentIDs = inverseDependencies[pendingID];\n          if (parentIDs.length === 0) {\n            performFullRefresh(\"No root boundary\", {\n              source: mod,\n              failed: pendingModule,\n            });\n            didBailOut = true;\n            return [];\n          }\n          return parentIDs;\n        },\n        () => didBailOut\n      ).reverse();\n    } catch (e) {\n      if (e === CYCLE_DETECTED) {\n        performFullRefresh(\"Dependency cycle\", {\n          source: mod,\n        });\n        return;\n      }\n      throw e;\n    }\n    if (didBailOut) {\n      return;\n    }\n    const seenModuleIDs = new Set();\n    for (let i = 0; i < updatedModuleIDs.length; i++) {\n      const updatedID = updatedModuleIDs[i];\n      if (seenModuleIDs.has(updatedID)) {\n        continue;\n      }\n      seenModuleIDs.add(updatedID);\n      const updatedMod = modules.get(updatedID);\n      if (updatedMod == null) {\n        throw new Error(\"[Refresh] Expected to find the updated module.\");\n      }\n      const prevExports = updatedMod.publicModule.exports;\n      const didError = runUpdatedModule(\n        updatedID,\n        updatedID === id ? factory : undefined,\n        updatedID === id ? dependencyMap : undefined\n      );\n      const nextExports = updatedMod.publicModule.exports;\n      if (didError) {\n        return;\n      }\n      if (refreshBoundaryIDs.has(updatedID)) {\n        const isNoLongerABoundary = !isReactRefreshBoundary(\n          Refresh,\n          nextExports\n        );\n        const didInvalidate = shouldInvalidateReactRefreshBoundary(\n          Refresh,\n          prevExports,\n          nextExports\n        );\n        if (isNoLongerABoundary || didInvalidate) {\n          const parentIDs = inverseDependencies[updatedID];\n          if (parentIDs.length === 0) {\n            performFullRefresh(\n              isNoLongerABoundary\n                ? \"No longer a boundary\"\n                : \"Invalidated boundary\",\n              {\n                source: mod,\n                failed: updatedMod,\n              }\n            );\n            return;\n          }\n          for (let j = 0; j < parentIDs.length; j++) {\n            const parentID = parentIDs[j];\n            const parentMod = modules.get(parentID);\n            if (parentMod == null) {\n              throw new Error(\"[Refresh] Expected to find parent module.\");\n            }\n            const canAcceptParent = isReactRefreshBoundary(\n              Refresh,\n              parentMod.publicModule.exports\n            );\n            if (canAcceptParent) {\n              refreshBoundaryIDs.add(parentID);\n              updatedModuleIDs.push(parentID);\n            } else {\n              performFullRefresh(\"Invalidated boundary\", {\n                source: mod,\n                failed: parentMod,\n              });\n              return;\n            }\n          }\n        }\n      }\n    }\n    if (Refresh != null) {\n      if (reactRefreshTimeout == null) {\n        reactRefreshTimeout = setTimeout(() => {\n          reactRefreshTimeout = null;\n          Refresh.performReactRefresh();\n        }, 30);\n      }\n    }\n  };\n  const topologicalSort = function (roots, getEdges, earlyStop) {\n    const result = [];\n    const visited = new Set();\n    const stack = new Set();\n    function traverseDependentNodes(node) {\n      if (stack.has(node)) {\n        throw CYCLE_DETECTED;\n      }\n      if (visited.has(node)) {\n        return;\n      }\n      visited.add(node);\n      stack.add(node);\n      const dependentNodes = getEdges(node);\n      if (earlyStop(node)) {\n        stack.delete(node);\n        return;\n      }\n      dependentNodes.forEach((dependent) => {\n        traverseDependentNodes(dependent);\n      });\n      stack.delete(node);\n      result.push(node);\n    }\n    roots.forEach((root) => {\n      traverseDependentNodes(root);\n    });\n    return result;\n  };\n  const runUpdatedModule = function (id, factory, dependencyMap) {\n    const mod = modules.get(id);\n    if (mod == null) {\n      throw new Error(\"[Refresh] Expected to find the module.\");\n    }\n    const { hot } = mod;\n    if (!hot) {\n      throw new Error(\"[Refresh] Expected module.hot to always exist in DEV.\");\n    }\n    if (hot._disposeCallback) {\n      try {\n        hot._disposeCallback();\n      } catch (error) {\n        console.error(\n          `Error while calling dispose handler for module ${id}: `,\n          error\n        );\n      }\n    }\n    if (factory) {\n      mod.factory = factory;\n    }\n    if (dependencyMap) {\n      mod.dependencyMap = dependencyMap;\n    }\n    mod.hasError = false;\n    mod.error = undefined;\n    mod.importedAll = EMPTY;\n    mod.importedDefault = EMPTY;\n    mod.isInitialized = false;\n    const prevExports = mod.publicModule.exports;\n    mod.publicModule.exports = {};\n    hot._didAccept = false;\n    hot._acceptCallback = null;\n    hot._disposeCallback = null;\n    metroRequire(id);\n    if (mod.hasError) {\n      mod.hasError = false;\n      mod.isInitialized = true;\n      mod.error = null;\n      mod.publicModule.exports = prevExports;\n      return true;\n    }\n    if (hot._acceptCallback) {\n      try {\n        hot._acceptCallback();\n      } catch (error) {\n        console.error(\n          `Error while calling accept handler for module ${id}: `,\n          error\n        );\n      }\n    }\n    return false;\n  };\n  const performFullRefresh = (reason, modules) => {\n    if (\n      typeof window !== \"undefined\" &&\n      window.location != null &&\n      typeof window.location.reload === \"function\"\n    ) {\n      window.location.reload();\n    } else {\n      const Refresh = requireRefresh();\n      if (Refresh != null) {\n        const sourceName = modules.source?.verboseName ?? \"unknown\";\n        const failedName = modules.failed?.verboseName ?? \"unknown\";\n        Refresh.performFullRefresh(\n          `Fast Refresh - ${reason} <${sourceName}> <${failedName}>`\n        );\n      } else {\n        console.warn(\"Could not reload the application after an edit.\");\n      }\n    }\n  };\n  var isReactRefreshBoundary = function (Refresh, moduleExports) {\n    if (Refresh.isLikelyComponentType(moduleExports)) {\n      return true;\n    }\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return false;\n    }\n    let hasExports = false;\n    let areAllExportsComponents = true;\n    for (const key in moduleExports) {\n      hasExports = true;\n      if (key === \"__esModule\") {\n        continue;\n      }\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        return false;\n      }\n      const exportValue = moduleExports[key];\n      if (!Refresh.isLikelyComponentType(exportValue)) {\n        areAllExportsComponents = false;\n      }\n    }\n    return hasExports && areAllExportsComponents;\n  };\n  var shouldInvalidateReactRefreshBoundary = (\n    Refresh,\n    prevExports,\n    nextExports\n  ) => {\n    const prevSignature = getRefreshBoundarySignature(Refresh, prevExports);\n    const nextSignature = getRefreshBoundarySignature(Refresh, nextExports);\n    if (prevSignature.length !== nextSignature.length) {\n      return true;\n    }\n    for (let i = 0; i < nextSignature.length; i++) {\n      if (prevSignature[i] !== nextSignature[i]) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var getRefreshBoundarySignature = (Refresh, moduleExports) => {\n    const signature = [];\n    signature.push(Refresh.getFamilyByType(moduleExports));\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return signature;\n    }\n    for (const key in moduleExports) {\n      if (key === \"__esModule\") {\n        continue;\n      }\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        continue;\n      }\n      const exportValue = moduleExports[key];\n      signature.push(key);\n      signature.push(Refresh.getFamilyByType(exportValue));\n    }\n    return signature;\n  };\n  var registerExportsForReactRefresh = (Refresh, moduleExports, moduleID) => {\n    Refresh.register(moduleExports, moduleID + \" %exports%\");\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return;\n    }\n    for (const key in moduleExports) {\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        continue;\n      }\n      const exportValue = moduleExports[key];\n      const typeID = moduleID + \" %exports% \" + key;\n      Refresh.register(exportValue, typeID);\n    }\n  };\n  global.__accept = metroHotUpdateModule;\n}\nif (__DEV__) {\n  var requireSystrace = function requireSystrace() {\n    return (\n      global[__METRO_GLOBAL_PREFIX__ + \"__SYSTRACE\"] || metroRequire.Systrace\n    );\n  };\n  var requireRefresh = function requireRefresh() {\n    return (\n      global[__METRO_GLOBAL_PREFIX__ + \"__ReactRefresh\"] ||\n      global[global.__METRO_GLOBAL_PREFIX__ + \"__ReactRefresh\"] ||\n      metroRequire.Refresh\n    );\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @noflow\n * @nolint\n * @polyfill\n */\n\n'use client';\n\n/* eslint-disable no-shadow, eqeqeq, no-unused-vars, no-control-regex  */\n\n/**\n * This pipes all of our console logging functions to native logging so that\n * JavaScript errors in required modules show up in Xcode via NSLog.\n */\nconst inspect = (function () {\n  // Copyright Joyent, Inc. and other Node contributors.\n  //\n  // Permission is hereby granted, free of charge, to any person obtaining a\n  // copy of this software and associated documentation files (the\n  // \"Software\"), to deal in the Software without restriction, including\n  // without limitation the rights to use, copy, modify, merge, publish,\n  // distribute, sublicense, and/or sell copies of the Software, and to permit\n  // persons to whom the Software is furnished to do so, subject to the\n  // following conditions:\n  //\n  // The above copyright notice and this permission notice shall be included\n  // in all copies or substantial portions of the Software.\n  //\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n  // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n  // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n  // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n  // USE OR OTHER DEALINGS IN THE SOFTWARE.\n  //\n  // https://github.com/joyent/node/blob/master/lib/util.js\n\n  function inspect(obj, opts) {\n    var ctx = {\n      seen: [],\n      formatValueCalls: 0,\n      stylize: stylizeNoColor,\n    };\n    return formatValue(ctx, obj, opts.depth);\n  }\n\n  function stylizeNoColor(str, styleType) {\n    return str;\n  }\n\n  function arrayToHash(array) {\n    var hash = {};\n\n    array.forEach(function (val, idx) {\n      hash[val] = true;\n    });\n\n    return hash;\n  }\n\n  function formatValue(ctx, value, recurseTimes) {\n    ctx.formatValueCalls++;\n    if (ctx.formatValueCalls > 200) {\n      return `[TOO BIG formatValueCalls ${ctx.formatValueCalls} exceeded limit of 200]`;\n    }\n\n    // Primitive types cannot have properties\n    var primitive = formatPrimitive(ctx, value);\n    if (primitive) {\n      return primitive;\n    }\n\n    // Look up the keys of the object.\n    var keys = Object.keys(value);\n    var visibleKeys = arrayToHash(keys);\n\n    // IE doesn't make error fields non-enumerable\n    // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n    if (\n      isError(value) &&\n      (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)\n    ) {\n      return formatError(value);\n    }\n\n    // Some type of object without properties can be shortcutted.\n    if (keys.length === 0) {\n      if (isFunction(value)) {\n        var name = value.name ? ': ' + value.name : '';\n        return ctx.stylize('[Function' + name + ']', 'special');\n      }\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      }\n      if (isDate(value)) {\n        return ctx.stylize(Date.prototype.toString.call(value), 'date');\n      }\n      if (isError(value)) {\n        return formatError(value);\n      }\n    }\n\n    var base = '',\n      array = false,\n      braces = ['{', '}'];\n\n    // Make Array say that they are Array\n    if (isArray(value)) {\n      array = true;\n      braces = ['[', ']'];\n    }\n\n    // Make functions say that they are functions\n    if (isFunction(value)) {\n      var n = value.name ? ': ' + value.name : '';\n      base = ' [Function' + n + ']';\n    }\n\n    // Make RegExps say that they are RegExps\n    if (isRegExp(value)) {\n      base = ' ' + RegExp.prototype.toString.call(value);\n    }\n\n    // Make dates with properties first say the date\n    if (isDate(value)) {\n      base = ' ' + Date.prototype.toUTCString.call(value);\n    }\n\n    // Make error with message first say the error\n    if (isError(value)) {\n      base = ' ' + formatError(value);\n    }\n\n    if (keys.length === 0 && (!array || value.length == 0)) {\n      return braces[0] + base + braces[1];\n    }\n\n    if (recurseTimes < 0) {\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      } else {\n        return ctx.stylize('[Object]', 'special');\n      }\n    }\n\n    ctx.seen.push(value);\n\n    var output;\n    if (array) {\n      output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n    } else {\n      output = keys.map(function (key) {\n        return formatProperty(\n          ctx,\n          value,\n          recurseTimes,\n          visibleKeys,\n          key,\n          array,\n        );\n      });\n    }\n\n    ctx.seen.pop();\n\n    return reduceToSingleString(output, base, braces);\n  }\n\n  function formatPrimitive(ctx, value) {\n    if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n    if (isString(value)) {\n      var simple =\n        \"'\" +\n        JSON.stringify(value)\n          .replace(/^\"|\"$/g, '')\n          .replace(/'/g, \"\\\\'\")\n          .replace(/\\\\\"/g, '\"') +\n        \"'\";\n      return ctx.stylize(simple, 'string');\n    }\n    if (isNumber(value)) return ctx.stylize('' + value, 'number');\n    if (isBoolean(value)) return ctx.stylize('' + value, 'boolean');\n    // For some reason typeof null is \"object\", so special case here.\n    if (isNull(value)) return ctx.stylize('null', 'null');\n  }\n\n  function formatError(value) {\n    return '[' + Error.prototype.toString.call(value) + ']';\n  }\n\n  function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n    var output = [];\n    for (var i = 0, l = value.length; i < l; ++i) {\n      if (hasOwnProperty(value, String(i))) {\n        output.push(\n          formatProperty(\n            ctx,\n            value,\n            recurseTimes,\n            visibleKeys,\n            String(i),\n            true,\n          ),\n        );\n      } else {\n        output.push('');\n      }\n    }\n    keys.forEach(function (key) {\n      if (!key.match(/^\\d+$/)) {\n        output.push(\n          formatProperty(ctx, value, recurseTimes, visibleKeys, key, true),\n        );\n      }\n    });\n    return output;\n  }\n\n  function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n    var name, str, desc;\n    desc = Object.getOwnPropertyDescriptor(value, key) || {value: value[key]};\n    if (desc.get) {\n      if (desc.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (desc.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n    if (!hasOwnProperty(visibleKeys, key)) {\n      name = '[' + key + ']';\n    }\n    if (!str) {\n      if (ctx.seen.indexOf(desc.value) < 0) {\n        if (isNull(recurseTimes)) {\n          str = formatValue(ctx, desc.value, null);\n        } else {\n          str = formatValue(ctx, desc.value, recurseTimes - 1);\n        }\n        if (str.indexOf('\\n') > -1) {\n          if (array) {\n            str = str\n              .split('\\n')\n              .map(function (line) {\n                return '  ' + line;\n              })\n              .join('\\n')\n              .slice(2);\n          } else {\n            str =\n              '\\n' +\n              str\n                .split('\\n')\n                .map(function (line) {\n                  return '   ' + line;\n                })\n                .join('\\n');\n          }\n        }\n      } else {\n        str = ctx.stylize('[Circular]', 'special');\n      }\n    }\n    if (isUndefined(name)) {\n      if (array && key.match(/^\\d+$/)) {\n        return str;\n      }\n      name = JSON.stringify('' + key);\n      if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n        name = name.slice(1, name.length - 1);\n        name = ctx.stylize(name, 'name');\n      } else {\n        name = name\n          .replace(/'/g, \"\\\\'\")\n          .replace(/\\\\\"/g, '\"')\n          .replace(/(^\"|\"$)/g, \"'\");\n        name = ctx.stylize(name, 'string');\n      }\n    }\n\n    return name + ': ' + str;\n  }\n\n  function reduceToSingleString(output, base, braces) {\n    var numLinesEst = 0;\n    var length = output.reduce(function (prev, cur) {\n      numLinesEst++;\n      if (cur.indexOf('\\n') >= 0) numLinesEst++;\n      return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n    }, 0);\n\n    if (length > 60) {\n      return (\n        braces[0] +\n        (base === '' ? '' : base + '\\n ') +\n        ' ' +\n        output.join(',\\n  ') +\n        ' ' +\n        braces[1]\n      );\n    }\n\n    return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n  }\n\n  // NOTE: These type checking functions intentionally don't use `instanceof`\n  // because it is fragile and can be easily faked with `Object.create()`.\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n\n  function isBoolean(arg) {\n    return typeof arg === 'boolean';\n  }\n\n  function isNull(arg) {\n    return arg === null;\n  }\n\n  function isNullOrUndefined(arg) {\n    return arg == null;\n  }\n\n  function isNumber(arg) {\n    return typeof arg === 'number';\n  }\n\n  function isString(arg) {\n    return typeof arg === 'string';\n  }\n\n  function isSymbol(arg) {\n    return typeof arg === 'symbol';\n  }\n\n  function isUndefined(arg) {\n    return arg === void 0;\n  }\n\n  function isRegExp(re) {\n    return isObject(re) && objectToString(re) === '[object RegExp]';\n  }\n\n  function isObject(arg) {\n    return typeof arg === 'object' && arg !== null;\n  }\n\n  function isDate(d) {\n    return isObject(d) && objectToString(d) === '[object Date]';\n  }\n\n  function isError(e) {\n    return (\n      isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error)\n    );\n  }\n\n  function isFunction(arg) {\n    return typeof arg === 'function';\n  }\n\n  function objectToString(o) {\n    return Object.prototype.toString.call(o);\n  }\n\n  function hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n  }\n\n  return inspect;\n})();\n\nconst INDEX_COLUMN_NAME = '(index)';\nconst LOG_LEVELS = {\n  trace: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n};\n\nfunction getNativeLogFunction(level) {\n  return function () {\n    let str;\n    if (arguments.length === 1 && typeof arguments[0] === 'string') {\n      str = arguments[0];\n    } else {\n      str = Array.prototype.map\n        .call(arguments, function (arg) {\n          return inspect(arg, {depth: 10});\n        })\n        .join(', ');\n    }\n\n    // TRICKY\n    // If more than one argument is provided, the code above collapses them all\n    // into a single formatted string. This transform wraps string arguments in\n    // single quotes (e.g. \"foo\" -> \"'foo'\") which then breaks the \"Warning:\"\n    // check below. So it's important that we look at the first argument, rather\n    // than the formatted argument string.\n    const firstArg = arguments[0];\n\n    let logLevel = level;\n    if (\n      typeof firstArg === 'string' &&\n      firstArg.slice(0, 9) === 'Warning: ' &&\n      logLevel >= LOG_LEVELS.error\n    ) {\n      // React warnings use console.error so that a stack trace is shown,\n      // but we don't (currently) want these to show a redbox\n      // (Note: Logic duplicated in ExceptionsManager.js.)\n      logLevel = LOG_LEVELS.warn;\n    }\n    if (groupStack.length) {\n      str = groupFormat('', str);\n    }\n    global.nativeLoggingHook(str, logLevel);\n  };\n}\n\nfunction repeat(element, n) {\n  return Array.apply(null, Array(n)).map(function () {\n    return element;\n  });\n}\n\nfunction formatCellValue(cell, key) {\n  if (key === INDEX_COLUMN_NAME) {\n    return cell[key];\n  }\n\n  if (cell.hasOwnProperty(key)) {\n    var cellValue = cell[key];\n\n    switch (typeof cellValue) {\n      case 'function':\n        return 'ƒ';\n      case 'string':\n        return \"'\" + cellValue + \"'\";\n      case 'object':\n        return cellValue == null ? 'null' : '{…}';\n    }\n\n    return String(cellValue);\n  }\n  return '';\n}\n\nfunction consoleTablePolyfill(data, columns) {\n  var rows;\n\n  // convert object -> array\n  if (Array.isArray(data)) {\n    rows = data.map((row, index) => {\n      var processedRow = {};\n      processedRow[INDEX_COLUMN_NAME] = String(index);\n      Object.assign(processedRow, row);\n      return processedRow;\n    });\n  } else {\n    rows = [];\n    for (var key in data) {\n      if (data.hasOwnProperty(key)) {\n        var processedRow = {};\n        processedRow[INDEX_COLUMN_NAME] = key;\n        Object.assign(processedRow, data[key]);\n        rows.push(processedRow);\n      }\n    }\n  }\n  if (rows.length === 0) {\n    global.nativeLoggingHook('', LOG_LEVELS.info);\n    return;\n  }\n\n  if (Array.isArray(columns)) {\n    columns = [INDEX_COLUMN_NAME].concat(columns);\n  } else {\n    columns = Array.from(\n      rows.reduce((columnSet, row) => {\n        Object.keys(row).forEach(key => columnSet.add(key));\n        return columnSet;\n      }, new Set()),\n    );\n  }\n  var stringRows = [];\n  var columnWidths = [];\n\n  // Convert each cell to a string. Also\n  // figure out max cell width for each column\n  columns.forEach(function (k, i) {\n    columnWidths[i] = k.length;\n    for (var j = 0; j < rows.length; j++) {\n      var cellStr = formatCellValue(rows[j], k);\n      stringRows[j] = stringRows[j] || [];\n      stringRows[j][i] = cellStr;\n      columnWidths[i] = Math.max(columnWidths[i], cellStr.length);\n    }\n  });\n\n  // Join all elements in the row into a single string with | separators\n  // (appends extra spaces to each cell to make separators  | aligned)\n  function joinRow(row, space) {\n    var cells = row.map(function (cell, i) {\n      var extraSpaces = repeat(' ', columnWidths[i] - cell.length).join('');\n      return cell + extraSpaces;\n    });\n    space = space || ' ';\n    return '| ' + cells.join(space + '|' + space) + ' |';\n  }\n\n  var separators = columnWidths.map(function (columnWidth) {\n    return repeat('-', columnWidth).join('');\n  });\n  var separatorRow = joinRow(separators);\n  var header = joinRow(columns);\n  var table = [header, separatorRow];\n\n  for (var i = 0; i < rows.length; i++) {\n    table.push(joinRow(stringRows[i]));\n  }\n\n  // Notice extra empty line at the beginning.\n  // Native logging hook adds \"RCTLog >\" at the front of every\n  // logged string, which would shift the header and screw up\n  // the table\n  global.nativeLoggingHook('\\n' + table.join('\\n'), LOG_LEVELS.info);\n}\n\nconst GROUP_PAD = '\\u2502'; // Box light vertical\nconst GROUP_OPEN = '\\u2510'; // Box light down+left\nconst GROUP_CLOSE = '\\u2518'; // Box light up+left\n\nconst groupStack = [];\n\nfunction groupFormat(prefix, msg) {\n  // Insert group formatting before the console message\n  return groupStack.join('') + prefix + ' ' + (msg || '');\n}\n\nfunction consoleGroupPolyfill(label) {\n  global.nativeLoggingHook(groupFormat(GROUP_OPEN, label), LOG_LEVELS.info);\n  groupStack.push(GROUP_PAD);\n}\n\nfunction consoleGroupCollapsedPolyfill(label) {\n  global.nativeLoggingHook(groupFormat(GROUP_CLOSE, label), LOG_LEVELS.info);\n  groupStack.push(GROUP_PAD);\n}\n\nfunction consoleGroupEndPolyfill() {\n  groupStack.pop();\n  global.nativeLoggingHook(groupFormat(GROUP_CLOSE), LOG_LEVELS.info);\n}\n\nfunction consoleAssertPolyfill(expression, label) {\n  if (!expression) {\n    global.nativeLoggingHook('Assertion failed: ' + label, LOG_LEVELS.error);\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/console/timeStamp_static.\n// Non-standard API for recording markers on a timeline of the Performance instrumentation.\n// The actual logging is not provided by definition.\nfunction consoleTimeStampPolyfill() {}\n\nif (global.nativeLoggingHook) {\n  const originalConsole = global.console;\n  // Preserve the original `console` as `originalConsole`\n  if (__DEV__ && originalConsole) {\n    const descriptor = Object.getOwnPropertyDescriptor(global, 'console');\n    if (descriptor) {\n      Object.defineProperty(global, 'originalConsole', descriptor);\n    }\n  }\n\n  global.console = {\n    timeStamp: consoleTimeStampPolyfill,\n    ...(originalConsole ?? {}),\n    error: getNativeLogFunction(LOG_LEVELS.error),\n    info: getNativeLogFunction(LOG_LEVELS.info),\n    log: getNativeLogFunction(LOG_LEVELS.info),\n    warn: getNativeLogFunction(LOG_LEVELS.warn),\n    trace: getNativeLogFunction(LOG_LEVELS.trace),\n    debug: getNativeLogFunction(LOG_LEVELS.trace),\n    table: consoleTablePolyfill,\n    group: consoleGroupPolyfill,\n    groupEnd: consoleGroupEndPolyfill,\n    groupCollapsed: consoleGroupCollapsedPolyfill,\n    assert: consoleAssertPolyfill,\n  };\n\n  // TODO(T206796580): This was copy-pasted from ExceptionsManager.js\n  // Delete the copy there after the c++ pipeline is rolled out everywhere.\n  if (global.RN$useAlwaysAvailableJSErrorHandling === true) {\n    let originalConsoleError = console.error;\n    console.reportErrorsAsExceptions = true;\n    function stringifySafe(arg) {\n      return inspect(arg, {depth: 10}).replace(/\\n\\s*/g, ' ');\n    }\n    console.error = function (...args) {\n      originalConsoleError.apply(this, args);\n      if (!console.reportErrorsAsExceptions) {\n        return;\n      }\n      if (global.RN$inExceptionHandler?.()) {\n        return;\n      }\n      let error;\n\n      const firstArg = args[0];\n      if (firstArg?.stack) {\n        // RN$handleException will console.error this with high enough fidelity.\n        error = firstArg;\n      } else {\n        if (typeof firstArg === 'string' && firstArg.startsWith('Warning: ')) {\n          // React warnings use console.error so that a stack trace is shown, but\n          // we don't (currently) want these to show a redbox\n          return;\n        }\n        const message = args\n          .map(arg => (typeof arg === 'string' ? arg : stringifySafe(arg)))\n          .join(' ');\n\n        error = new Error(message);\n        error.name = 'console.error';\n      }\n\n      const isFatal = false;\n      const reportToConsole = false;\n      global.RN$handleException(error, isFatal, reportToConsole);\n    };\n  }\n\n  Object.defineProperty(console, '_isPolyfilled', {\n    value: true,\n    enumerable: false,\n  });\n\n  // If available, also call the original `console` method since that is\n  // sometimes useful. Ex: on OS X, this will let you see rich output in\n  // the Safari Web Inspector console.\n  if (__DEV__ && originalConsole) {\n    Object.keys(console).forEach(methodName => {\n      const reactNativeMethod = console[methodName];\n      if (\n        originalConsole[methodName] &&\n        reactNativeMethod !== originalConsole[methodName]\n      ) {\n        console[methodName] = function () {\n          originalConsole[methodName](...arguments);\n          reactNativeMethod.apply(console, arguments);\n        };\n      }\n    });\n\n    // The following methods are not supported by this polyfill but\n    // we still should pass them to original console if they are\n    // supported by it.\n    ['clear', 'dir', 'dirxml', 'profile', 'profileEnd'].forEach(methodName => {\n      if (typeof originalConsole[methodName] === 'function') {\n        console[methodName] = function () {\n          originalConsole[methodName](...arguments);\n        };\n      }\n    });\n  }\n} else if (!global.console) {\n  function stub() {}\n  const log = global.print || stub;\n\n  global.console = {\n    debug: log,\n    error: log,\n    info: log,\n    log: log,\n    trace: log,\n    warn: log,\n    assert(expression, label) {\n      if (!expression) {\n        log('Assertion failed: ' + label);\n      }\n    },\n    clear: stub,\n    dir: stub,\n    dirxml: stub,\n    group: stub,\n    groupCollapsed: stub,\n    groupEnd: stub,\n    profile: stub,\n    profileEnd: stub,\n    table: stub,\n    timeStamp: stub,\n  };\n\n  Object.defineProperty(console, '_isPolyfilled', {\n    value: true,\n    enumerable: false,\n  });\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n * @polyfill\n */\n\nlet _inGuard = 0;\n\ntype ErrorHandler = (error: mixed, isFatal: boolean) => void;\ntype Fn<Args, Return> = (...Args) => Return;\n\n/**\n * This is the error handler that is called when we encounter an exception\n * when loading a module. This will report any errors encountered before\n * ExceptionsManager is configured.\n */\nlet _globalHandler: ErrorHandler =\n  global.RN$useAlwaysAvailableJSErrorHandling === true\n    ? global.RN$handleException\n    : (e: mixed, isFatal: boolean) => {\n        throw e;\n      };\n\n/**\n * The particular require runtime that we are using looks for a global\n * `ErrorUtils` object and if it exists, then it requires modules with the\n * error handler specified via ErrorUtils.setGlobalHandler by calling the\n * require function with applyWithGuard. Since the require module is loaded\n * before any of the modules, this ErrorUtils must be defined (and the handler\n * set) globally before requiring anything.\n */\nconst ErrorUtils = {\n  setGlobalHandler(fun: ErrorHandler): void {\n    _globalHandler = fun;\n  },\n  getGlobalHandler(): ErrorHandler {\n    return _globalHandler;\n  },\n  reportError(error: mixed): void {\n    _globalHandler && _globalHandler(error, false);\n  },\n  reportFatalError(error: mixed): void {\n    // NOTE: This has an untyped call site in Metro.\n    _globalHandler && _globalHandler(error, true);\n  },\n  applyWithGuard<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    context?: ?mixed,\n    args?: ?TArgs,\n    // Unused, but some code synced from www sets it to null.\n    unused_onError?: null,\n    // Some callers pass a name here, which we ignore.\n    unused_name?: ?string,\n  ): ?TOut {\n    try {\n      _inGuard++;\n      /* $FlowFixMe[incompatible-call] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      /* $FlowFixMe[incompatible-type] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      return fun.apply(context, args);\n    } catch (e) {\n      ErrorUtils.reportError(e);\n    } finally {\n      _inGuard--;\n    }\n    return null;\n  },\n  applyWithGuardIfNeeded<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    context?: ?mixed,\n    args?: ?TArgs,\n  ): ?TOut {\n    if (ErrorUtils.inGuard()) {\n      /* $FlowFixMe[incompatible-call] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      /* $FlowFixMe[incompatible-type] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      return fun.apply(context, args);\n    } else {\n      ErrorUtils.applyWithGuard(fun, context, args);\n    }\n    return null;\n  },\n  inGuard(): boolean {\n    return !!_inGuard;\n  },\n  guard<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    name?: ?string,\n    context?: ?mixed,\n  ): ?(...TArgs) => ?TOut {\n    // TODO: (moti) T48204753 Make sure this warning is never hit and remove it - types\n    // should be sufficient.\n    if (typeof fun !== 'function') {\n      console.warn('A function must be passed to ErrorUtils.guard, got ', fun);\n      return null;\n    }\n    const guardName = name ?? fun.name ?? '<generated guard>';\n    /* $FlowFixMe[missing-this-annot] The 'this' type annotation(s) required by\n     * Flow's LTI update could not be added via codemod */\n    function guarded(...args: TArgs): ?TOut {\n      return ErrorUtils.applyWithGuard(\n        fun,\n        context ?? this,\n        args,\n        null,\n        guardName,\n      );\n    }\n\n    return guarded;\n  },\n};\n\nglobal.ErrorUtils = ErrorUtils;\n\nexport type ErrorUtilsT = typeof ErrorUtils;\n","/**\n * OpenCV WebView Bridge Script\n * This script runs inside a WebView and handles OpenCV processing for React Native.\n * It communicates with the native side via postMessage.\n *\n * This file will be bundled with all its dependencies before being inlined into the WebView.\n */\n\nimport type { Mat } from \"@techstark/opencv-js\";\nimport type { ImageOperation } from \"./opencv-loader.d\";\nimport {\n  applyGeometryCorrection,\n  loadImageToMat,\n  matToDataUrl,\n} from \"./pipelines/opencv-core\";\n\ninterface OpenCVGlobal {\n  onRuntimeInitialized?: () => void;\n  Mat: new () => Mat;\n  matFromImageData: (imageData: ImageData) => Mat;\n  cvtColor: (src: Mat, dst: Mat, code: number) => void;\n  Canny: (src: Mat, dst: Mat, threshold1: number, threshold2: number) => void;\n  imshow: (canvas: HTMLCanvasElement, mat: Mat) => void;\n  COLOR_RGBA2GRAY: number;\n}\n\ndeclare const cv: OpenCVGlobal;\ndeclare const window: Window & {\n  ReactNativeWebView?: {\n    postMessage(message: string): void;\n  };\n};\n\nlet cvReady = false;\n\n/**\n * Forward console messages to React Native for better debugging.\n */\nfunction forwardConsoleToNative(): void {\n  const originalConsole = {\n    log: console.log,\n    warn: console.warn,\n    error: console.error,\n  };\n\n  console.log = (...args: Array<unknown>) => {\n    originalConsole.log(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"log\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n\n  console.warn = (...args: Array<unknown>) => {\n    originalConsole.warn(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"warn\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n\n  console.error = (...args: Array<unknown>) => {\n    originalConsole.error(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"error\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n}\n\n// Set up console forwarding\nforwardConsoleToNative();\n\n/**\n * Called when OpenCV.js is fully loaded and initialized.\n */\nfunction onOpenCvReady(): void {\n  cvReady = true;\n  console.log(\"[OpenCV WebView] OpenCV.js loaded successfully\");\n\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"opencv-ready\",\n      })\n    );\n  }\n}\n\n// Set the callback for OpenCV initialization\nif (typeof cv !== \"undefined\") {\n  cv.onRuntimeInitialized = onOpenCvReady;\n}\n\n/**\n * Message handler for processing requests from React Native.\n */\nwindow.addEventListener(\"message\", function (event) {\n  let message: {\n    type: string;\n    imageUri: string;\n    operations: Array<ImageOperation>;\n    requestId: string;\n  } | null = null;\n  try {\n    message = JSON.parse(event.data);\n\n    if (message === null) {\n      console.error(\"[OpenCV WebView] Message is null\");\n      return;\n    }\n\n    if (message.type === \"process-image\") {\n      processImage(message.imageUri, message.operations, message.requestId);\n    }\n  } catch (error) {\n    console.error(\"[OpenCV WebView] Error handling message:\", error);\n    if (message && message.requestId) {\n      sendError(message.requestId, (error as Error).message);\n    }\n  }\n});\n\n/**\n * Process an image with OpenCV operations.\n */\nasync function processImage(\n  imageUri: string,\n  operations: Array<ImageOperation>,\n  requestId: string\n): Promise<void> {\n  if (!cvReady) {\n    sendError(requestId, \"OpenCV not ready\");\n    return;\n  }\n\n  let src = null;\n  let processedMat = null;\n\n  try {\n    console.log(\n      \"[OpenCV WebView] Processing image with\",\n      operations.length,\n      \"operations\"\n    );\n\n    // Load image into OpenCV Mat using shared function\n    src = await loadImageToMat(cv, imageUri);\n    processedMat = src;\n\n    let debugData = undefined;\n\n    // Apply operations sequentially\n    for (const operation of operations) {\n      if (operation.type === \"passthrough\") {\n        continue;\n      } else if (operation.type === \"geometry\") {\n        // Use shared geometry correction function\n        const { mat: result, debug } = applyGeometryCorrection(\n          cv,\n          processedMat,\n          operation.debug\n        );\n        if (result) {\n          if (processedMat !== src) {\n            processedMat.delete();\n          }\n          processedMat = result;\n        }\n        if (debug) {\n          debugData = debug;\n        }\n      }\n    }\n\n    // Convert result to data URL using shared function\n    const processedUri = matToDataUrl(cv, processedMat);\n    sendResult(requestId, processedUri, debugData);\n  } catch (error) {\n    console.error(\"[OpenCV WebView] Processing error:\", error);\n    debugger;\n    sendError(requestId, (error as Error).message);\n  } finally {\n    if (src) {\n      src.delete();\n    }\n    if (processedMat && processedMat !== src) {\n      processedMat.delete();\n    }\n  }\n}\n\n/**\n * Send successful result back to React Native.\n */\nfunction sendResult(requestId: string, processedUri: string, debugData?: any): void {\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"process-result\",\n        requestId: requestId,\n        success: true,\n        processedUri: processedUri,\n        debug: debugData,\n      })\n    );\n  }\n}\n\n/**\n * Send error back to React Native.\n */\nfunction sendError(requestId: string, errorMessage: string): void {\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"process-result\",\n        requestId: requestId,\n        success: false,\n        error: errorMessage,\n      })\n    );\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Basic OpenCV demo functions to verify OpenCV setup works on web and native.\n * Performs simple Canny edge detection for demonstration purposes.\n */\n\nimport { Mat } from \"@techstark/opencv-js\";\nimport type { DebugVisualizationData } from \"../types\";\n\n/**\n * Result of geometry correction with optional debug data.\n */\nexport interface GeometryCorrectionResult {\n  mat: Mat | null;\n  debug?: DebugVisualizationData;\n}\n\n/**\n * Basic demo: Apply Canny edge detection and return original image.\n * This is a minimal demonstration to verify OpenCV is working.\n * @param cv - OpenCV instance\n * @param src - Source Mat\n * @param config - Geometry configuration (unused in demo)\n * @param collectDebugData - Whether to collect debug visualization data\n * @returns Original Mat with basic edge detection in debug data\n */\nexport function applyGeometryCorrection(\n  cv: {\n    Mat: new () => Mat;\n    cvtColor: (src: Mat, dst: Mat, code: number) => void;\n    Canny: (src: Mat, dst: Mat, threshold1: number, threshold2: number) => void;\n    imshow: (canvas: HTMLCanvasElement, mat: Mat) => void;\n    COLOR_RGBA2GRAY: number;\n  },\n  src: Mat,\n  collectDebugData: boolean = false\n): GeometryCorrectionResult {\n  let debugData: DebugVisualizationData | undefined;\n\n  if (collectDebugData) {\n    const gray = new cv.Mat();\n    const edges = new cv.Mat();\n\n    try {\n      cv.cvtColor(src, gray, cv.COLOR_RGBA2GRAY);\n      cv.Canny(gray, edges, 50, 150);\n\n      debugData = {\n        edges: matToDataUrl(cv, edges),\n        imageWidth: src.cols,\n        imageHeight: src.rows,\n      };\n    } finally {\n      gray.delete();\n      edges.delete();\n    }\n  }\n\n  console.log(\n    \"[OpenCV Demo] Returning original image with basic edge detection\"\n  );\n  return { mat: src, debug: debugData };\n}\n\n/**\n * Load an image from URI into an OpenCV Mat.\n * @param cv - OpenCV instance\n * @param imageUri - The image URI (data URL or file path)\n * @returns Promise resolving to OpenCV Mat\n */\nexport function loadImageToMat(\n  cv: { matFromImageData: (imageData: ImageData) => Mat },\n  imageUri: string\n): Promise<Mat> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = \"anonymous\";\n\n    img.onload = () => {\n      try {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n          reject(new Error(\"Failed to get canvas context\"));\n          return;\n        }\n\n        ctx.drawImage(img, 0, 0);\n\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        const mat = cv.matFromImageData(imageData);\n\n        resolve(mat);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    img.onerror = (error) => {\n      let errorMsg: string;\n      // Try to extract useful information from typical Image error/event objects.\n      if (error instanceof Error) {\n        errorMsg = error.message;\n      } else if (\n        error &&\n        typeof error === \"object\" &&\n        \"type\" in error &&\n        \"target\" in error\n      ) {\n        // Likely an Event (e.g., Event from <img> onerror)\n        const evt = error as Event & {\n          target?: EventTarget & { src?: string };\n        };\n        const src =\n          evt?.target && \"src\" in evt.target\n            ? (evt.target as any).src\n            : undefined;\n        errorMsg = `Event type: ${evt.type}${src ? `, image src: ${src}` : \"\"}`;\n      } else {\n        errorMsg = String(error);\n      }\n      reject(new Error(`Failed to load image: ${errorMsg}`));\n    };\n\n    img.src = imageUri;\n  });\n}\n\n/**\n * Convert an OpenCV Mat to a data URL.\n * @param cv - OpenCV instance\n * @param mat - OpenCV Mat\n * @param quality - JPEG quality (0-1)\n * @returns Data URL string\n */\nexport function matToDataUrl(\n  cv: { imshow: (canvas: HTMLCanvasElement, mat: Mat) => void },\n  mat: Mat,\n  quality: number = 0.92\n): string {\n  const canvas = document.createElement(\"canvas\");\n  cv.imshow(canvas, mat);\n  return canvas.toDataURL(\"image/jpeg\", quality);\n}\n"],"x_google_ignoreList":[0,1,2,3,4,6],"names":["global","__r","metroRequire","__METRO_GLOBAL_PREFIX__","define","__c","clear","__registerSegment","registerSegment","modules","EMPTY","CYCLE_DETECTED","_ref","hasOwnProperty","__DEV__","_global$$RefreshReg$","_global$$RefreshSig$","$RefreshReg$","$RefreshSig$","type","Map","verboseNamesToModuleIds","getModuleIdForVerboseName","verboseName","moduleId","get","Error","initializingModuleIds","factory","dependencyMap","has","inverseDependencies","arguments","__accept","mod","hasError","importedAll","importedDefault","isInitialized","publicModule","exports","set","hot","createHotReloadingObject","maybeNameForDev","console","warn","moduleIdReallyIsNumber","initializingIndex","indexOf","cycle","slice","map","id","_modules$get$verboseN","_modules$get","shouldPrintRequireCycle","push","join","module","guardedLoadModule","regExps","Array","isArray","isIgnored","some","regExp","test","every","metroImportDefault","maybeInitializedModule","__esModule","default","initializedModule","importDefault","metroImportAll","key","call","importAll","context","fallbackRequireContext","resolveWeak","fallbackRequireResolveWeak","inGuard","ErrorUtils","returnValue","loadModuleImplementation","e","reportFatalError","ID_MASK_SHIFT","LOCAL_ID_MASK","unpackModuleId","segmentId","localId","packModuleId","value","moduleDefinersBySegmentID","definingSegmentByModuleID","moduleDefiner","moduleIds","forEach","length","_definingSegmentByMod","definer","delete","nativeRequire","_unpackModuleId","unknownModuleError","error","Systrace","requireSystrace","Refresh","requireRefresh","_module","beginEvent","moduleObject","prevRefreshReg","prevRefreshSig","RefreshRuntime","prefixedModuleId","register","createSignatureFunctionForTransform","undefined","endEvent","registerExportsForReactRefresh","pop","message","getModules","_acceptCallback","_disposeCallback","_didAccept","accept","callback","dispose","reactRefreshTimeout","metroHotUpdateModule","refreshBoundaryIDs","Set","didBailOut","updatedModuleIDs","topologicalSort","pendingID","pendingModule","pendingHot","canAccept","isBoundary","isReactRefreshBoundary","add","parentIDs","performFullRefresh","source","failed","reverse","seenModuleIDs","i","updatedID","updatedMod","prevExports","didError","runUpdatedModule","nextExports","isNoLongerABoundary","didInvalidate","shouldInvalidateReactRefreshBoundary","j","parentID","parentMod","canAcceptParent","setTimeout","performReactRefresh","roots","getEdges","earlyStop","result","visited","stack","traverseDependentNodes","node","dependentNodes","dependent","root","reason","window","location","reload","_modules$source$verbo","_modules$source","_modules$failed$verbo","_modules$failed","sourceName","failedName","moduleExports","isLikelyComponentType","hasExports","areAllExportsComponents","desc","Object","getOwnPropertyDescriptor","exportValue","prevSignature","getRefreshBoundarySignature","nextSignature","signature","getFamilyByType","moduleID","typeID","globalThis","inspect","obj","opts","ctx","seen","formatValueCalls","stylize","stylizeNoColor","formatValue","depth","str","styleType","arrayToHash","array","hash","val","idx","recurseTimes","primitive","formatPrimitive","keys","visibleKeys","isError","formatError","isFunction","name","isRegExp","RegExp","prototype","toString","isDate","Date","base","braces","n","toUTCString","output","formatArray","formatProperty","reduceToSingleString","isUndefined","isString","simple","JSON","stringify","replace","isNumber","isBoolean","isNull","l","String","match","split","line","numLinesEst","reduce","prev","cur","ar","arg","isNullOrUndefined","isSymbol","re","isObject","objectToString","d","o","prop","INDEX_COLUMN_NAME","LOG_LEVELS","trace","info","getNativeLogFunction","level","firstArg","logLevel","groupStack","groupFormat","nativeLoggingHook","repeat","element","apply","formatCellValue","cell","cellValue","consoleTablePolyfill","data","columns","rows","row","index","processedRow","assign","concat","from","columnSet","stringRows","columnWidths","k","cellStr","Math","max","joinRow","space","cells","extraSpaces","separators","columnWidth","separatorRow","header","table","GROUP_PAD","GROUP_OPEN","GROUP_CLOSE","prefix","msg","consoleGroupPolyfill","label","consoleGroupCollapsedPolyfill","consoleGroupEndPolyfill","consoleAssertPolyfill","expression","consoleTimeStampPolyfill","originalConsole","descriptor","defineProperty","timeStamp","log","debug","group","groupEnd","groupCollapsed","assert","RN$useAlwaysAvailableJSErrorHandling","stringifySafe","originalConsoleError","reportErrorsAsExceptions","_len","args","_key","RN$inExceptionHandler","startsWith","isFatal","reportToConsole","RN$handleException","enumerable","methodName","reactNativeMethod","stub","print","dir","dirxml","profile","profileEnd","_inGuard","_globalHandler","setGlobalHandler","fun","getGlobalHandler","reportError","applyWithGuard","unused_onError","unused_name","applyWithGuardIfNeeded","guard","guardName","guarded","_pipelinesOpencvCore","require","_dependencyMap","cvReady","forwardConsoleToNative","ReactNativeWebView","postMessage","_len2","_key2","_len3","_key3","onOpenCvReady","cv","onRuntimeInitialized","addEventListener","event","parse","processImage","imageUri","operations","requestId","sendError","_x","_x2","_x3","_processImage","_asyncToGenerator","src","processedMat","loadImageToMat","debugData","operation","_applyGeometryCorrect","applyGeometryCorrection","mat","processedUri","matToDataUrl","sendResult","success","errorMessage","asyncGeneratorStep","t","r","a","c","u","done","Promise","resolve","then","_next","_throw","collectDebugData","gray","Mat","edges","cvtColor","COLOR_RGBA2GRAY","Canny","imageWidth","cols","imageHeight","reject","img","Image","crossOrigin","onload","canvas","document","createElement","width","height","getContext","drawImage","imageData","getImageData","matFromImageData","onerror","errorMsg","evt","target","quality","imshow","toDataURL"],"mappings":"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"}