{"version":3,"sources":["__prelude__","\u0000polyfill:environment-variables","/Users/eryk.napierala/Development/fasola/node_modules/metro-runtime/src/polyfills/require.js","/Users/eryk.napierala/Development/fasola/node_modules/@react-native/js-polyfills/console.js","/Users/eryk.napierala/Development/fasola/node_modules/@react-native/js-polyfills/error-guard.js","/Users/eryk.napierala/Development/fasola/lib/photo-processor/opencv-webview-bridge.ts","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/asyncToGenerator.js","/Users/eryk.napierala/Development/fasola/lib/photo-processor/pipelines/opencv-core.ts","/Users/eryk.napierala/Development/fasola/lib/photo-processor/optimization/dewarp-optimizer.ts","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/toConsumableArray.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/iterableToArray.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/nonIterableSpread.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-levenberg-marquardt/lib/index.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-levenberg-marquardt/lib/checkOptions.js","/Users/eryk.napierala/Development/fasola/node_modules/is-any-array/lib/index.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-levenberg-marquardt/lib/errorCalculation.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-levenberg-marquardt/lib/step.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-matrix/matrix.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/superPropGet.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/get.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/superPropBase.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/getPrototypeOf.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/callSuper.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/typeof.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/assertThisInitialized.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/inherits.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/setPrototypeOf.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/classPrivateFieldLooseBase.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/classPrivateFieldLooseKey.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/slicedToArray.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/arrayWithHoles.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/nonIterableRest.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/readOnlyError.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/classCallCheck.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/createClass.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/toPropertyKey.js","/Users/eryk.napierala/Development/fasola/node_modules/@babel/runtime/helpers/toPrimitive.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-array-rescale/lib/index.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-array-max/lib/index.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-array-min/lib/index.js","/Users/eryk.napierala/Development/fasola/node_modules/ml-levenberg-marquardt/lib/gradientFunction.js","/Users/eryk.napierala/Development/fasola/lib/photo-processor/pipelines/page-dewarp-core.ts","/Users/eryk.napierala/Development/fasola/lib/photo-processor/types.ts","/Users/eryk.napierala/Development/fasola/lib/photo-processor/pipelines/page-dewarp-preprocessing.ts","/Users/eryk.napierala/Development/fasola/lib/photo-processor/pipelines/page-dewarp-remap.ts"],"sourcesContent":["var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=true,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='',__requireCycleIgnorePatterns=[/(^|\\/|\\\\)node_modules($|\\/|\\\\)/];process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||\"development\";","/* HMR env vars from Expo CLI (dev-only) */ process.env=Object.defineProperties(process.env, {});","\"use strict\";\n\nglobal.__r = metroRequire;\nglobal[`${__METRO_GLOBAL_PREFIX__}__d`] = define;\nglobal.__c = clear;\nglobal.__registerSegment = registerSegment;\nvar modules = clear();\nconst EMPTY = {};\nconst CYCLE_DETECTED = {};\nconst { hasOwnProperty } = {};\nif (__DEV__) {\n  global.$RefreshReg$ = global.$RefreshReg$ ?? (() => {});\n  global.$RefreshSig$ = global.$RefreshSig$ ?? (() => (type) => type);\n}\nfunction clear() {\n  modules = new Map();\n  return modules;\n}\nif (__DEV__) {\n  var verboseNamesToModuleIds = new Map();\n  var getModuleIdForVerboseName = (verboseName) => {\n    const moduleId = verboseNamesToModuleIds.get(verboseName);\n    if (moduleId == null) {\n      throw new Error(`Unknown named module: \"${verboseName}\"`);\n    }\n    return moduleId;\n  };\n  var initializingModuleIds = [];\n}\nfunction define(factory, moduleId, dependencyMap) {\n  if (modules.has(moduleId)) {\n    if (__DEV__) {\n      const inverseDependencies = arguments[4];\n      if (inverseDependencies) {\n        global.__accept(moduleId, factory, dependencyMap, inverseDependencies);\n      }\n    }\n    return;\n  }\n  const mod = {\n    dependencyMap,\n    factory,\n    hasError: false,\n    importedAll: EMPTY,\n    importedDefault: EMPTY,\n    isInitialized: false,\n    publicModule: {\n      exports: {},\n    },\n  };\n  modules.set(moduleId, mod);\n  if (__DEV__) {\n    mod.hot = createHotReloadingObject();\n    const verboseName = arguments[3];\n    if (verboseName) {\n      mod.verboseName = verboseName;\n      verboseNamesToModuleIds.set(verboseName, moduleId);\n    }\n  }\n}\nfunction metroRequire(moduleId, maybeNameForDev) {\n  if (moduleId === null) {\n    if (__DEV__ && typeof maybeNameForDev === \"string\") {\n      throw new Error(\"Cannot find module '\" + maybeNameForDev + \"'\");\n    }\n    throw new Error(\"Cannot find module\");\n  }\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n    console.warn(\n      `Requiring module \"${verboseName}\" by name is only supported for ` +\n        \"debugging purposes and will BREAK IN PRODUCTION!\"\n    );\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  if (__DEV__) {\n    const initializingIndex = initializingModuleIds.indexOf(\n      moduleIdReallyIsNumber\n    );\n    if (initializingIndex !== -1) {\n      const cycle = initializingModuleIds\n        .slice(initializingIndex)\n        .map((id) => modules.get(id)?.verboseName ?? \"[unknown]\");\n      if (shouldPrintRequireCycle(cycle)) {\n        cycle.push(cycle[0]);\n        console.warn(\n          `Require cycle: ${cycle.join(\" -> \")}\\n\\n` +\n            \"Require cycles are allowed, but can result in uninitialized values. \" +\n            \"Consider refactoring to remove the need for a cycle.\"\n        );\n      }\n    }\n  }\n  const module = modules.get(moduleIdReallyIsNumber);\n  return module && module.isInitialized\n    ? module.publicModule.exports\n    : guardedLoadModule(moduleIdReallyIsNumber, module);\n}\nfunction shouldPrintRequireCycle(modules) {\n  const regExps =\n    global[__METRO_GLOBAL_PREFIX__ + \"__requireCycleIgnorePatterns\"];\n  if (!Array.isArray(regExps)) {\n    return true;\n  }\n  const isIgnored = (module) =>\n    module != null && regExps.some((regExp) => regExp.test(module));\n  return modules.every((module) => !isIgnored(module));\n}\nfunction metroImportDefault(moduleId) {\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  const maybeInitializedModule = modules.get(moduleIdReallyIsNumber);\n  if (\n    maybeInitializedModule &&\n    maybeInitializedModule.importedDefault !== EMPTY\n  ) {\n    return maybeInitializedModule.importedDefault;\n  }\n  const exports = metroRequire(moduleIdReallyIsNumber);\n  const importedDefault =\n    exports && exports.__esModule ? exports.default : exports;\n  const initializedModule = modules.get(moduleIdReallyIsNumber);\n  return (initializedModule.importedDefault = importedDefault);\n}\nmetroRequire.importDefault = metroImportDefault;\nfunction metroImportAll(moduleId) {\n  if (__DEV__ && typeof moduleId === \"string\") {\n    const verboseName = moduleId;\n    moduleId = getModuleIdForVerboseName(verboseName);\n  }\n  const moduleIdReallyIsNumber = moduleId;\n  const maybeInitializedModule = modules.get(moduleIdReallyIsNumber);\n  if (maybeInitializedModule && maybeInitializedModule.importedAll !== EMPTY) {\n    return maybeInitializedModule.importedAll;\n  }\n  const exports = metroRequire(moduleIdReallyIsNumber);\n  let importedAll;\n  if (exports && exports.__esModule) {\n    importedAll = exports;\n  } else {\n    importedAll = {};\n    if (exports) {\n      for (const key in exports) {\n        if (hasOwnProperty.call(exports, key)) {\n          importedAll[key] = exports[key];\n        }\n      }\n    }\n    importedAll.default = exports;\n  }\n  const initializedModule = modules.get(moduleIdReallyIsNumber);\n  return (initializedModule.importedAll = importedAll);\n}\nmetroRequire.importAll = metroImportAll;\nmetroRequire.context = function fallbackRequireContext() {\n  if (__DEV__) {\n    throw new Error(\n      \"The experimental Metro feature `require.context` is not enabled in your project.\\nThis can be enabled by setting the `transformer.unstable_allowRequireContext` property to `true` in your Metro configuration.\"\n    );\n  }\n  throw new Error(\n    \"The experimental Metro feature `require.context` is not enabled in your project.\"\n  );\n};\nmetroRequire.resolveWeak = function fallbackRequireResolveWeak() {\n  if (__DEV__) {\n    throw new Error(\n      \"require.resolveWeak cannot be called dynamically. Ensure you are using the same version of `metro` and `metro-runtime`.\"\n    );\n  }\n  throw new Error(\"require.resolveWeak cannot be called dynamically.\");\n};\nlet inGuard = false;\nfunction guardedLoadModule(moduleId, module) {\n  if (!inGuard && global.ErrorUtils) {\n    inGuard = true;\n    let returnValue;\n    try {\n      returnValue = loadModuleImplementation(moduleId, module);\n    } catch (e) {\n      global.ErrorUtils.reportFatalError(e);\n    }\n    inGuard = false;\n    return returnValue;\n  } else {\n    return loadModuleImplementation(moduleId, module);\n  }\n}\nconst ID_MASK_SHIFT = 16;\nconst LOCAL_ID_MASK = ~0 >>> ID_MASK_SHIFT;\nfunction unpackModuleId(moduleId) {\n  const segmentId = moduleId >>> ID_MASK_SHIFT;\n  const localId = moduleId & LOCAL_ID_MASK;\n  return {\n    segmentId,\n    localId,\n  };\n}\nmetroRequire.unpackModuleId = unpackModuleId;\nfunction packModuleId(value) {\n  return (value.segmentId << ID_MASK_SHIFT) + value.localId;\n}\nmetroRequire.packModuleId = packModuleId;\nconst moduleDefinersBySegmentID = [];\nconst definingSegmentByModuleID = new Map();\nfunction registerSegment(segmentId, moduleDefiner, moduleIds) {\n  moduleDefinersBySegmentID[segmentId] = moduleDefiner;\n  if (__DEV__) {\n    if (segmentId === 0 && moduleIds) {\n      throw new Error(\n        \"registerSegment: Expected moduleIds to be null for main segment\"\n      );\n    }\n    if (segmentId !== 0 && !moduleIds) {\n      throw new Error(\n        \"registerSegment: Expected moduleIds to be passed for segment #\" +\n          segmentId\n      );\n    }\n  }\n  if (moduleIds) {\n    moduleIds.forEach((moduleId) => {\n      if (!modules.has(moduleId) && !definingSegmentByModuleID.has(moduleId)) {\n        definingSegmentByModuleID.set(moduleId, segmentId);\n      }\n    });\n  }\n}\nfunction loadModuleImplementation(moduleId, module) {\n  if (!module && moduleDefinersBySegmentID.length > 0) {\n    const segmentId = definingSegmentByModuleID.get(moduleId) ?? 0;\n    const definer = moduleDefinersBySegmentID[segmentId];\n    if (definer != null) {\n      definer(moduleId);\n      module = modules.get(moduleId);\n      definingSegmentByModuleID.delete(moduleId);\n    }\n  }\n  const nativeRequire = global.nativeRequire;\n  if (!module && nativeRequire) {\n    const { segmentId, localId } = unpackModuleId(moduleId);\n    nativeRequire(localId, segmentId);\n    module = modules.get(moduleId);\n  }\n  if (!module) {\n    throw unknownModuleError(moduleId);\n  }\n  if (module.hasError) {\n    throw module.error;\n  }\n  if (__DEV__) {\n    var Systrace = requireSystrace();\n    var Refresh = requireRefresh();\n  }\n  module.isInitialized = true;\n  const { factory, dependencyMap } = module;\n  if (__DEV__) {\n    initializingModuleIds.push(moduleId);\n  }\n  try {\n    if (__DEV__) {\n      Systrace.beginEvent(\"JS_require_\" + (module.verboseName || moduleId));\n    }\n    const moduleObject = module.publicModule;\n    if (__DEV__) {\n      moduleObject.hot = module.hot;\n      var prevRefreshReg = global.$RefreshReg$;\n      var prevRefreshSig = global.$RefreshSig$;\n      if (Refresh != null) {\n        const RefreshRuntime = Refresh;\n        global.$RefreshReg$ = (type, id) => {\n          const prefixedModuleId =\n            __METRO_GLOBAL_PREFIX__ + \" \" + moduleId + \" \" + id;\n          RefreshRuntime.register(type, prefixedModuleId);\n        };\n        global.$RefreshSig$ =\n          RefreshRuntime.createSignatureFunctionForTransform;\n      }\n    }\n    moduleObject.id = moduleId;\n    factory(\n      global,\n      metroRequire,\n      metroImportDefault,\n      metroImportAll,\n      moduleObject,\n      moduleObject.exports,\n      dependencyMap\n    );\n    if (!__DEV__) {\n      module.factory = undefined;\n      module.dependencyMap = undefined;\n    }\n    if (__DEV__) {\n      Systrace.endEvent();\n      if (Refresh != null) {\n        const prefixedModuleId = __METRO_GLOBAL_PREFIX__ + \" \" + moduleId;\n        registerExportsForReactRefresh(\n          Refresh,\n          moduleObject.exports,\n          prefixedModuleId\n        );\n      }\n    }\n    return moduleObject.exports;\n  } catch (e) {\n    module.hasError = true;\n    module.error = e;\n    module.isInitialized = false;\n    module.publicModule.exports = undefined;\n    throw e;\n  } finally {\n    if (__DEV__) {\n      if (initializingModuleIds.pop() !== moduleId) {\n        throw new Error(\n          \"initializingModuleIds is corrupt; something is terribly wrong\"\n        );\n      }\n      global.$RefreshReg$ = prevRefreshReg;\n      global.$RefreshSig$ = prevRefreshSig;\n    }\n  }\n}\nfunction unknownModuleError(id) {\n  let message = 'Requiring unknown module \"' + id + '\".';\n  if (__DEV__) {\n    message +=\n      \" If you are sure the module exists, try restarting Metro. \" +\n      \"You may also want to run `yarn` or `npm install`.\";\n  }\n  return Error(message);\n}\nif (__DEV__) {\n  metroRequire.Systrace = {\n    beginEvent: () => {},\n    endEvent: () => {},\n  };\n  metroRequire.getModules = () => {\n    return modules;\n  };\n  var createHotReloadingObject = function () {\n    const hot = {\n      _acceptCallback: null,\n      _disposeCallback: null,\n      _didAccept: false,\n      accept: (callback) => {\n        hot._didAccept = true;\n        hot._acceptCallback = callback;\n      },\n      dispose: (callback) => {\n        hot._disposeCallback = callback;\n      },\n    };\n    return hot;\n  };\n  let reactRefreshTimeout = null;\n  const metroHotUpdateModule = function (\n    id,\n    factory,\n    dependencyMap,\n    inverseDependencies\n  ) {\n    const mod = modules.get(id);\n    if (!mod) {\n      if (factory) {\n        return;\n      }\n      throw unknownModuleError(id);\n    }\n    if (!mod.hasError && !mod.isInitialized) {\n      mod.factory = factory;\n      mod.dependencyMap = dependencyMap;\n      return;\n    }\n    const Refresh = requireRefresh();\n    const refreshBoundaryIDs = new Set();\n    let didBailOut = false;\n    let updatedModuleIDs;\n    try {\n      updatedModuleIDs = topologicalSort(\n        [id],\n        (pendingID) => {\n          const pendingModule = modules.get(pendingID);\n          if (pendingModule == null) {\n            return [];\n          }\n          const pendingHot = pendingModule.hot;\n          if (pendingHot == null) {\n            throw new Error(\n              \"[Refresh] Expected module.hot to always exist in DEV.\"\n            );\n          }\n          let canAccept = pendingHot._didAccept;\n          if (!canAccept && Refresh != null) {\n            const isBoundary = isReactRefreshBoundary(\n              Refresh,\n              pendingModule.publicModule.exports\n            );\n            if (isBoundary) {\n              canAccept = true;\n              refreshBoundaryIDs.add(pendingID);\n            }\n          }\n          if (canAccept) {\n            return [];\n          }\n          const parentIDs = inverseDependencies[pendingID];\n          if (parentIDs.length === 0) {\n            performFullRefresh(\"No root boundary\", {\n              source: mod,\n              failed: pendingModule,\n            });\n            didBailOut = true;\n            return [];\n          }\n          return parentIDs;\n        },\n        () => didBailOut\n      ).reverse();\n    } catch (e) {\n      if (e === CYCLE_DETECTED) {\n        performFullRefresh(\"Dependency cycle\", {\n          source: mod,\n        });\n        return;\n      }\n      throw e;\n    }\n    if (didBailOut) {\n      return;\n    }\n    const seenModuleIDs = new Set();\n    for (let i = 0; i < updatedModuleIDs.length; i++) {\n      const updatedID = updatedModuleIDs[i];\n      if (seenModuleIDs.has(updatedID)) {\n        continue;\n      }\n      seenModuleIDs.add(updatedID);\n      const updatedMod = modules.get(updatedID);\n      if (updatedMod == null) {\n        throw new Error(\"[Refresh] Expected to find the updated module.\");\n      }\n      const prevExports = updatedMod.publicModule.exports;\n      const didError = runUpdatedModule(\n        updatedID,\n        updatedID === id ? factory : undefined,\n        updatedID === id ? dependencyMap : undefined\n      );\n      const nextExports = updatedMod.publicModule.exports;\n      if (didError) {\n        return;\n      }\n      if (refreshBoundaryIDs.has(updatedID)) {\n        const isNoLongerABoundary = !isReactRefreshBoundary(\n          Refresh,\n          nextExports\n        );\n        const didInvalidate = shouldInvalidateReactRefreshBoundary(\n          Refresh,\n          prevExports,\n          nextExports\n        );\n        if (isNoLongerABoundary || didInvalidate) {\n          const parentIDs = inverseDependencies[updatedID];\n          if (parentIDs.length === 0) {\n            performFullRefresh(\n              isNoLongerABoundary\n                ? \"No longer a boundary\"\n                : \"Invalidated boundary\",\n              {\n                source: mod,\n                failed: updatedMod,\n              }\n            );\n            return;\n          }\n          for (let j = 0; j < parentIDs.length; j++) {\n            const parentID = parentIDs[j];\n            const parentMod = modules.get(parentID);\n            if (parentMod == null) {\n              throw new Error(\"[Refresh] Expected to find parent module.\");\n            }\n            const canAcceptParent = isReactRefreshBoundary(\n              Refresh,\n              parentMod.publicModule.exports\n            );\n            if (canAcceptParent) {\n              refreshBoundaryIDs.add(parentID);\n              updatedModuleIDs.push(parentID);\n            } else {\n              performFullRefresh(\"Invalidated boundary\", {\n                source: mod,\n                failed: parentMod,\n              });\n              return;\n            }\n          }\n        }\n      }\n    }\n    if (Refresh != null) {\n      if (reactRefreshTimeout == null) {\n        reactRefreshTimeout = setTimeout(() => {\n          reactRefreshTimeout = null;\n          Refresh.performReactRefresh();\n        }, 30);\n      }\n    }\n  };\n  const topologicalSort = function (roots, getEdges, earlyStop) {\n    const result = [];\n    const visited = new Set();\n    const stack = new Set();\n    function traverseDependentNodes(node) {\n      if (stack.has(node)) {\n        throw CYCLE_DETECTED;\n      }\n      if (visited.has(node)) {\n        return;\n      }\n      visited.add(node);\n      stack.add(node);\n      const dependentNodes = getEdges(node);\n      if (earlyStop(node)) {\n        stack.delete(node);\n        return;\n      }\n      dependentNodes.forEach((dependent) => {\n        traverseDependentNodes(dependent);\n      });\n      stack.delete(node);\n      result.push(node);\n    }\n    roots.forEach((root) => {\n      traverseDependentNodes(root);\n    });\n    return result;\n  };\n  const runUpdatedModule = function (id, factory, dependencyMap) {\n    const mod = modules.get(id);\n    if (mod == null) {\n      throw new Error(\"[Refresh] Expected to find the module.\");\n    }\n    const { hot } = mod;\n    if (!hot) {\n      throw new Error(\"[Refresh] Expected module.hot to always exist in DEV.\");\n    }\n    if (hot._disposeCallback) {\n      try {\n        hot._disposeCallback();\n      } catch (error) {\n        console.error(\n          `Error while calling dispose handler for module ${id}: `,\n          error\n        );\n      }\n    }\n    if (factory) {\n      mod.factory = factory;\n    }\n    if (dependencyMap) {\n      mod.dependencyMap = dependencyMap;\n    }\n    mod.hasError = false;\n    mod.error = undefined;\n    mod.importedAll = EMPTY;\n    mod.importedDefault = EMPTY;\n    mod.isInitialized = false;\n    const prevExports = mod.publicModule.exports;\n    mod.publicModule.exports = {};\n    hot._didAccept = false;\n    hot._acceptCallback = null;\n    hot._disposeCallback = null;\n    metroRequire(id);\n    if (mod.hasError) {\n      mod.hasError = false;\n      mod.isInitialized = true;\n      mod.error = null;\n      mod.publicModule.exports = prevExports;\n      return true;\n    }\n    if (hot._acceptCallback) {\n      try {\n        hot._acceptCallback();\n      } catch (error) {\n        console.error(\n          `Error while calling accept handler for module ${id}: `,\n          error\n        );\n      }\n    }\n    return false;\n  };\n  const performFullRefresh = (reason, modules) => {\n    if (\n      typeof window !== \"undefined\" &&\n      window.location != null &&\n      typeof window.location.reload === \"function\"\n    ) {\n      window.location.reload();\n    } else {\n      const Refresh = requireRefresh();\n      if (Refresh != null) {\n        const sourceName = modules.source?.verboseName ?? \"unknown\";\n        const failedName = modules.failed?.verboseName ?? \"unknown\";\n        Refresh.performFullRefresh(\n          `Fast Refresh - ${reason} <${sourceName}> <${failedName}>`\n        );\n      } else {\n        console.warn(\"Could not reload the application after an edit.\");\n      }\n    }\n  };\n  var isReactRefreshBoundary = function (Refresh, moduleExports) {\n    if (Refresh.isLikelyComponentType(moduleExports)) {\n      return true;\n    }\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return false;\n    }\n    let hasExports = false;\n    let areAllExportsComponents = true;\n    for (const key in moduleExports) {\n      hasExports = true;\n      if (key === \"__esModule\") {\n        continue;\n      }\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        return false;\n      }\n      const exportValue = moduleExports[key];\n      if (!Refresh.isLikelyComponentType(exportValue)) {\n        areAllExportsComponents = false;\n      }\n    }\n    return hasExports && areAllExportsComponents;\n  };\n  var shouldInvalidateReactRefreshBoundary = (\n    Refresh,\n    prevExports,\n    nextExports\n  ) => {\n    const prevSignature = getRefreshBoundarySignature(Refresh, prevExports);\n    const nextSignature = getRefreshBoundarySignature(Refresh, nextExports);\n    if (prevSignature.length !== nextSignature.length) {\n      return true;\n    }\n    for (let i = 0; i < nextSignature.length; i++) {\n      if (prevSignature[i] !== nextSignature[i]) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var getRefreshBoundarySignature = (Refresh, moduleExports) => {\n    const signature = [];\n    signature.push(Refresh.getFamilyByType(moduleExports));\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return signature;\n    }\n    for (const key in moduleExports) {\n      if (key === \"__esModule\") {\n        continue;\n      }\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        continue;\n      }\n      const exportValue = moduleExports[key];\n      signature.push(key);\n      signature.push(Refresh.getFamilyByType(exportValue));\n    }\n    return signature;\n  };\n  var registerExportsForReactRefresh = (Refresh, moduleExports, moduleID) => {\n    Refresh.register(moduleExports, moduleID + \" %exports%\");\n    if (moduleExports == null || typeof moduleExports !== \"object\") {\n      return;\n    }\n    for (const key in moduleExports) {\n      const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n      if (desc && desc.get) {\n        continue;\n      }\n      const exportValue = moduleExports[key];\n      const typeID = moduleID + \" %exports% \" + key;\n      Refresh.register(exportValue, typeID);\n    }\n  };\n  global.__accept = metroHotUpdateModule;\n}\nif (__DEV__) {\n  var requireSystrace = function requireSystrace() {\n    return (\n      global[__METRO_GLOBAL_PREFIX__ + \"__SYSTRACE\"] || metroRequire.Systrace\n    );\n  };\n  var requireRefresh = function requireRefresh() {\n    return (\n      global[__METRO_GLOBAL_PREFIX__ + \"__ReactRefresh\"] ||\n      global[global.__METRO_GLOBAL_PREFIX__ + \"__ReactRefresh\"] ||\n      metroRequire.Refresh\n    );\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @noflow\n * @nolint\n * @polyfill\n */\n\n'use client';\n\n/* eslint-disable no-shadow, eqeqeq, no-unused-vars, no-control-regex  */\n\n/**\n * This pipes all of our console logging functions to native logging so that\n * JavaScript errors in required modules show up in Xcode via NSLog.\n */\nconst inspect = (function () {\n  // Copyright Joyent, Inc. and other Node contributors.\n  //\n  // Permission is hereby granted, free of charge, to any person obtaining a\n  // copy of this software and associated documentation files (the\n  // \"Software\"), to deal in the Software without restriction, including\n  // without limitation the rights to use, copy, modify, merge, publish,\n  // distribute, sublicense, and/or sell copies of the Software, and to permit\n  // persons to whom the Software is furnished to do so, subject to the\n  // following conditions:\n  //\n  // The above copyright notice and this permission notice shall be included\n  // in all copies or substantial portions of the Software.\n  //\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n  // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n  // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n  // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n  // USE OR OTHER DEALINGS IN THE SOFTWARE.\n  //\n  // https://github.com/joyent/node/blob/master/lib/util.js\n\n  function inspect(obj, opts) {\n    var ctx = {\n      seen: [],\n      formatValueCalls: 0,\n      stylize: stylizeNoColor,\n    };\n    return formatValue(ctx, obj, opts.depth);\n  }\n\n  function stylizeNoColor(str, styleType) {\n    return str;\n  }\n\n  function arrayToHash(array) {\n    var hash = {};\n\n    array.forEach(function (val, idx) {\n      hash[val] = true;\n    });\n\n    return hash;\n  }\n\n  function formatValue(ctx, value, recurseTimes) {\n    ctx.formatValueCalls++;\n    if (ctx.formatValueCalls > 200) {\n      return `[TOO BIG formatValueCalls ${ctx.formatValueCalls} exceeded limit of 200]`;\n    }\n\n    // Primitive types cannot have properties\n    var primitive = formatPrimitive(ctx, value);\n    if (primitive) {\n      return primitive;\n    }\n\n    // Look up the keys of the object.\n    var keys = Object.keys(value);\n    var visibleKeys = arrayToHash(keys);\n\n    // IE doesn't make error fields non-enumerable\n    // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n    if (\n      isError(value) &&\n      (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)\n    ) {\n      return formatError(value);\n    }\n\n    // Some type of object without properties can be shortcutted.\n    if (keys.length === 0) {\n      if (isFunction(value)) {\n        var name = value.name ? ': ' + value.name : '';\n        return ctx.stylize('[Function' + name + ']', 'special');\n      }\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      }\n      if (isDate(value)) {\n        return ctx.stylize(Date.prototype.toString.call(value), 'date');\n      }\n      if (isError(value)) {\n        return formatError(value);\n      }\n    }\n\n    var base = '',\n      array = false,\n      braces = ['{', '}'];\n\n    // Make Array say that they are Array\n    if (isArray(value)) {\n      array = true;\n      braces = ['[', ']'];\n    }\n\n    // Make functions say that they are functions\n    if (isFunction(value)) {\n      var n = value.name ? ': ' + value.name : '';\n      base = ' [Function' + n + ']';\n    }\n\n    // Make RegExps say that they are RegExps\n    if (isRegExp(value)) {\n      base = ' ' + RegExp.prototype.toString.call(value);\n    }\n\n    // Make dates with properties first say the date\n    if (isDate(value)) {\n      base = ' ' + Date.prototype.toUTCString.call(value);\n    }\n\n    // Make error with message first say the error\n    if (isError(value)) {\n      base = ' ' + formatError(value);\n    }\n\n    if (keys.length === 0 && (!array || value.length == 0)) {\n      return braces[0] + base + braces[1];\n    }\n\n    if (recurseTimes < 0) {\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      } else {\n        return ctx.stylize('[Object]', 'special');\n      }\n    }\n\n    ctx.seen.push(value);\n\n    var output;\n    if (array) {\n      output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n    } else {\n      output = keys.map(function (key) {\n        return formatProperty(\n          ctx,\n          value,\n          recurseTimes,\n          visibleKeys,\n          key,\n          array,\n        );\n      });\n    }\n\n    ctx.seen.pop();\n\n    return reduceToSingleString(output, base, braces);\n  }\n\n  function formatPrimitive(ctx, value) {\n    if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n    if (isString(value)) {\n      var simple =\n        \"'\" +\n        JSON.stringify(value)\n          .replace(/^\"|\"$/g, '')\n          .replace(/'/g, \"\\\\'\")\n          .replace(/\\\\\"/g, '\"') +\n        \"'\";\n      return ctx.stylize(simple, 'string');\n    }\n    if (isNumber(value)) return ctx.stylize('' + value, 'number');\n    if (isBoolean(value)) return ctx.stylize('' + value, 'boolean');\n    // For some reason typeof null is \"object\", so special case here.\n    if (isNull(value)) return ctx.stylize('null', 'null');\n  }\n\n  function formatError(value) {\n    return '[' + Error.prototype.toString.call(value) + ']';\n  }\n\n  function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n    var output = [];\n    for (var i = 0, l = value.length; i < l; ++i) {\n      if (hasOwnProperty(value, String(i))) {\n        output.push(\n          formatProperty(\n            ctx,\n            value,\n            recurseTimes,\n            visibleKeys,\n            String(i),\n            true,\n          ),\n        );\n      } else {\n        output.push('');\n      }\n    }\n    keys.forEach(function (key) {\n      if (!key.match(/^\\d+$/)) {\n        output.push(\n          formatProperty(ctx, value, recurseTimes, visibleKeys, key, true),\n        );\n      }\n    });\n    return output;\n  }\n\n  function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n    var name, str, desc;\n    desc = Object.getOwnPropertyDescriptor(value, key) || {value: value[key]};\n    if (desc.get) {\n      if (desc.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (desc.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n    if (!hasOwnProperty(visibleKeys, key)) {\n      name = '[' + key + ']';\n    }\n    if (!str) {\n      if (ctx.seen.indexOf(desc.value) < 0) {\n        if (isNull(recurseTimes)) {\n          str = formatValue(ctx, desc.value, null);\n        } else {\n          str = formatValue(ctx, desc.value, recurseTimes - 1);\n        }\n        if (str.indexOf('\\n') > -1) {\n          if (array) {\n            str = str\n              .split('\\n')\n              .map(function (line) {\n                return '  ' + line;\n              })\n              .join('\\n')\n              .slice(2);\n          } else {\n            str =\n              '\\n' +\n              str\n                .split('\\n')\n                .map(function (line) {\n                  return '   ' + line;\n                })\n                .join('\\n');\n          }\n        }\n      } else {\n        str = ctx.stylize('[Circular]', 'special');\n      }\n    }\n    if (isUndefined(name)) {\n      if (array && key.match(/^\\d+$/)) {\n        return str;\n      }\n      name = JSON.stringify('' + key);\n      if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n        name = name.slice(1, name.length - 1);\n        name = ctx.stylize(name, 'name');\n      } else {\n        name = name\n          .replace(/'/g, \"\\\\'\")\n          .replace(/\\\\\"/g, '\"')\n          .replace(/(^\"|\"$)/g, \"'\");\n        name = ctx.stylize(name, 'string');\n      }\n    }\n\n    return name + ': ' + str;\n  }\n\n  function reduceToSingleString(output, base, braces) {\n    var numLinesEst = 0;\n    var length = output.reduce(function (prev, cur) {\n      numLinesEst++;\n      if (cur.indexOf('\\n') >= 0) numLinesEst++;\n      return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n    }, 0);\n\n    if (length > 60) {\n      return (\n        braces[0] +\n        (base === '' ? '' : base + '\\n ') +\n        ' ' +\n        output.join(',\\n  ') +\n        ' ' +\n        braces[1]\n      );\n    }\n\n    return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n  }\n\n  // NOTE: These type checking functions intentionally don't use `instanceof`\n  // because it is fragile and can be easily faked with `Object.create()`.\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n\n  function isBoolean(arg) {\n    return typeof arg === 'boolean';\n  }\n\n  function isNull(arg) {\n    return arg === null;\n  }\n\n  function isNullOrUndefined(arg) {\n    return arg == null;\n  }\n\n  function isNumber(arg) {\n    return typeof arg === 'number';\n  }\n\n  function isString(arg) {\n    return typeof arg === 'string';\n  }\n\n  function isSymbol(arg) {\n    return typeof arg === 'symbol';\n  }\n\n  function isUndefined(arg) {\n    return arg === void 0;\n  }\n\n  function isRegExp(re) {\n    return isObject(re) && objectToString(re) === '[object RegExp]';\n  }\n\n  function isObject(arg) {\n    return typeof arg === 'object' && arg !== null;\n  }\n\n  function isDate(d) {\n    return isObject(d) && objectToString(d) === '[object Date]';\n  }\n\n  function isError(e) {\n    return (\n      isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error)\n    );\n  }\n\n  function isFunction(arg) {\n    return typeof arg === 'function';\n  }\n\n  function objectToString(o) {\n    return Object.prototype.toString.call(o);\n  }\n\n  function hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n  }\n\n  return inspect;\n})();\n\nconst INDEX_COLUMN_NAME = '(index)';\nconst LOG_LEVELS = {\n  trace: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n};\n\nfunction getNativeLogFunction(level) {\n  return function () {\n    let str;\n    if (arguments.length === 1 && typeof arguments[0] === 'string') {\n      str = arguments[0];\n    } else {\n      str = Array.prototype.map\n        .call(arguments, function (arg) {\n          return inspect(arg, {depth: 10});\n        })\n        .join(', ');\n    }\n\n    // TRICKY\n    // If more than one argument is provided, the code above collapses them all\n    // into a single formatted string. This transform wraps string arguments in\n    // single quotes (e.g. \"foo\" -> \"'foo'\") which then breaks the \"Warning:\"\n    // check below. So it's important that we look at the first argument, rather\n    // than the formatted argument string.\n    const firstArg = arguments[0];\n\n    let logLevel = level;\n    if (\n      typeof firstArg === 'string' &&\n      firstArg.slice(0, 9) === 'Warning: ' &&\n      logLevel >= LOG_LEVELS.error\n    ) {\n      // React warnings use console.error so that a stack trace is shown,\n      // but we don't (currently) want these to show a redbox\n      // (Note: Logic duplicated in ExceptionsManager.js.)\n      logLevel = LOG_LEVELS.warn;\n    }\n    if (groupStack.length) {\n      str = groupFormat('', str);\n    }\n    global.nativeLoggingHook(str, logLevel);\n  };\n}\n\nfunction repeat(element, n) {\n  return Array.apply(null, Array(n)).map(function () {\n    return element;\n  });\n}\n\nfunction formatCellValue(cell, key) {\n  if (key === INDEX_COLUMN_NAME) {\n    return cell[key];\n  }\n\n  if (cell.hasOwnProperty(key)) {\n    var cellValue = cell[key];\n\n    switch (typeof cellValue) {\n      case 'function':\n        return 'ƒ';\n      case 'string':\n        return \"'\" + cellValue + \"'\";\n      case 'object':\n        return cellValue == null ? 'null' : '{…}';\n    }\n\n    return String(cellValue);\n  }\n  return '';\n}\n\nfunction consoleTablePolyfill(data, columns) {\n  var rows;\n\n  // convert object -> array\n  if (Array.isArray(data)) {\n    rows = data.map((row, index) => {\n      var processedRow = {};\n      processedRow[INDEX_COLUMN_NAME] = String(index);\n      Object.assign(processedRow, row);\n      return processedRow;\n    });\n  } else {\n    rows = [];\n    for (var key in data) {\n      if (data.hasOwnProperty(key)) {\n        var processedRow = {};\n        processedRow[INDEX_COLUMN_NAME] = key;\n        Object.assign(processedRow, data[key]);\n        rows.push(processedRow);\n      }\n    }\n  }\n  if (rows.length === 0) {\n    global.nativeLoggingHook('', LOG_LEVELS.info);\n    return;\n  }\n\n  if (Array.isArray(columns)) {\n    columns = [INDEX_COLUMN_NAME].concat(columns);\n  } else {\n    columns = Array.from(\n      rows.reduce((columnSet, row) => {\n        Object.keys(row).forEach(key => columnSet.add(key));\n        return columnSet;\n      }, new Set()),\n    );\n  }\n  var stringRows = [];\n  var columnWidths = [];\n\n  // Convert each cell to a string. Also\n  // figure out max cell width for each column\n  columns.forEach(function (k, i) {\n    columnWidths[i] = k.length;\n    for (var j = 0; j < rows.length; j++) {\n      var cellStr = formatCellValue(rows[j], k);\n      stringRows[j] = stringRows[j] || [];\n      stringRows[j][i] = cellStr;\n      columnWidths[i] = Math.max(columnWidths[i], cellStr.length);\n    }\n  });\n\n  // Join all elements in the row into a single string with | separators\n  // (appends extra spaces to each cell to make separators  | aligned)\n  function joinRow(row, space) {\n    var cells = row.map(function (cell, i) {\n      var extraSpaces = repeat(' ', columnWidths[i] - cell.length).join('');\n      return cell + extraSpaces;\n    });\n    space = space || ' ';\n    return '| ' + cells.join(space + '|' + space) + ' |';\n  }\n\n  var separators = columnWidths.map(function (columnWidth) {\n    return repeat('-', columnWidth).join('');\n  });\n  var separatorRow = joinRow(separators);\n  var header = joinRow(columns);\n  var table = [header, separatorRow];\n\n  for (var i = 0; i < rows.length; i++) {\n    table.push(joinRow(stringRows[i]));\n  }\n\n  // Notice extra empty line at the beginning.\n  // Native logging hook adds \"RCTLog >\" at the front of every\n  // logged string, which would shift the header and screw up\n  // the table\n  global.nativeLoggingHook('\\n' + table.join('\\n'), LOG_LEVELS.info);\n}\n\nconst GROUP_PAD = '\\u2502'; // Box light vertical\nconst GROUP_OPEN = '\\u2510'; // Box light down+left\nconst GROUP_CLOSE = '\\u2518'; // Box light up+left\n\nconst groupStack = [];\n\nfunction groupFormat(prefix, msg) {\n  // Insert group formatting before the console message\n  return groupStack.join('') + prefix + ' ' + (msg || '');\n}\n\nfunction consoleGroupPolyfill(label) {\n  global.nativeLoggingHook(groupFormat(GROUP_OPEN, label), LOG_LEVELS.info);\n  groupStack.push(GROUP_PAD);\n}\n\nfunction consoleGroupCollapsedPolyfill(label) {\n  global.nativeLoggingHook(groupFormat(GROUP_CLOSE, label), LOG_LEVELS.info);\n  groupStack.push(GROUP_PAD);\n}\n\nfunction consoleGroupEndPolyfill() {\n  groupStack.pop();\n  global.nativeLoggingHook(groupFormat(GROUP_CLOSE), LOG_LEVELS.info);\n}\n\nfunction consoleAssertPolyfill(expression, label) {\n  if (!expression) {\n    global.nativeLoggingHook('Assertion failed: ' + label, LOG_LEVELS.error);\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/console/timeStamp_static.\n// Non-standard API for recording markers on a timeline of the Performance instrumentation.\n// The actual logging is not provided by definition.\nfunction consoleTimeStampPolyfill() {}\n\nif (global.nativeLoggingHook) {\n  const originalConsole = global.console;\n  // Preserve the original `console` as `originalConsole`\n  if (__DEV__ && originalConsole) {\n    const descriptor = Object.getOwnPropertyDescriptor(global, 'console');\n    if (descriptor) {\n      Object.defineProperty(global, 'originalConsole', descriptor);\n    }\n  }\n\n  global.console = {\n    timeStamp: consoleTimeStampPolyfill,\n    ...(originalConsole ?? {}),\n    error: getNativeLogFunction(LOG_LEVELS.error),\n    info: getNativeLogFunction(LOG_LEVELS.info),\n    log: getNativeLogFunction(LOG_LEVELS.info),\n    warn: getNativeLogFunction(LOG_LEVELS.warn),\n    trace: getNativeLogFunction(LOG_LEVELS.trace),\n    debug: getNativeLogFunction(LOG_LEVELS.trace),\n    table: consoleTablePolyfill,\n    group: consoleGroupPolyfill,\n    groupEnd: consoleGroupEndPolyfill,\n    groupCollapsed: consoleGroupCollapsedPolyfill,\n    assert: consoleAssertPolyfill,\n  };\n\n  // TODO(T206796580): This was copy-pasted from ExceptionsManager.js\n  // Delete the copy there after the c++ pipeline is rolled out everywhere.\n  if (global.RN$useAlwaysAvailableJSErrorHandling === true) {\n    let originalConsoleError = console.error;\n    console.reportErrorsAsExceptions = true;\n    function stringifySafe(arg) {\n      return inspect(arg, {depth: 10}).replace(/\\n\\s*/g, ' ');\n    }\n    console.error = function (...args) {\n      originalConsoleError.apply(this, args);\n      if (!console.reportErrorsAsExceptions) {\n        return;\n      }\n      if (global.RN$inExceptionHandler?.()) {\n        return;\n      }\n      let error;\n\n      const firstArg = args[0];\n      if (firstArg?.stack) {\n        // RN$handleException will console.error this with high enough fidelity.\n        error = firstArg;\n      } else {\n        if (typeof firstArg === 'string' && firstArg.startsWith('Warning: ')) {\n          // React warnings use console.error so that a stack trace is shown, but\n          // we don't (currently) want these to show a redbox\n          return;\n        }\n        const message = args\n          .map(arg => (typeof arg === 'string' ? arg : stringifySafe(arg)))\n          .join(' ');\n\n        error = new Error(message);\n        error.name = 'console.error';\n      }\n\n      const isFatal = false;\n      const reportToConsole = false;\n      global.RN$handleException(error, isFatal, reportToConsole);\n    };\n  }\n\n  Object.defineProperty(console, '_isPolyfilled', {\n    value: true,\n    enumerable: false,\n  });\n\n  // If available, also call the original `console` method since that is\n  // sometimes useful. Ex: on OS X, this will let you see rich output in\n  // the Safari Web Inspector console.\n  if (__DEV__ && originalConsole) {\n    Object.keys(console).forEach(methodName => {\n      const reactNativeMethod = console[methodName];\n      if (\n        originalConsole[methodName] &&\n        reactNativeMethod !== originalConsole[methodName]\n      ) {\n        console[methodName] = function () {\n          originalConsole[methodName](...arguments);\n          reactNativeMethod.apply(console, arguments);\n        };\n      }\n    });\n\n    // The following methods are not supported by this polyfill but\n    // we still should pass them to original console if they are\n    // supported by it.\n    ['clear', 'dir', 'dirxml', 'profile', 'profileEnd'].forEach(methodName => {\n      if (typeof originalConsole[methodName] === 'function') {\n        console[methodName] = function () {\n          originalConsole[methodName](...arguments);\n        };\n      }\n    });\n  }\n} else if (!global.console) {\n  function stub() {}\n  const log = global.print || stub;\n\n  global.console = {\n    debug: log,\n    error: log,\n    info: log,\n    log: log,\n    trace: log,\n    warn: log,\n    assert(expression, label) {\n      if (!expression) {\n        log('Assertion failed: ' + label);\n      }\n    },\n    clear: stub,\n    dir: stub,\n    dirxml: stub,\n    group: stub,\n    groupCollapsed: stub,\n    groupEnd: stub,\n    profile: stub,\n    profileEnd: stub,\n    table: stub,\n    timeStamp: stub,\n  };\n\n  Object.defineProperty(console, '_isPolyfilled', {\n    value: true,\n    enumerable: false,\n  });\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n * @polyfill\n */\n\nlet _inGuard = 0;\n\ntype ErrorHandler = (error: mixed, isFatal: boolean) => void;\ntype Fn<Args, Return> = (...Args) => Return;\n\n/**\n * This is the error handler that is called when we encounter an exception\n * when loading a module. This will report any errors encountered before\n * ExceptionsManager is configured.\n */\nlet _globalHandler: ErrorHandler =\n  global.RN$useAlwaysAvailableJSErrorHandling === true\n    ? global.RN$handleException\n    : (e: mixed, isFatal: boolean) => {\n        throw e;\n      };\n\n/**\n * The particular require runtime that we are using looks for a global\n * `ErrorUtils` object and if it exists, then it requires modules with the\n * error handler specified via ErrorUtils.setGlobalHandler by calling the\n * require function with applyWithGuard. Since the require module is loaded\n * before any of the modules, this ErrorUtils must be defined (and the handler\n * set) globally before requiring anything.\n */\nconst ErrorUtils = {\n  setGlobalHandler(fun: ErrorHandler): void {\n    _globalHandler = fun;\n  },\n  getGlobalHandler(): ErrorHandler {\n    return _globalHandler;\n  },\n  reportError(error: mixed): void {\n    _globalHandler && _globalHandler(error, false);\n  },\n  reportFatalError(error: mixed): void {\n    // NOTE: This has an untyped call site in Metro.\n    _globalHandler && _globalHandler(error, true);\n  },\n  applyWithGuard<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    context?: ?mixed,\n    args?: ?TArgs,\n    // Unused, but some code synced from www sets it to null.\n    unused_onError?: null,\n    // Some callers pass a name here, which we ignore.\n    unused_name?: ?string,\n  ): ?TOut {\n    try {\n      _inGuard++;\n      /* $FlowFixMe[incompatible-call] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      /* $FlowFixMe[incompatible-type] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      return fun.apply(context, args);\n    } catch (e) {\n      ErrorUtils.reportError(e);\n    } finally {\n      _inGuard--;\n    }\n    return null;\n  },\n  applyWithGuardIfNeeded<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    context?: ?mixed,\n    args?: ?TArgs,\n  ): ?TOut {\n    if (ErrorUtils.inGuard()) {\n      /* $FlowFixMe[incompatible-call] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      /* $FlowFixMe[incompatible-type] : TODO T48204745 (1) apply(context,\n       * null) is fine. (2) array -> rest array should work */\n      return fun.apply(context, args);\n    } else {\n      ErrorUtils.applyWithGuard(fun, context, args);\n    }\n    return null;\n  },\n  inGuard(): boolean {\n    return !!_inGuard;\n  },\n  guard<TArgs: $ReadOnlyArray<mixed>, TOut>(\n    fun: Fn<TArgs, TOut>,\n    name?: ?string,\n    context?: ?mixed,\n  ): ?(...TArgs) => ?TOut {\n    // TODO: (moti) T48204753 Make sure this warning is never hit and remove it - types\n    // should be sufficient.\n    if (typeof fun !== 'function') {\n      console.warn('A function must be passed to ErrorUtils.guard, got ', fun);\n      return null;\n    }\n    const guardName = name ?? fun.name ?? '<generated guard>';\n    /* $FlowFixMe[missing-this-annot] The 'this' type annotation(s) required by\n     * Flow's LTI update could not be added via codemod */\n    function guarded(...args: TArgs): ?TOut {\n      return ErrorUtils.applyWithGuard(\n        fun,\n        context ?? this,\n        args,\n        null,\n        guardName,\n      );\n    }\n\n    return guarded;\n  },\n};\n\nglobal.ErrorUtils = ErrorUtils;\n\nexport type ErrorUtilsT = typeof ErrorUtils;\n","/**\n * OpenCV WebView Bridge Script\n * This script runs inside a WebView and handles OpenCV processing for React Native.\n * It communicates with the native side via postMessage.\n *\n * This file will be bundled with all its dependencies before being inlined into the WebView.\n */\n\nimport type { Mat } from \"@techstark/opencv-js\";\nimport type { ImageOperation } from \"./opencv-loader.d\";\nimport {\n  applyGeometryCorrection,\n  loadImageToMat,\n  matToDataUrl,\n} from \"./pipelines/opencv-core\";\n\ninterface OpenCVGlobal {\n  onRuntimeInitialized?: () => void;\n  Mat: new () => Mat;\n  matFromImageData: (imageData: ImageData) => Mat;\n  cvtColor: (src: Mat, dst: Mat, code: number) => void;\n  Canny: (src: Mat, dst: Mat, threshold1: number, threshold2: number) => void;\n  imshow: (canvas: HTMLCanvasElement, mat: Mat) => void;\n  COLOR_RGBA2GRAY: number;\n}\n\ndeclare const cv: OpenCVGlobal;\ndeclare const window: Window & {\n  ReactNativeWebView?: {\n    postMessage(message: string): void;\n  };\n};\n\nlet cvReady = false;\n\n/**\n * Forward console messages to React Native for better debugging.\n */\nfunction forwardConsoleToNative(): void {\n  const originalConsole = {\n    log: console.log,\n    warn: console.warn,\n    error: console.error,\n  };\n\n  console.log = (...args: Array<unknown>) => {\n    originalConsole.log(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"log\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n\n  console.warn = (...args: Array<unknown>) => {\n    originalConsole.warn(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"warn\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n\n  console.error = (...args: Array<unknown>) => {\n    originalConsole.error(...args);\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: \"console\",\n          level: \"error\",\n          message: args.map((arg) => String(arg)).join(\" \"),\n        })\n      );\n    }\n  };\n}\n\n// Set up console forwarding\nforwardConsoleToNative();\n\n/**\n * Called when OpenCV.js is fully loaded and initialized.\n */\nfunction onOpenCvReady(): void {\n  cvReady = true;\n  console.log(\"[OpenCV WebView] OpenCV.js loaded successfully\");\n\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"opencv-ready\",\n      })\n    );\n  }\n}\n\n// Set the callback for OpenCV initialization\nif (typeof cv !== \"undefined\") {\n  cv.onRuntimeInitialized = onOpenCvReady;\n}\n\n/**\n * Message handler for processing requests from React Native.\n */\nwindow.addEventListener(\"message\", function (event) {\n  let message: {\n    type: string;\n    imageUri: string;\n    operations: Array<ImageOperation>;\n    requestId: string;\n  } | null = null;\n  try {\n    message = JSON.parse(event.data);\n\n    if (message === null) {\n      console.error(\"[OpenCV WebView] Message is null\");\n      return;\n    }\n\n    if (message.type === \"process-image\") {\n      processImage(message.imageUri, message.operations, message.requestId);\n    }\n  } catch (error) {\n    console.error(\"[OpenCV WebView] Error handling message:\", error);\n    if (message && message.requestId) {\n      sendError(message.requestId, (error as Error).message);\n    }\n  }\n});\n\n/**\n * Process an image with OpenCV operations.\n */\nasync function processImage(\n  imageUri: string,\n  operations: Array<ImageOperation>,\n  requestId: string\n): Promise<void> {\n  if (!cvReady) {\n    sendError(requestId, \"OpenCV not ready\");\n    return;\n  }\n\n  let src = null;\n  let processedMat = null;\n\n  try {\n    console.log(\n      \"[OpenCV WebView] Processing image with\",\n      operations.length,\n      \"operations\"\n    );\n\n    // Load image into OpenCV Mat using shared function\n    src = await loadImageToMat(cv, imageUri);\n    processedMat = src;\n\n    let debugData = undefined;\n\n    // Apply operations sequentially\n    for (const operation of operations) {\n      if (operation.type === \"passthrough\") {\n        continue;\n      } else if (operation.type === \"geometry\") {\n        // Use shared geometry correction function\n        const { mat: result, debug } = applyGeometryCorrection(\n          cv,\n          processedMat,\n          operation.debug\n        );\n        if (result) {\n          if (processedMat !== src) {\n            processedMat.delete();\n          }\n          processedMat = result;\n        }\n        if (debug) {\n          debugData = debug;\n        }\n      }\n    }\n\n    // Convert result to data URL using shared function\n    const processedUri = matToDataUrl(cv, processedMat);\n    sendResult(requestId, processedUri, debugData);\n  } catch (error) {\n    console.error(\"[OpenCV WebView] Processing error:\", error);\n    debugger;\n    sendError(requestId, (error as Error).message);\n  } finally {\n    if (src) {\n      src.delete();\n    }\n    if (processedMat && processedMat !== src) {\n      processedMat.delete();\n    }\n  }\n}\n\n/**\n * Send successful result back to React Native.\n */\nfunction sendResult(requestId: string, processedUri: string, debugData?: any): void {\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"process-result\",\n        requestId: requestId,\n        success: true,\n        processedUri: processedUri,\n        debug: debugData,\n      })\n    );\n  }\n}\n\n/**\n * Send error back to React Native.\n */\nfunction sendError(requestId: string, errorMessage: string): void {\n  if (window.ReactNativeWebView) {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        type: \"process-result\",\n        requestId: requestId,\n        success: false,\n        error: errorMessage,\n      })\n    );\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Page dewarping pipeline using OpenCV.js and optimization libraries.\n * Implements the full cubic sheet model for flattening curved pages.\n * \n * PIPELINE ORCHESTRATION:\n * ======================\n * This is the main entry point that coordinates all phases of the dewarping algorithm.\n * \n * The complete pipeline:\n * \n * 1. INITIALIZATION (0-5%)\n *    - Validate mathematical functions\n *    - Set up progress tracking\n * \n * 2. PREPROCESSING (5-25%)\n *    - Adaptive thresholding → binary text\n *    - Canny edge detection → edge map\n *    - Morphological operations → connected components\n *    - Hough line detection → initial text line estimates\n *    - Contour detection → page boundary\n * \n * 3. SPAN DETECTION (25-40%)\n *    - Compute edge density map (smoothed edge information)\n *    - Extract initial span estimates from Hough lines\n *    - Refine spans using gradient descent (50 iterations)\n *    - Each span has position + curvature parameters\n * \n * 4. MODEL FITTING (40-70%)\n *    - Sample keypoints along refined spans\n *    - Fit 16-parameter cubic sheet model\n *    - Use Levenberg-Marquardt optimization (up to 100 iterations)\n *    - Minimize reprojection error of keypoints\n * \n * 5. REMAPPING (70-95%)\n *    - Generate transformation maps (mapX, mapY)\n *    - For each output pixel, compute source location in input\n *    - Apply remap with cubic interpolation\n *    - Optional: adaptive threshold for clean text output\n * \n * 6. FINALIZATION (95-100%)\n *    - Generate debug visualizations (if enabled)\n *    - Collect processing metrics\n *    - Return dewarped image\n * \n * Error handling:\n * - If any phase fails, return original image (graceful degradation)\n * - Log errors for debugging\n * - Populate debug data with partial results\n * \n * Progress reporting:\n * - Each phase reports progress 0-100 with descriptive messages\n * - Allows UI to show real-time feedback to user\n */\n\nimport { Mat } from \"@techstark/opencv-js\";\nimport {\n  collectKeypointsFromSpans,\n  computeEdgeDensity,\n  fitCubicSheet,\n  refineSpans,\n} from \"../optimization/dewarp-optimizer\";\nimport type { DewarpDebugData } from \"../types\";\nimport { DEFAULT_DEWARP_CONFIG } from \"../types\";\nimport type { DewarpProgressCallback } from \"./page-dewarp-core\";\nimport { reportPhaseInit, validateMathFunctions } from \"./page-dewarp-core\";\nimport type { OpenCVPreprocessing } from \"./page-dewarp-preprocessing\";\nimport {\n  extractSpanEstimates,\n  preprocessImage,\n} from \"./page-dewarp-preprocessing\";\nimport type { OpenCVRemap } from \"./page-dewarp-remap\";\nimport {\n  applyDewarp,\n  generateDewarpMaps,\n  generateRemapDebugData,\n} from \"./page-dewarp-remap\";\n\n/**\n * Result of geometry correction with optional debug data.\n */\nexport interface GeometryCorrectionResult {\n  mat: Mat | null;\n  debug?: DewarpDebugData;\n}\n\n/**\n * Apply page dewarping to straighten curved pages.\n * Uses cubic sheet model and optimization to flatten warped text.\n */\nexport function applyGeometryCorrection(\n  cv: any,\n  src: Mat,\n  collectDebugData: boolean = false,\n  progressCallback?: DewarpProgressCallback\n): GeometryCorrectionResult {\n  const startTime = Date.now();\n  const progressLog: Array<{\n    phase: string;\n    timestamp: number;\n    message: string;\n  }> = [];\n\n  const logProgress = (\n    phase: string,\n    progress: number,\n    message: string\n  ): void => {\n    progressLog.push({\n      phase,\n      timestamp: Date.now() - startTime,\n      message,\n    });\n    if (progressCallback) {\n      progressCallback(phase, progress, message);\n    }\n  };\n\n  try {\n    reportPhaseInit(logProgress);\n    const mathValidation = validateMathFunctions();\n\n    logProgress(\"Preprocessing\", 5, \"Starting preprocessing\");\n\n    const preprocessingResult = preprocessImage(\n      cv as OpenCVPreprocessing,\n      src,\n      DEFAULT_DEWARP_CONFIG.preprocessing,\n      collectDebugData,\n      logProgress\n    );\n\n    const spanEstimates = extractSpanEstimates(\n      preprocessingResult.lines,\n      src.cols,\n      src.rows,\n      DEFAULT_DEWARP_CONFIG.spanDetection.numSpans\n    );\n\n    logProgress(\"Optimization\", 25, \"Computing edge density\");\n\n    const edgeDensity = computeEdgeDensity(cv, preprocessingResult.edgeMat, 5);\n\n    const spanResult = refineSpans(\n      spanEstimates,\n      edgeDensity,\n      src.cols,\n      src.rows,\n      logProgress\n    );\n\n    logProgress(\"Optimization\", 40, \"Collecting keypoints\");\n\n    const keypoints = collectKeypointsFromSpans(spanResult.spans, src.cols, 20);\n\n    const sheetResult = fitCubicSheet(\n      keypoints,\n      src.cols,\n      src.rows,\n      DEFAULT_DEWARP_CONFIG.modelFitting,\n      logProgress\n    );\n\n    logProgress(\"Remapping\", 70, \"Generating transformation maps\");\n\n    const { mapX, mapY } = generateDewarpMaps(\n      cv as OpenCVRemap,\n      sheetResult.params,\n      src.cols,\n      src.rows,\n      DEFAULT_DEWARP_CONFIG.output.width,\n      DEFAULT_DEWARP_CONFIG.output.height,\n      logProgress\n    );\n\n    logProgress(\"Remapping\", 85, \"Applying dewarping\");\n\n    const dewarped = applyDewarp(\n      cv as OpenCVRemap,\n      src,\n      mapX,\n      mapY,\n      DEFAULT_DEWARP_CONFIG.output.adaptiveThreshold,\n      logProgress\n    );\n\n    mapX.delete();\n    mapY.delete();\n    preprocessingResult.edgeMat.delete();\n\n    logProgress(\"Finalizing\", 95, \"Generating debug data\");\n\n    let debugData: DewarpDebugData | undefined;\n\n    if (collectDebugData) {\n      const remapDebugData = generateRemapDebugData(\n        cv as OpenCVRemap,\n        src,\n        dewarped,\n        sheetResult.params,\n        mapX,\n        mapY,\n        collectDebugData\n      );\n\n      debugData = {\n        mathValidation,\n        imageWidth: src.cols,\n        imageHeight: src.rows,\n        ...preprocessingResult.debugData,\n        preprocessingStats: preprocessingResult.debugData\n          ?.preprocessingStats || {\n          contoursFound: 0,\n          linesDetected: 0,\n          pageBounds: { width: 0, height: 0 },\n        },\n        optimizationMetrics: {\n          spanIterations: spanResult.iterations,\n          spanError: spanResult.error,\n          modelIterations: sheetResult.iterations,\n          modelError: sheetResult.error,\n          parameters: sheetResult.params.coefficients,\n        },\n        ...remapDebugData,\n        remapStats: remapDebugData?.remapStats || {\n          resolution: { width: 0, height: 0 },\n          interpolation: \"INTER_CUBIC\",\n        },\n        processingTime: Date.now() - startTime,\n        progressLog,\n      };\n    }\n\n    logProgress(\n      \"Complete\",\n      100,\n      `Processing complete in ${Date.now() - startTime}ms`\n    );\n\n    console.log(\n      `[Page Dewarp] Processing complete in ${Date.now() - startTime}ms`\n    );\n\n    return { mat: dewarped, debug: debugData };\n  } catch (error) {\n    console.error(\"[Page Dewarp] Error during processing:\", error);\n\n    logProgress(\"Error\", 0, `Processing failed: ${error}`);\n\n    return {\n      mat: src,\n      debug: collectDebugData\n        ? {\n            imageWidth: src.cols,\n            imageHeight: src.rows,\n            preprocessingStats: {\n              contoursFound: 0,\n              linesDetected: 0,\n              pageBounds: { width: 0, height: 0 },\n            },\n            optimizationMetrics: {\n              spanIterations: 0,\n              spanError: 0,\n              modelIterations: 0,\n              modelError: 0,\n              parameters: [],\n            },\n            remapStats: {\n              resolution: { width: 0, height: 0 },\n              interpolation: \"INTER_CUBIC\",\n            },\n            processingTime: Date.now() - startTime,\n            progressLog,\n          }\n        : undefined,\n    };\n  }\n}\n\n/**\n * Load an image from URI into an OpenCV Mat.\n * @param cv - OpenCV instance\n * @param imageUri - The image URI (data URL or file path)\n * @returns Promise resolving to OpenCV Mat\n */\nexport function loadImageToMat(\n  cv: { matFromImageData: (imageData: ImageData) => Mat },\n  imageUri: string\n): Promise<Mat> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = \"anonymous\";\n\n    img.onload = () => {\n      try {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n          reject(new Error(\"Failed to get canvas context\"));\n          return;\n        }\n\n        ctx.drawImage(img, 0, 0);\n\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        const mat = cv.matFromImageData(imageData);\n\n        resolve(mat);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    img.onerror = (error) => {\n      let errorMsg: string;\n      // Try to extract useful information from typical Image error/event objects.\n      if (error instanceof Error) {\n        errorMsg = error.message;\n      } else if (\n        error &&\n        typeof error === \"object\" &&\n        \"type\" in error &&\n        \"target\" in error\n      ) {\n        // Likely an Event (e.g., Event from <img> onerror)\n        const evt = error as Event & {\n          target?: EventTarget & { src?: string };\n        };\n        const src =\n          evt?.target && \"src\" in evt.target\n            ? (evt.target as any).src\n            : undefined;\n        errorMsg = `Event type: ${evt.type}${src ? `, image src: ${src}` : \"\"}`;\n      } else {\n        errorMsg = String(error);\n      }\n      reject(new Error(`Failed to load image: ${errorMsg}`));\n    };\n\n    img.src = imageUri;\n  });\n}\n\n/**\n * Convert an OpenCV Mat to a data URL.\n * @param cv - OpenCV instance\n * @param mat - OpenCV Mat\n * @param quality - JPEG quality (0-1)\n * @returns Data URL string\n */\nexport function matToDataUrl(\n  cv: { imshow: (canvas: HTMLCanvasElement, mat: Mat) => void },\n  mat: Mat,\n  quality: number = 0.92\n): string {\n  const canvas = document.createElement(\"canvas\");\n  cv.imshow(canvas, mat);\n  return canvas.toDataURL(\"image/jpeg\", quality);\n}\n","/**\n * Optimization wrapper for page dewarping.\n * Implements span detection and cubic sheet model fitting.\n * \n * OPTIMIZATION STRATEGY:\n * =====================\n * The dewarping algorithm involves two key optimization problems:\n * \n * 1. SPAN DETECTION (Lines 100-200):\n *    Problem: Find the positions and curvatures of text lines in the image.\n *    Method: Gradient descent to maximize edge density along spans.\n *    Why: We need to know where text lines are to sample keypoints from them.\n * \n * 2. CUBIC SHEET FITTING (Lines 210-280):\n *    Problem: Find the 16 coefficients that best describe the page's 3D shape.\n *    Method: Levenberg-Marquardt (non-linear least squares).\n *    Why: Once we know where keypoints are in the photo, we fit a 3D surface\n *         that, when projected, matches those keypoint positions.\n * \n * The key insight: We're solving an inverse problem. We observe the 2D photo\n * (effect) and want to deduce the 3D page shape (cause). This is inherently\n * an optimization problem because there's no direct formula - we must search\n * for the best-fitting parameters.\n */\n\nimport { levenbergMarquardt } from \"ml-levenberg-marquardt\";\nimport type {\n  Point2D,\n  SpanParams,\n  CubicSheetParams,\n  DewarpProgressCallback,\n} from \"../pipelines/page-dewarp-core\";\nimport {\n  evaluateCubicPolynomial,\n  sampleKeypointsOnSpan,\n  createFlatSheetParams,\n} from \"../pipelines/page-dewarp-core\";\nimport type { DataUrl } from \"@/lib/types/primitives\";\nimport type { Mat } from \"@techstark/opencv-js\";\n\n/**\n * Optimization metrics for debugging.\n */\nexport interface OptimizationMetrics {\n  spanIterations: number;\n  spanError: number;\n  modelIterations: number;\n  modelError: number;\n  parameters: Array<number>;\n}\n\n/**\n * Optimization debug data.\n */\nexport interface OptimizationDebugData {\n  detectedSpans?: DataUrl;\n  keypointCloud?: DataUrl;\n  optimizationMetrics: OptimizationMetrics;\n}\n\n/**\n * Result of span detection optimization.\n */\nexport interface SpanDetectionResult {\n  spans: Array<SpanParams>;\n  iterations: number;\n  error: number;\n}\n\n/**\n * Result of cubic sheet fitting.\n */\nexport interface CubicSheetFittingResult {\n  params: CubicSheetParams;\n  iterations: number;\n  error: number;\n}\n\n/**\n * Refine span parameters using optimization.\n * Uses simple gradient descent to adjust span positions and curvatures.\n * \n * SPAN REFINEMENT EXPLAINED:\n * =========================\n * We start with rough estimates of where text lines are (from Hough line detection).\n * Now we refine these estimates to maximize the amount of text edge pixels\n * that lie along each span.\n * \n * The intuition:\n * - Text has strong horizontal edges (top and bottom of letters)\n * - A well-positioned span should pass through these edge pixels\n * - We can measure \"edge density\" along a span by sampling points\n * \n * The optimization:\n * - Cost function: Lower edge density = higher error\n * - Parameters: yPosition and curvature for each span\n * - Method: Gradient descent (adjust params in direction that reduces error)\n * - Learning rate: How much to adjust params each iteration (0.1 for position)\n * \n * Why gradient descent vs. Levenberg-Marquardt?\n * - This is a simpler problem (fewer parameters: 2 per span vs. 16 total)\n * - The cost function is noisy (edge density isn't perfectly smooth)\n * - Gradient descent is more robust to local minima for this type of problem\n */\nexport function refineSpans(\n  initialSpans: Array<SpanParams>,\n  edgeDensity: Array<Array<number>>,\n  imageWidth: number,\n  imageHeight: number,\n  progressCallback?: DewarpProgressCallback\n): SpanDetectionResult {\n  if (progressCallback) {\n    progressCallback(\"Span Detection\", 25, \"Refining span positions\");\n  }\n\n  const numIterations = 50;\n  const learningRate = 0.1;\n  let currentSpans = initialSpans.map((s) => ({ ...s }));\n  let bestError = Infinity;\n  let iterations = 0;\n\n  for (let iter = 0; iter < numIterations; iter++) {\n    iterations = iter + 1;\n\n    const error = evaluateSpanFit(currentSpans, edgeDensity, imageWidth);\n\n    if (error < bestError) {\n      bestError = error;\n    }\n\n    if (iter % 10 === 0 && progressCallback) {\n      const progress = 25 + (iter / numIterations) * 15;\n      progressCallback(\n        \"Span Detection\",\n        progress,\n        `Iteration ${iter}, error: ${error.toFixed(2)}`\n      );\n    }\n\n    const gradients = computeSpanGradients(\n      currentSpans,\n      edgeDensity,\n      imageWidth,\n      imageHeight\n    );\n\n    for (let i = 0; i < currentSpans.length; i++) {\n      currentSpans[i].yPosition -= learningRate * gradients[i].yGrad;\n      currentSpans[i].curvature -= learningRate * gradients[i].cGrad * 0.01;\n\n      currentSpans[i].yPosition = Math.max(\n        10,\n        Math.min(imageHeight - 10, currentSpans[i].yPosition)\n      );\n      currentSpans[i].curvature = Math.max(\n        -100,\n        Math.min(100, currentSpans[i].curvature)\n      );\n    }\n  }\n\n  if (progressCallback) {\n    progressCallback(\n      \"Span Detection\",\n      40,\n      `Refined ${currentSpans.length} spans in ${iterations} iterations`\n    );\n  }\n\n  return {\n    spans: currentSpans,\n    iterations,\n    error: bestError,\n  };\n}\n\n/**\n * Evaluate how well spans match edge density.\n * \n * This is our cost/error function for span optimization.\n * Lower edge density = higher error = worse fit.\n * \n * Algorithm:\n * 1. For each span, sample 20 points along its curve\n * 2. Look up the edge density at each sample point\n * 3. Sum up the edge density for all points\n * 4. Convert to error: error = 1 / (density + 1)\n *    (Higher density → lower error)\n * \n * Why this works:\n * - Text lines have high edge density (letters create edges)\n * - Background areas have low edge density\n * - A span positioned along text will have high total density\n * - The optimization will push spans toward text regions\n */\nfunction evaluateSpanFit(\n  spans: Array<SpanParams>,\n  edgeDensity: Array<Array<number>>,\n  imageWidth: number\n): number {\n  let totalError = 0;\n  const numSamples = 20;\n\n  for (const span of spans) {\n    const samples = sampleKeypointsOnSpan(span, imageWidth, numSamples);\n\n    let spanDensity = 0;\n    for (const point of samples) {\n      const x = Math.floor(point.x);\n      const y = Math.floor(point.y);\n\n      if (\n        y >= 0 &&\n        y < edgeDensity.length &&\n        x >= 0 &&\n        x < edgeDensity[0].length\n      ) {\n        spanDensity += edgeDensity[y][x];\n      }\n    }\n\n    totalError += 1.0 / (spanDensity + 1);\n  }\n\n  return totalError;\n}\n\n/**\n * Compute gradients for span optimization.\n * \n * NUMERICAL GRADIENT COMPUTATION:\n * ==============================\n * We need to know: \"If I adjust yPosition slightly, does error go up or down?\"\n * \n * Method: Finite differences (numerical differentiation)\n * 1. Compute error at current position: error_0\n * 2. Nudge parameter by small amount epsilon: param + epsilon\n * 3. Compute error at nudged position: error_1\n * 4. Gradient = (error_1 - error_0) / epsilon\n * \n * Positive gradient means: increasing param increases error (bad direction)\n * Negative gradient means: increasing param decreases error (good direction)\n * \n * We compute gradients for both:\n * - yGrad: How error changes with vertical position\n * - cGrad: How error changes with curvature\n * \n * Then gradient descent moves against the gradient: param -= learningRate * gradient\n */\nfunction computeSpanGradients(\n  spans: Array<SpanParams>,\n  edgeDensity: Array<Array<number>>,\n  imageWidth: number,\n  imageHeight: number\n): Array<{ yGrad: number; cGrad: number }> {\n  const epsilon = 0.1;\n  const gradients: Array<{ yGrad: number; cGrad: number }> = [];\n\n  for (const span of spans) {\n    const baseError = evaluateSpanFit([span], edgeDensity, imageWidth);\n\n    const yPlus = { ...span, yPosition: span.yPosition + epsilon };\n    const yPlusError = evaluateSpanFit([yPlus], edgeDensity, imageWidth);\n    const yGrad = (yPlusError - baseError) / epsilon;\n\n    const cPlus = { ...span, curvature: span.curvature + epsilon };\n    const cPlusError = evaluateSpanFit([cPlus], edgeDensity, imageWidth);\n    const cGrad = (cPlusError - baseError) / epsilon;\n\n    gradients.push({ yGrad, cGrad });\n  }\n\n  return gradients;\n}\n\n/**\n * Fit cubic sheet model to keypoints using Levenberg-Marquardt.\n * \n * LEVENBERG-MARQUARDT ALGORITHM:\n * ==============================\n * This is the core optimization that finds the 16 cubic sheet coefficients.\n * \n * The problem:\n * - We have keypoints: 2D positions in the photo (x_photo, y_photo)\n * - We need to find: 16 coefficients that describe a 3D surface\n * - The surface, when projected to 2D, should match the keypoint positions\n * \n * Why Levenberg-Marquardt (LM)?\n * - It's designed for non-linear least squares problems (minimize sum of squared errors)\n * - Our problem: minimize Σ(predicted_position - actual_keypoint_position)²\n * - LM combines gradient descent (when far from solution) and Gauss-Newton\n *   (when close to solution) for fast, robust convergence\n * \n * How it works:\n * 1. Start with initial guess (flat page: all coefficients = 0)\n * 2. For current coefficients:\n *    a. Evaluate the cubic polynomial at each keypoint → get z values\n *    b. Project (x, y, z) back to 2D → get predicted positions\n *    c. Compare predicted vs. actual keypoint positions → compute errors\n * 3. Compute Jacobian (how errors change with each coefficient)\n * 4. Update coefficients to reduce error\n * 5. Repeat until error stops decreasing (converged)\n * \n * The result: 16 coefficients that best explain the observed page curvature.\n */\nexport function fitCubicSheet(\n  keypoints: Array<Point2D>,\n  imageWidth: number,\n  imageHeight: number,\n  config: {\n    maxIterations: number;\n    tolerance: number;\n  },\n  progressCallback?: DewarpProgressCallback\n): CubicSheetFittingResult {\n  if (progressCallback) {\n    progressCallback(\"Model Fitting\", 40, \"Initializing cubic sheet model\");\n  }\n\n  const normalizedKeypoints = keypoints.map((p) => ({\n    x: (p.x - imageWidth / 2) / imageWidth,\n    y: (p.y - imageHeight / 2) / imageHeight,\n  }));\n\n  const initialParams = createFlatSheetParams();\n  const x0 = initialParams.coefficients;\n\n  if (progressCallback) {\n    progressCallback(\n      \"Model Fitting\",\n      45,\n      \"Running Levenberg-Marquardt optimization\"\n    );\n  }\n\n  const fittedParams = [...x0];\n  let iterations = 0;\n  let finalError = 0;\n\n  try {\n    const data = {\n      x: normalizedKeypoints.map((p) => p.x),\n      y: normalizedKeypoints.map((p) => 0),\n    };\n\n    const result = levenbergMarquardt(\n      data,\n      (params: Array<number>, x: number) => {\n        const pointIndex = data.x.indexOf(x);\n        const y = normalizedKeypoints[pointIndex].y;\n        const z = evaluateCubicPolynomial(x, y, params);\n        return z;\n      },\n      {\n        initialValues: x0,\n        maxIterations: config.maxIterations,\n        errorTolerance: config.tolerance,\n      }\n    );\n\n    fittedParams.splice(0, fittedParams.length, ...result.parameterValues);\n    iterations = result.iterations;\n    finalError = result.parameterError;\n\n    if (progressCallback) {\n      progressCallback(\n        \"Model Fitting\",\n        70,\n        `Fitted model in ${iterations} iterations, error: ${finalError.toFixed(4)}`\n      );\n    }\n  } catch (error) {\n    console.warn(\n      \"[Dewarp Optimizer] Levenberg-Marquardt failed, using initial parameters:\",\n      error\n    );\n\n    if (progressCallback) {\n      progressCallback(\n        \"Model Fitting\",\n        70,\n        \"Optimization failed, using flat page model\"\n      );\n    }\n  }\n\n  return {\n    params: { coefficients: fittedParams },\n    iterations,\n    error: finalError,\n  };\n}\n\n/**\n * Compute edge density map for span optimization.\n * \n * EDGE DENSITY EXPLAINED:\n * ======================\n * The edge map from Canny detection is binary: each pixel is either an edge (255)\n * or not an edge (0). This is too noisy to optimize with directly.\n * \n * We create a smoothed \"edge density\" map:\n * - For each pixel, look at a small neighborhood (kernelSize × kernelSize)\n * - Average the edge values in that neighborhood\n * - Store the average as the \"density\" at that pixel\n * \n * Why this helps:\n * - Text regions have many edges close together → high density\n * - Background regions have few edges → low density\n * - The smoothed density is continuous, making optimization easier\n * - We can sample density at non-integer positions (interpolation)\n * \n * Think of it like a \"heat map\" of where text is likely to be.\n */\nexport function computeEdgeDensity(\n  cv: { Mat: new () => Mat },\n  edgeMat: Mat,\n  kernelSize: number = 5\n): Array<Array<number>> {\n  const height = edgeMat.rows;\n  const width = edgeMat.cols;\n  const density: Array<Array<number>> = [];\n\n  for (let y = 0; y < height; y++) {\n    const row: Array<number> = [];\n    for (let x = 0; x < width; x++) {\n      let sum = 0;\n      let count = 0;\n\n      for (let dy = -kernelSize; dy <= kernelSize; dy++) {\n        for (let dx = -kernelSize; dx <= kernelSize; dx++) {\n          const ny = y + dy;\n          const nx = x + dx;\n\n          if (ny >= 0 && ny < height && nx >= 0 && nx < width) {\n            const idx = ny * width + nx;\n            sum += edgeMat.data[idx];\n            count++;\n          }\n        }\n      }\n\n      row.push(sum / count);\n    }\n    density.push(row);\n  }\n\n  return density;\n}\n\n/**\n * Collect all keypoints from detected spans.\n */\nexport function collectKeypointsFromSpans(\n  spans: Array<SpanParams>,\n  imageWidth: number,\n  samplesPerSpan: number = 20\n): Array<Point2D> {\n  const keypoints: Array<Point2D> = [];\n\n  for (const span of spans) {\n    const spanKeypoints = sampleKeypointsOnSpan(span, imageWidth, samplesPerSpan);\n    keypoints.push(...spanKeypoints);\n  }\n\n  return keypoints;\n}\n\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.levenbergMarquardt = void 0;\nconst checkOptions_1 = __importDefault(require(\"./checkOptions\"));\nconst errorCalculation_1 = __importDefault(require(\"./errorCalculation\"));\nconst step_1 = __importDefault(require(\"./step\"));\n/**\n * Curve fitting algorithm\n * @param {{x:ArrayLike<number>, y:ArrayLike<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {function} parameterizedFunction - Takes an array of parameters and returns a function with the independent variable as its sole argument\n * @param {object} [options] - Options object\n * @param {number|ArrayLike<number>} [options.weights = 1] - weighting vector, if the length does not match with the number of data points, the vector is reconstructed with first value.\n * @param {number} [options.damping = 1e-2] - Levenberg-Marquardt parameter, small values of the damping parameter λ result in a Gauss-Newton update and large\nvalues of λ result in a gradient descent update\n * @param {number} [options.dampingStepDown = 9] - factor to reduce the damping (Levenberg-Marquardt parameter) when there is not an improvement when updating parameters.\n * @param {number} [options.dampingStepUp = 11] - factor to increase the damping (Levenberg-Marquardt parameter) when there is an improvement when updating parameters.\n * @param {number} [options.improvementThreshold = 1e-3] - the threshold to define an improvement through an update of parameters\n * @param {number|ArrayLike<number>} [options.gradientDifference = 10e-2] - The step size to approximate the jacobian matrix\n * @param {boolean} [options.centralDifference = false] - If true the jacobian matrix is approximated by central differences otherwise by forward differences\n * @param {ArrayLike<number>} [options.minValues] - Minimum allowed values for parameters\n * @param {ArrayLike<number>} [options.maxValues] - Maximum allowed values for parameters\n * @param {ArrayLike<number>} [options.initialValues] - Array of initial parameter values\n * @param {number} [options.maxIterations = 100] - Maximum of allowed iterations\n * @param {number} [options.errorTolerance = 10e-3] - Minimum uncertainty allowed for each point.\n * @param {number} [options.timeout] - maximum time running before throw in seconds.\n * @return {{parameterValues: Array<number>, parameterError: number, iterations: number}}\n */\nfunction levenbergMarquardt(data, parameterizedFunction, options = {}) {\n    let { checkTimeout, minValues, maxValues, parameters, weightSquare, damping, dampingStepUp, dampingStepDown, maxIterations, errorTolerance, centralDifference, gradientDifference, improvementThreshold, } = (0, checkOptions_1.default)(data, parameterizedFunction, options);\n    let error = (0, errorCalculation_1.default)(data, parameters, parameterizedFunction, weightSquare);\n    let optimalError = error;\n    let optimalParameters = parameters.slice();\n    let converged = error <= errorTolerance;\n    let iteration = 0;\n    for (; iteration < maxIterations && !converged; iteration++) {\n        let previousError = error;\n        let { perturbations, jacobianWeightResidualError } = (0, step_1.default)(data, parameters, damping, gradientDifference, parameterizedFunction, centralDifference, weightSquare);\n        for (let k = 0; k < parameters.length; k++) {\n            parameters[k] = Math.min(Math.max(minValues[k], parameters[k] - perturbations.get(k, 0)), maxValues[k]);\n        }\n        error = (0, errorCalculation_1.default)(data, parameters, parameterizedFunction, weightSquare);\n        if (isNaN(error))\n            break;\n        if (error < optimalError - errorTolerance) {\n            optimalError = error;\n            optimalParameters = parameters.slice();\n        }\n        let improvementMetric = (previousError - error) /\n            perturbations\n                .transpose()\n                .mmul(perturbations.mul(damping).add(jacobianWeightResidualError))\n                .get(0, 0);\n        if (improvementMetric > improvementThreshold) {\n            damping = Math.max(damping / dampingStepDown, 1e-7);\n        }\n        else {\n            damping = Math.min(damping * dampingStepUp, 1e7);\n        }\n        if (checkTimeout()) {\n            throw new Error(`The execution time is over to ${options.timeout} seconds`);\n        }\n        converged = error <= errorTolerance;\n    }\n    return {\n        parameterValues: optimalParameters,\n        parameterError: optimalError,\n        iterations: iteration,\n    };\n}\nexports.levenbergMarquardt = levenbergMarquardt;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_any_array_1 = require(\"is-any-array\");\nfunction checkOptions(data, parameterizedFunction, options) {\n    let { timeout, minValues, maxValues, initialValues, weights = 1, damping = 1e-2, dampingStepUp = 11, dampingStepDown = 9, maxIterations = 100, errorTolerance = 1e-7, centralDifference = false, gradientDifference = 10e-2, improvementThreshold = 1e-3, } = options;\n    if (damping <= 0) {\n        throw new Error('The damping option must be a positive number');\n    }\n    else if (!data.x || !data.y) {\n        throw new Error('The data parameter must have x and y elements');\n    }\n    else if (!(0, is_any_array_1.isAnyArray)(data.x) ||\n        data.x.length < 2 ||\n        !(0, is_any_array_1.isAnyArray)(data.y) ||\n        data.y.length < 2) {\n        throw new Error('The data parameter elements must be an array with more than 2 points');\n    }\n    else if (data.x.length !== data.y.length) {\n        throw new Error('The data parameter elements must have the same size');\n    }\n    if (!(initialValues && initialValues.length > 0)) {\n        throw new Error('The initialValues option is mandatory and must be an array');\n    }\n    let parameters = initialValues;\n    let nbPoints = data.y.length;\n    let parLen = parameters.length;\n    maxValues = maxValues || new Array(parLen).fill(Number.MAX_SAFE_INTEGER);\n    minValues = minValues || new Array(parLen).fill(Number.MIN_SAFE_INTEGER);\n    if (maxValues.length !== minValues.length) {\n        throw new Error('minValues and maxValues must be the same size');\n    }\n    if (typeof gradientDifference === 'number') {\n        gradientDifference = new Array(parameters.length).fill(gradientDifference);\n    }\n    else if ((0, is_any_array_1.isAnyArray)(gradientDifference)) {\n        if (gradientDifference.length !== parLen) {\n            gradientDifference = new Array(parLen).fill(gradientDifference[0]);\n        }\n    }\n    else {\n        throw new Error('gradientDifference should be a number or array with length equal to the number of parameters');\n    }\n    let filler;\n    if (typeof weights === 'number') {\n        let value = 1 / weights ** 2;\n        filler = () => value;\n    }\n    else if ((0, is_any_array_1.isAnyArray)(weights)) {\n        if (weights.length < data.x.length) {\n            let value = 1 / weights[0] ** 2;\n            filler = () => value;\n        }\n        else {\n            filler = (i) => 1 / weights[i] ** 2;\n        }\n    }\n    else {\n        throw new Error('weights should be a number or array with length equal to the number of data points');\n    }\n    let checkTimeout;\n    if (timeout !== undefined) {\n        if (typeof timeout !== 'number') {\n            throw new Error('timeout should be a number');\n        }\n        let endTime = Date.now() + timeout * 1000;\n        checkTimeout = () => Date.now() > endTime;\n    }\n    else {\n        checkTimeout = () => false;\n    }\n    let weightSquare = new Array(data.x.length);\n    for (let i = 0; i < nbPoints; i++) {\n        weightSquare[i] = filler(i);\n    }\n    return {\n        checkTimeout,\n        minValues,\n        maxValues,\n        parameters,\n        weightSquare,\n        damping,\n        dampingStepUp,\n        dampingStepDown,\n        maxIterations,\n        errorTolerance,\n        centralDifference,\n        gradientDifference,\n        improvementThreshold,\n    };\n}\nexports.default = checkOptions;\n//# sourceMappingURL=checkOptions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAnyArray = void 0;\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst toString = Object.prototype.toString;\n/**\n * Checks if an object is an instance of an Array (array or typed array, except those that contain bigint values).\n *\n * @param value - Object to check.\n * @returns True if the object is an array or a typed array.\n */\nfunction isAnyArray(value) {\n    const tag = toString.call(value);\n    return tag.endsWith('Array]') && !tag.includes('Big');\n}\nexports.isAnyArray = isAnyArray;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * the sum of the weighted squares of the errors (or weighted residuals) between the data.y\n * and the curve-fit function.\n * @ignore\n * @param {{x:ArrayLike<number>, y:ArrayLike<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {ArrayLike<number>} parameters - Array of current parameter values\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @param {ArrayLike<number>} weightSquare - Square of weights\n * @return {number}\n */\nfunction errorCalculation(data, parameters, parameterizedFunction, weightSquare) {\n    let error = 0;\n    const func = parameterizedFunction(parameters);\n    for (let i = 0; i < data.x.length; i++) {\n        error += Math.pow(data.y[i] - func(data.x[i]), 2) / weightSquare[i];\n    }\n    return error;\n}\nexports.default = errorCalculation;\n//# sourceMappingURL=errorCalculation.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ml_matrix_1 = require(\"ml-matrix\");\nconst gradientFunction_1 = __importDefault(require(\"./gradientFunction\"));\n/**\n * Matrix function over the samples\n * @ignore\n * @param {{x:ArrayLike<number>, y:ArrayLike<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {ArrayLike<number>} evaluatedData - Array of previous evaluated function values\n * @return {Matrix}\n */\nfunction matrixFunction(data, evaluatedData) {\n    const m = data.x.length;\n    let ans = new ml_matrix_1.Matrix(m, 1);\n    for (let point = 0; point < m; point++) {\n        ans.set(point, 0, data.y[point] - evaluatedData[point]);\n    }\n    return ans;\n}\n/**\n * Iteration for Levenberg-Marquardt\n * @ignore\n * @param {{x:ArrayLike<number>, y:ArrayLike<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number} damping - Levenberg-Marquardt parameter\n * @param {number|array} gradientDifference - The step size to approximate the jacobian matrix\n * @param {boolean} centralDifference - If true the jacobian matrix is approximated by central differences otherwise by forward differences\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n */\nfunction step(data, params, damping, gradientDifference, parameterizedFunction, centralDifference, weights) {\n    let value = damping;\n    let identity = ml_matrix_1.Matrix.eye(params.length, params.length, value);\n    const func = parameterizedFunction(params);\n    let evaluatedData = new Float64Array(data.x.length);\n    for (let i = 0; i < data.x.length; i++) {\n        evaluatedData[i] = func(data.x[i]);\n    }\n    let gradientFunc = (0, gradientFunction_1.default)(data, evaluatedData, params, gradientDifference, parameterizedFunction, centralDifference);\n    let residualError = matrixFunction(data, evaluatedData);\n    let inverseMatrix = (0, ml_matrix_1.inverse)(identity.add(gradientFunc.mmul(gradientFunc.transpose().scale('row', { scale: weights }))));\n    let jacobianWeightResidualError = gradientFunc.mmul(residualError.scale('row', { scale: weights }));\n    let perturbations = inverseMatrix.mmul(jacobianWeightResidualError);\n    return {\n        perturbations,\n        jacobianWeightResidualError,\n    };\n}\nexports.default = step;\n//# sourceMappingURL=step.js.map","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar isAnyArray = require('is-any-array');\nvar rescale = require('ml-array-rescale');\n\nconst indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\n/**\n * @this {Matrix}\n * @returns {string}\n */\nfunction inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nfunction inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8,\n    padMinus = 'auto',\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n\n  if (padMinus === 'auto') {\n    padMinus = false;\n    loop: for (let i = 0; i < maxI; i++) {\n      for (let j = 0; j < maxJ; j++) {\n        if (matrix.get(i, j) < 0) {\n          padMinus = true;\n          break loop;\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize, padMinus));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize, padMinus) {\n  return (\n    num >= 0 && padMinus\n      ? ` ${formatNumber2(num, maxNumSize - 1)}`\n      : formatNumber2(num, maxNumSize)\n  ).padEnd(maxNumSize);\n}\n\nfunction formatNumber2(num, len) {\n  // small.length numbers should be as is\n  let str = num.toString();\n  if (str.length <= len) return str;\n\n  // (7)'0.00123' is better then (7)'1.23e-2'\n  // (8)'0.000123' is worse then (7)'1.23e-3',\n  let fix = num.toFixed(len);\n  if (fix.length > len) {\n    fix = num.toFixed(Math.max(0, len - (fix.length - len)));\n  }\n  if (\n    fix.length <= len &&\n    !fix.startsWith('0.000') &&\n    !fix.startsWith('-0.000')\n  ) {\n    return fix;\n  }\n\n  // well, if it's still too long the user should've used longer numbers\n  let exp = num.toExponential(len);\n  if (exp.length > len) {\n    exp = num.toExponential(Math.max(0, len - (exp.length - len)));\n  }\n  return exp.slice(0);\n}\n\nfunction installMathOperations(AbstractMatrix, Matrix) {\n  AbstractMatrix.prototype.add = function add(value) {\n    if (typeof value === 'number') return this.addS(value);\n    return this.addM(value);\n  };\n\n  AbstractMatrix.prototype.addS = function addS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.addM = function addM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.add = function add(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.add(value);\n  };\n\n  AbstractMatrix.prototype.sub = function sub(value) {\n    if (typeof value === 'number') return this.subS(value);\n    return this.subM(value);\n  };\n\n  AbstractMatrix.prototype.subS = function subS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.subM = function subM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sub = function sub(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sub(value);\n  };\n  AbstractMatrix.prototype.subtract = AbstractMatrix.prototype.sub;\n  AbstractMatrix.prototype.subtractS = AbstractMatrix.prototype.subS;\n  AbstractMatrix.prototype.subtractM = AbstractMatrix.prototype.subM;\n  AbstractMatrix.subtract = AbstractMatrix.sub;\n\n  AbstractMatrix.prototype.mul = function mul(value) {\n    if (typeof value === 'number') return this.mulS(value);\n    return this.mulM(value);\n  };\n\n  AbstractMatrix.prototype.mulS = function mulS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.mulM = function mulM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mul = function mul(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mul(value);\n  };\n  AbstractMatrix.prototype.multiply = AbstractMatrix.prototype.mul;\n  AbstractMatrix.prototype.multiplyS = AbstractMatrix.prototype.mulS;\n  AbstractMatrix.prototype.multiplyM = AbstractMatrix.prototype.mulM;\n  AbstractMatrix.multiply = AbstractMatrix.mul;\n\n  AbstractMatrix.prototype.div = function div(value) {\n    if (typeof value === 'number') return this.divS(value);\n    return this.divM(value);\n  };\n\n  AbstractMatrix.prototype.divS = function divS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.divM = function divM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.div = function div(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.div(value);\n  };\n  AbstractMatrix.prototype.divide = AbstractMatrix.prototype.div;\n  AbstractMatrix.prototype.divideS = AbstractMatrix.prototype.divS;\n  AbstractMatrix.prototype.divideM = AbstractMatrix.prototype.divM;\n  AbstractMatrix.divide = AbstractMatrix.div;\n\n  AbstractMatrix.prototype.mod = function mod(value) {\n    if (typeof value === 'number') return this.modS(value);\n    return this.modM(value);\n  };\n\n  AbstractMatrix.prototype.modS = function modS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.modM = function modM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mod = function mod(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mod(value);\n  };\n  AbstractMatrix.prototype.modulus = AbstractMatrix.prototype.mod;\n  AbstractMatrix.prototype.modulusS = AbstractMatrix.prototype.modS;\n  AbstractMatrix.prototype.modulusM = AbstractMatrix.prototype.modM;\n  AbstractMatrix.modulus = AbstractMatrix.mod;\n\n  AbstractMatrix.prototype.and = function and(value) {\n    if (typeof value === 'number') return this.andS(value);\n    return this.andM(value);\n  };\n\n  AbstractMatrix.prototype.andS = function andS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.andM = function andM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.and = function and(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.and(value);\n  };\n\n  AbstractMatrix.prototype.or = function or(value) {\n    if (typeof value === 'number') return this.orS(value);\n    return this.orM(value);\n  };\n\n  AbstractMatrix.prototype.orS = function orS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.orM = function orM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.or = function or(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.or(value);\n  };\n\n  AbstractMatrix.prototype.xor = function xor(value) {\n    if (typeof value === 'number') return this.xorS(value);\n    return this.xorM(value);\n  };\n\n  AbstractMatrix.prototype.xorS = function xorS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.xorM = function xorM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.xor = function xor(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.xor(value);\n  };\n\n  AbstractMatrix.prototype.leftShift = function leftShift(value) {\n    if (typeof value === 'number') return this.leftShiftS(value);\n    return this.leftShiftM(value);\n  };\n\n  AbstractMatrix.prototype.leftShiftS = function leftShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.leftShiftM = function leftShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.leftShift = function leftShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.leftShift(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShift = function signPropagatingRightShift(value) {\n    if (typeof value === 'number') return this.signPropagatingRightShiftS(value);\n    return this.signPropagatingRightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftS = function signPropagatingRightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftM = function signPropagatingRightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.signPropagatingRightShift = function signPropagatingRightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.signPropagatingRightShift(value);\n  };\n\n  AbstractMatrix.prototype.rightShift = function rightShift(value) {\n    if (typeof value === 'number') return this.rightShiftS(value);\n    return this.rightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.rightShiftS = function rightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.rightShiftM = function rightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.rightShift = function rightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.rightShift(value);\n  };\n  AbstractMatrix.prototype.zeroFillRightShift = AbstractMatrix.prototype.rightShift;\n  AbstractMatrix.prototype.zeroFillRightShiftS = AbstractMatrix.prototype.rightShiftS;\n  AbstractMatrix.prototype.zeroFillRightShiftM = AbstractMatrix.prototype.rightShiftM;\n  AbstractMatrix.zeroFillRightShift = AbstractMatrix.rightShift;\n\n  AbstractMatrix.prototype.not = function not() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, ~(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.not = function not(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.not();\n  };\n\n  AbstractMatrix.prototype.abs = function abs() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.abs(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.abs = function abs(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.abs();\n  };\n\n  AbstractMatrix.prototype.acos = function acos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acos = function acos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acos();\n  };\n\n  AbstractMatrix.prototype.acosh = function acosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acosh = function acosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acosh();\n  };\n\n  AbstractMatrix.prototype.asin = function asin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asin = function asin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asin();\n  };\n\n  AbstractMatrix.prototype.asinh = function asinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asinh = function asinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asinh();\n  };\n\n  AbstractMatrix.prototype.atan = function atan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atan = function atan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atan();\n  };\n\n  AbstractMatrix.prototype.atanh = function atanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atanh = function atanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atanh();\n  };\n\n  AbstractMatrix.prototype.cbrt = function cbrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cbrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cbrt = function cbrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cbrt();\n  };\n\n  AbstractMatrix.prototype.ceil = function ceil() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.ceil(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.ceil = function ceil(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.ceil();\n  };\n\n  AbstractMatrix.prototype.clz32 = function clz32() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.clz32(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.clz32 = function clz32(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.clz32();\n  };\n\n  AbstractMatrix.prototype.cos = function cos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cos = function cos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cos();\n  };\n\n  AbstractMatrix.prototype.cosh = function cosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cosh = function cosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cosh();\n  };\n\n  AbstractMatrix.prototype.exp = function exp() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.exp(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.exp = function exp(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.exp();\n  };\n\n  AbstractMatrix.prototype.expm1 = function expm1() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.expm1(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.expm1 = function expm1(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.expm1();\n  };\n\n  AbstractMatrix.prototype.floor = function floor() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.floor(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.floor = function floor(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.floor();\n  };\n\n  AbstractMatrix.prototype.fround = function fround() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.fround(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.fround = function fround(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.fround();\n  };\n\n  AbstractMatrix.prototype.log = function log() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log = function log(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log();\n  };\n\n  AbstractMatrix.prototype.log1p = function log1p() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log1p(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log1p = function log1p(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log1p();\n  };\n\n  AbstractMatrix.prototype.log10 = function log10() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log10(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log10 = function log10(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log10();\n  };\n\n  AbstractMatrix.prototype.log2 = function log2() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log2(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log2 = function log2(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log2();\n  };\n\n  AbstractMatrix.prototype.round = function round() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.round(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.round = function round(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.round();\n  };\n\n  AbstractMatrix.prototype.sign = function sign() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sign(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sign = function sign(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sign();\n  };\n\n  AbstractMatrix.prototype.sin = function sin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sin = function sin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sin();\n  };\n\n  AbstractMatrix.prototype.sinh = function sinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sinh = function sinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sinh();\n  };\n\n  AbstractMatrix.prototype.sqrt = function sqrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sqrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sqrt = function sqrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sqrt();\n  };\n\n  AbstractMatrix.prototype.tan = function tan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tan = function tan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tan();\n  };\n\n  AbstractMatrix.prototype.tanh = function tanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tanh = function tanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tanh();\n  };\n\n  AbstractMatrix.prototype.trunc = function trunc() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.trunc(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.trunc = function trunc(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.trunc();\n  };\n\n  AbstractMatrix.pow = function pow(matrix, arg0) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.pow(arg0);\n  };\n\n  AbstractMatrix.prototype.pow = function pow(value) {\n    if (typeof value === 'number') return this.powS(value);\n    return this.powM(value);\n  };\n\n  AbstractMatrix.prototype.powS = function powS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ** value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.powM = function powM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ** matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n}\n\n/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nfunction checkRowIndex(matrix, index, outer) {\n  let max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nfunction checkColumnIndex(matrix, index, outer) {\n  let max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nfunction checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns',\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nfunction checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nfunction checkRowIndices(matrix, rowIndices) {\n  if (!isAnyArray.isAnyArray(rowIndices)) {\n    throw new TypeError('row indices must be an array');\n  }\n\n  for (let i = 0; i < rowIndices.length; i++) {\n    if (rowIndices[i] < 0 || rowIndices[i] >= matrix.rows) {\n      throw new RangeError('row indices are out of range');\n    }\n  }\n}\n\nfunction checkColumnIndices(matrix, columnIndices) {\n  if (!isAnyArray.isAnyArray(columnIndices)) {\n    throw new TypeError('column indices must be an array');\n  }\n\n  for (let i = 0; i < columnIndices.length; i++) {\n    if (columnIndices[i] < 0 || columnIndices[i] >= matrix.columns) {\n      throw new RangeError('column indices are out of range');\n    }\n  }\n}\n\nfunction checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nfunction newArray(length, value = 0) {\n  let array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(value);\n  }\n  return array;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n\nfunction checkNonEmpty(matrix) {\n  if (matrix.isEmpty()) {\n    throw new Error('Empty matrix has no elements to index');\n  }\n}\n\nfunction sumByRow(matrix) {\n  let sum = newArray(matrix.rows);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction sumByColumn(matrix) {\n  let sum = newArray(matrix.columns);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction sumAll(matrix) {\n  let v = 0;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nfunction productByRow(matrix) {\n  let sum = newArray(matrix.rows, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction productByColumn(matrix) {\n  let sum = newArray(matrix.columns, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nfunction productAll(matrix) {\n  let v = 1;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v *= matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nfunction varianceByRow(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let i = 0; i < rows; i++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean[i];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / cols) / (cols - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / cols) / cols);\n    }\n  }\n  return variance;\n}\n\nfunction varianceByColumn(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let j = 0; j < cols; j++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let i = 0; i < rows; i++) {\n      x = matrix.get(i, j) - mean[j];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / rows) / (rows - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / rows) / rows);\n    }\n  }\n  return variance;\n}\n\nfunction varianceAll(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const size = rows * cols;\n\n  let sum1 = 0;\n  let sum2 = 0;\n  let x = 0;\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean;\n      sum1 += x;\n      sum2 += x * x;\n    }\n  }\n  if (unbiased) {\n    return (sum2 - (sum1 * sum1) / size) / (size - 1);\n  } else {\n    return (sum2 - (sum1 * sum1) / size) / size;\n  }\n}\n\nfunction centerByRow(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[i]);\n    }\n  }\n}\n\nfunction centerByColumn(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[j]);\n    }\n  }\n}\n\nfunction centerAll(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean);\n    }\n  }\n}\n\nfunction getScaleByRow(matrix) {\n  const scale = [];\n  for (let i = 0; i < matrix.rows; i++) {\n    let sum = 0;\n    for (let j = 0; j < matrix.columns; j++) {\n      sum += matrix.get(i, j) ** 2 / (matrix.columns - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nfunction scaleByRow(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[i]);\n    }\n  }\n}\n\nfunction getScaleByColumn(matrix) {\n  const scale = [];\n  for (let j = 0; j < matrix.columns; j++) {\n    let sum = 0;\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += matrix.get(i, j) ** 2 / (matrix.rows - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nfunction scaleByColumn(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[j]);\n    }\n  }\n}\n\nfunction getScaleAll(matrix) {\n  const divider = matrix.size - 1;\n  let sum = 0;\n  for (let j = 0; j < matrix.columns; j++) {\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += matrix.get(i, j) ** 2 / divider;\n    }\n  }\n  return Math.sqrt(sum);\n}\n\nfunction scaleAll(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale);\n    }\n  }\n}\n\nclass AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isEmpty() {\n    return this.rows === 0 || this.columns === 0;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isDistance() {\n    if (!this.isSymmetric()) return false;\n\n    for (let i = 0; i < this.rows; i++) {\n      if (this.get(i, i) !== 0) return false;\n    }\n\n    return true;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max(by) {\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    switch (by) {\n      case 'row': {\n        const max = new Array(this.rows).fill(Number.NEGATIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max[row]) {\n              max[row] = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      case 'column': {\n        const max = new Array(this.columns).fill(Number.NEGATIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max[column]) {\n              max[column] = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      case undefined: {\n        let max = this.get(0, 0);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) > max) {\n              max = this.get(row, column);\n            }\n          }\n        }\n        return max;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  maxIndex() {\n    checkNonEmpty(this);\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min(by) {\n    if (this.isEmpty()) {\n      return NaN;\n    }\n\n    switch (by) {\n      case 'row': {\n        const min = new Array(this.rows).fill(Number.POSITIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min[row]) {\n              min[row] = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      case 'column': {\n        const min = new Array(this.columns).fill(Number.POSITIVE_INFINITY);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min[column]) {\n              min[column] = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      case undefined: {\n        let min = this.get(0, 0);\n        for (let row = 0; row < this.rows; row++) {\n          for (let column = 0; column < this.columns; column++) {\n            if (this.get(row, column) < min) {\n              min = this.get(row, column);\n            }\n          }\n        }\n        return min;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  minIndex() {\n    checkNonEmpty(this);\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    checkNonEmpty(this);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    checkNonEmpty(this);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    checkNonEmpty(this);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    if (this.isEmpty()) {\n      return NaN;\n    }\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    checkNonEmpty(this);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    switch (type) {\n      case 'max':\n        return this.max();\n      case 'frobenius':\n        return Math.sqrt(this.dot(this));\n      default:\n        throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  mpow(scalar) {\n    if (!this.isSquare()) {\n      throw new RangeError('Matrix must be square');\n    }\n    if (!Number.isInteger(scalar) || scalar < 0) {\n      throw new RangeError('Exponent must be a non-negative integer');\n    }\n    // Russian Peasant exponentiation, i.e. exponentiation by squaring\n    let result = Matrix.eye(this.rows);\n    let bb = this;\n    // Note: Don't bit shift. In JS, that would truncate at 32 bits\n    for (let e = scalar; e >= 1; e /= 2) {\n      if ((e & 1) !== 0) {\n        result = result.mmul(bb);\n      }\n      bb = bb.mmul(bb);\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let result = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      result = result.setSubMatrix(c11, 0, 0);\n      result = result.setSubMatrix(c12, c11.rows, 0);\n      result = result.setSubMatrix(c21, 0, c11.columns);\n      result = result.setSubMatrix(c22, c11.rows, c11.columns);\n      return result.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      if (row.length > 0) {\n        rescale(row, { min, max, output: row });\n      }\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      if (column.length) {\n        rescale(column, {\n          min,\n          max,\n          output: column,\n        });\n      }\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  kroneckerSum(other) {\n    other = Matrix.checkMatrix(other);\n    if (!this.isSquare() || !other.isSquare()) {\n      throw new Error('Kronecker Sum needs two Square Matrices');\n    }\n    let m = this.rows;\n    let n = other.rows;\n    let AxI = this.kroneckerProduct(Matrix.eye(n, n));\n    let IxB = Matrix.eye(m, m).kroneckerProduct(other);\n    return AxI.add(IxB);\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (matrix.isEmpty()) {\n      return this;\n    }\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    checkRowIndices(this, rowIndices);\n    checkColumnIndices(this, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < rowIndices.length; i++) {\n      let rowIndex = rowIndices[i];\n      for (let j = 0; j < columnIndices.length; j++) {\n        let columnIndex = columnIndices[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    return this.constructor.copy(this, new Matrix(this.rows, this.columns));\n  }\n\n  /**\n   * @template {AbstractMatrix} M\n   * @param {AbstractMatrix} from\n   * @param {M} to\n   * @return {M}\n   */\n  static copy(from, to) {\n    for (const [row, column, value] of from.entries()) {\n      to.set(row, column, value);\n    }\n\n    return to;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!isAnyArray.isAnyArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!isAnyArray.isAnyArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!isAnyArray.isAnyArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!isAnyArray.isAnyArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!isAnyArray.isAnyArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!isAnyArray.isAnyArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  toString(options) {\n    return inspectMatrixWithOptions(this, options);\n  }\n\n  [Symbol.iterator]() {\n    return this.entries();\n  }\n\n  /**\n   * iterator from left to right, from top to bottom\n   * yield [row, column, value]\n   * @returns {Generator<[number, number, number], void, void>}\n   */\n  *entries() {\n    for (let row = 0; row < this.rows; row++) {\n      for (let col = 0; col < this.columns; col++) {\n        yield [row, col, this.get(row, col)];\n      }\n    }\n  }\n\n  /**\n   * iterator from left to right, from top to bottom\n   * yield value\n   * @returns {Generator<number, void, void>}\n   */\n  *values() {\n    for (let row = 0; row < this.rows; row++) {\n      for (let col = 0; col < this.columns; col++) {\n        yield this.get(row, col);\n      }\n    }\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[Symbol.for('nodejs.util.inspect.custom')] =\n    inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\nfunction isArrayOfNumbers(array) {\n  return array.every((element) => {\n    return typeof element === 'number';\n  });\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nclass Matrix extends AbstractMatrix {\n  /**\n   * @type {Float64Array[]}\n   */\n  data;\n\n  /**\n   * Init an empty matrix\n   * @param {number} nRows\n   * @param {number} nColumns\n   */\n  #initData(nRows, nColumns) {\n    this.data = [];\n\n    if (Number.isInteger(nColumns) && nColumns >= 0) {\n      for (let i = 0; i < nRows; i++) {\n        this.data.push(new Float64Array(nColumns));\n      }\n    } else {\n      throw new TypeError('nColumns must be a positive integer');\n    }\n\n    this.rows = nRows;\n    this.columns = nColumns;\n  }\n\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      this.#initData(nRows.rows, nRows.columns);\n      Matrix.copy(nRows, this);\n    } else if (Number.isInteger(nRows) && nRows >= 0) {\n      this.#initData(nRows, nColumns);\n    } else if (isAnyArray.isAnyArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = nRows ? arrayData[0].length : 0;\n      if (typeof nColumns !== 'number') {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        if (!isArrayOfNumbers(arrayData[i])) {\n          throw new TypeError('Input data contains non-numeric values');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n\n      this.rows = nRows;\n      this.columns = nColumns;\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n\n/**\n * @typedef {0 | 1 | number | boolean} Mask\n */\n\nclass SymmetricMatrix extends AbstractMatrix {\n  /** @type {Matrix} */\n  #matrix;\n\n  get size() {\n    return this.#matrix.size;\n  }\n\n  get rows() {\n    return this.#matrix.rows;\n  }\n\n  get columns() {\n    return this.#matrix.columns;\n  }\n\n  get diagonalSize() {\n    return this.rows;\n  }\n\n  /**\n   * not the same as matrix.isSymmetric()\n   * Here is to check if it's instanceof SymmetricMatrix without bundling issues\n   *\n   * @param value\n   * @returns {boolean}\n   */\n  static isSymmetricMatrix(value) {\n    return Matrix.isMatrix(value) && value.klassType === 'SymmetricMatrix';\n  }\n\n  /**\n   * @param diagonalSize\n   * @return {SymmetricMatrix}\n   */\n  static zeros(diagonalSize) {\n    return new this(diagonalSize);\n  }\n\n  /**\n   * @param diagonalSize\n   * @return {SymmetricMatrix}\n   */\n  static ones(diagonalSize) {\n    return new this(diagonalSize).fill(1);\n  }\n\n  /**\n   * @param {number | AbstractMatrix | ArrayLike<ArrayLike<number>>} diagonalSize\n   * @return {this}\n   */\n  constructor(diagonalSize) {\n    super();\n\n    if (Matrix.isMatrix(diagonalSize)) {\n      if (!diagonalSize.isSymmetric()) {\n        throw new TypeError('not symmetric data');\n      }\n\n      this.#matrix = Matrix.copy(\n        diagonalSize,\n        new Matrix(diagonalSize.rows, diagonalSize.rows),\n      );\n    } else if (Number.isInteger(diagonalSize) && diagonalSize >= 0) {\n      this.#matrix = new Matrix(diagonalSize, diagonalSize);\n    } else {\n      this.#matrix = new Matrix(diagonalSize);\n\n      if (!this.isSymmetric()) {\n        throw new TypeError('not symmetric data');\n      }\n    }\n  }\n\n  clone() {\n    const matrix = new SymmetricMatrix(this.diagonalSize);\n\n    for (const [row, col, value] of this.upperRightEntries()) {\n      matrix.set(row, col, value);\n    }\n\n    return matrix;\n  }\n\n  toMatrix() {\n    return new Matrix(this);\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.#matrix.get(rowIndex, columnIndex);\n  }\n  set(rowIndex, columnIndex, value) {\n    // symmetric set\n    this.#matrix.set(rowIndex, columnIndex, value);\n    this.#matrix.set(columnIndex, rowIndex, value);\n\n    return this;\n  }\n\n  removeCross(index) {\n    // symmetric remove side\n    this.#matrix.removeRow(index);\n    this.#matrix.removeColumn(index);\n\n    return this;\n  }\n\n  addCross(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.diagonalSize;\n    }\n\n    const row = array.slice();\n    row.splice(index, 1);\n\n    this.#matrix.addRow(index, row);\n    this.#matrix.addColumn(index, array);\n\n    return this;\n  }\n\n  /**\n   * @param {Mask[]} mask\n   */\n  applyMask(mask) {\n    if (mask.length !== this.diagonalSize) {\n      throw new RangeError('Mask size do not match with matrix size');\n    }\n\n    // prepare sides to remove from matrix from mask\n    /** @type {number[]} */\n    const sidesToRemove = [];\n    for (const [index, passthroughs] of mask.entries()) {\n      if (passthroughs) continue;\n      sidesToRemove.push(index);\n    }\n    // to remove from highest to lowest for no mutation shifting\n    sidesToRemove.reverse();\n\n    // remove sides\n    for (const sideIndex of sidesToRemove) {\n      this.removeCross(sideIndex);\n    }\n\n    return this;\n  }\n\n  /**\n   * Compact format upper-right corner of matrix\n   * iterate from left to right, from top to bottom.\n   *\n   * ```\n   *   A B C D\n   * A 1 2 3 4\n   * B 2 5 6 7\n   * C 3 6 8 9\n   * D 4 7 9 10\n   * ```\n   *\n   * will return compact 1D array `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]`\n   *\n   * length is S(i=0, n=sideSize) => 10 for a 4 sideSized matrix\n   *\n   * @returns {number[]}\n   */\n  toCompact() {\n    const { diagonalSize } = this;\n\n    /** @type {number[]} */\n    const compact = new Array((diagonalSize * (diagonalSize + 1)) / 2);\n    for (let col = 0, row = 0, index = 0; index < compact.length; index++) {\n      compact[index] = this.get(row, col);\n\n      if (++col >= diagonalSize) col = ++row;\n    }\n\n    return compact;\n  }\n\n  /**\n   * @param {number[]} compact\n   * @return {SymmetricMatrix}\n   */\n  static fromCompact(compact) {\n    const compactSize = compact.length;\n    // compactSize = (sideSize * (sideSize + 1)) / 2\n    // https://mathsolver.microsoft.com/fr/solve-problem/y%20%3D%20%20x%20%60cdot%20%20%20%60frac%7B%20%20%60left(%20x%2B1%20%20%60right)%20%20%20%20%7D%7B%202%20%20%7D\n    // sideSize = (Sqrt(8 × compactSize + 1) - 1) / 2\n    const diagonalSize = (Math.sqrt(8 * compactSize + 1) - 1) / 2;\n\n    if (!Number.isInteger(diagonalSize)) {\n      throw new TypeError(\n        `This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(\n          compact,\n        )}`,\n      );\n    }\n\n    const matrix = new SymmetricMatrix(diagonalSize);\n    for (let col = 0, row = 0, index = 0; index < compactSize; index++) {\n      matrix.set(col, row, compact[index]);\n      if (++col >= diagonalSize) col = ++row;\n    }\n\n    return matrix;\n  }\n\n  /**\n   * half iterator upper-right-corner from left to right, from top to bottom\n   * yield [row, column, value]\n   *\n   * @returns {Generator<[number, number, number], void, void>}\n   */\n  *upperRightEntries() {\n    for (let row = 0, col = 0; row < this.diagonalSize; void 0) {\n      const value = this.get(row, col);\n\n      yield [row, col, value];\n\n      // at the end of row, move cursor to next row at diagonal position\n      if (++col >= this.diagonalSize) col = ++row;\n    }\n  }\n\n  /**\n   * half iterator upper-right-corner from left to right, from top to bottom\n   * yield value\n   *\n   * @returns {Generator<[number, number, number], void, void>}\n   */\n  *upperRightValues() {\n    for (let row = 0, col = 0; row < this.diagonalSize; void 0) {\n      const value = this.get(row, col);\n\n      yield value;\n\n      // at the end of row, move cursor to next row at diagonal position\n      if (++col >= this.diagonalSize) col = ++row;\n    }\n  }\n}\nSymmetricMatrix.prototype.klassType = 'SymmetricMatrix';\n\nclass DistanceMatrix extends SymmetricMatrix {\n  /**\n   * not the same as matrix.isSymmetric()\n   * Here is to check if it's instanceof SymmetricMatrix without bundling issues\n   *\n   * @param value\n   * @returns {boolean}\n   */\n  static isDistanceMatrix(value) {\n    return (\n      SymmetricMatrix.isSymmetricMatrix(value) &&\n      value.klassSubType === 'DistanceMatrix'\n    );\n  }\n\n  constructor(sideSize) {\n    super(sideSize);\n\n    if (!this.isDistance()) {\n      throw new TypeError('Provided arguments do no produce a distance matrix');\n    }\n  }\n\n  set(rowIndex, columnIndex, value) {\n    // distance matrix diagonal is 0\n    if (rowIndex === columnIndex) value = 0;\n\n    return super.set(rowIndex, columnIndex, value);\n  }\n\n  addCross(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.diagonalSize;\n    }\n\n    // ensure distance\n    array = array.slice();\n    array[index] = 0;\n\n    return super.addCross(index, array);\n  }\n\n  toSymmetricMatrix() {\n    return new SymmetricMatrix(this);\n  }\n\n  clone() {\n    const matrix = new DistanceMatrix(this.diagonalSize);\n\n    for (const [row, col, value] of this.upperRightEntries()) {\n      if (row === col) continue;\n      matrix.set(row, col, value);\n    }\n\n    return matrix;\n  }\n\n  /**\n   * Compact format upper-right corner of matrix\n   * no diagonal (only zeros)\n   * iterable from left to right, from top to bottom.\n   *\n   * ```\n   *   A B C D\n   * A 0 1 2 3\n   * B 1 0 4 5\n   * C 2 4 0 6\n   * D 3 5 6 0\n   * ```\n   *\n   * will return compact 1D array `[1, 2, 3, 4, 5, 6]`\n   *\n   * length is S(i=0, n=sideSize-1) => 6 for a 4 side sized matrix\n   *\n   * @returns {number[]}\n   */\n  toCompact() {\n    const { diagonalSize } = this;\n    const compactLength = ((diagonalSize - 1) * diagonalSize) / 2;\n\n    /** @type {number[]} */\n    const compact = new Array(compactLength);\n    for (let col = 1, row = 0, index = 0; index < compact.length; index++) {\n      compact[index] = this.get(row, col);\n\n      if (++col >= diagonalSize) col = ++row + 1;\n    }\n\n    return compact;\n  }\n\n  /**\n   * @param {number[]} compact\n   */\n  static fromCompact(compact) {\n    const compactSize = compact.length;\n\n    if (compactSize === 0) {\n      return new this(0);\n    }\n\n    // compactSize in Natural integer range ]0;∞]\n    // compactSize = (sideSize * (sideSize - 1)) / 2\n    // sideSize = (Sqrt(8 × compactSize + 1) + 1) / 2\n    const diagonalSize = (Math.sqrt(8 * compactSize + 1) + 1) / 2;\n\n    if (!Number.isInteger(diagonalSize)) {\n      throw new TypeError(\n        `This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(\n          compact,\n        )}`,\n      );\n    }\n\n    const matrix = new this(diagonalSize);\n    for (let col = 1, row = 0, index = 0; index < compactSize; index++) {\n      matrix.set(col, row, compact[index]);\n      if (++col >= diagonalSize) col = ++row + 1;\n    }\n\n    return matrix;\n  }\n}\nDistanceMatrix.prototype.klassSubType = 'DistanceMatrix';\n\nclass BaseView extends AbstractMatrix {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n}\n\nclass MatrixColumnView extends BaseView {\n  constructor(matrix, column) {\n    checkColumnIndex(matrix, column);\n    super(matrix, matrix.rows, 1);\n    this.column = column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.column, value);\n    return this;\n  }\n\n  get(rowIndex) {\n    return this.matrix.get(rowIndex, this.column);\n  }\n}\n\nclass MatrixColumnSelectionView extends BaseView {\n  constructor(matrix, columnIndices) {\n    checkColumnIndices(matrix, columnIndices);\n    super(matrix, matrix.rows, columnIndices.length);\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columnIndices[columnIndex], value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columnIndices[columnIndex]);\n  }\n}\n\nclass MatrixFlipColumnView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columns - columnIndex - 1, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columns - columnIndex - 1);\n  }\n}\n\nclass MatrixFlipRowView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rows - rowIndex - 1, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rows - rowIndex - 1, columnIndex);\n  }\n}\n\nclass MatrixRowView extends BaseView {\n  constructor(matrix, row) {\n    checkRowIndex(matrix, row);\n    super(matrix, 1, matrix.columns);\n    this.row = row;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.row, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.row, columnIndex);\n  }\n}\n\nclass MatrixRowSelectionView extends BaseView {\n  constructor(matrix, rowIndices) {\n    checkRowIndices(matrix, rowIndices);\n    super(matrix, rowIndices.length, matrix.columns);\n    this.rowIndices = rowIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rowIndices[rowIndex], columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rowIndices[rowIndex], columnIndex);\n  }\n}\n\nclass MatrixSelectionView extends BaseView {\n  constructor(matrix, rowIndices, columnIndices) {\n    checkRowIndices(matrix, rowIndices);\n    checkColumnIndices(matrix, columnIndices);\n    super(matrix, rowIndices.length, columnIndices.length);\n    this.rowIndices = rowIndices;\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n    );\n  }\n}\n\nclass MatrixSubView extends BaseView {\n  constructor(matrix, startRow, endRow, startColumn, endColumn) {\n    checkRange(matrix, startRow, endRow, startColumn, endColumn);\n    super(matrix, endRow - startRow + 1, endColumn - startColumn + 1);\n    this.startRow = startRow;\n    this.startColumn = startColumn;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n    );\n  }\n}\n\nclass MatrixTransposeView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.columns, matrix.rows);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(columnIndex, rowIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(columnIndex, rowIndex);\n  }\n}\n\nclass WrapperMatrix1D extends AbstractMatrix {\n  constructor(data, options = {}) {\n    const { rows = 1 } = options;\n\n    if (data.length % rows !== 0) {\n      throw new Error('the data length is not divisible by the number of rows');\n    }\n    super();\n    this.rows = rows;\n    this.columns = data.length / rows;\n    this.data = data;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    this.data[index] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    return this.data[index];\n  }\n\n  _calculateIndex(row, column) {\n    return row * this.columns + column;\n  }\n}\n\nclass WrapperMatrix2D extends AbstractMatrix {\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n}\n\nfunction wrap(array, options) {\n  if (isAnyArray.isAnyArray(array)) {\n    if (array[0] && isAnyArray.isAnyArray(array[0])) {\n      return new WrapperMatrix2D(array);\n    } else {\n      return new WrapperMatrix1D(array, options);\n    }\n  } else {\n    throw new Error('the argument is not an array');\n  }\n}\n\nclass LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    let lu = matrix.clone();\n    let rows = lu.rows;\n    let columns = lu.columns;\n    let pivotVector = new Float64Array(rows);\n    let pivotSign = 1;\n    let i, j, k, p, s, t, v;\n    let LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Float64Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  isSingular() {\n    let data = this.LU;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      if (data.get(j, j) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let lu = this.LU;\n    let rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    let count = value.columns;\n    let X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    let columns = lu.columns;\n    let i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / lu.get(k, k));\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    return X;\n  }\n\n  get determinant() {\n    let data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    let determinant = this.pivotSign;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      determinant *= data.get(j, j);\n    }\n    return determinant;\n  }\n\n  get lowerTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i > j) {\n          X.set(i, j, data.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, 1);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get upperTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i <= j) {\n          X.set(i, j, data.get(i, j));\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get pivotPermutationVector() {\n    return Array.from(this.pivotVector);\n  }\n}\n\nfunction hypotenuse(a, b) {\n  let r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n\nclass QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let qr = value.clone();\n    let m = value.rows;\n    let n = value.columns;\n    let rdiag = new Float64Array(n);\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      let nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let qr = this.QR;\n    let m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    let count = value.columns;\n    let X = value.clone();\n    let n = qr.columns;\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr.get(i, k) * X.get(i, j);\n        }\n        s = -s / qr.get(k, k);\n        for (i = k; i < m; i++) {\n          X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / this.Rdiag[k]);\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * qr.get(i, k));\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  isFullRank() {\n    let columns = this.QR.columns;\n    for (let i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  get upperTriangularMatrix() {\n    let qr = this.QR;\n    let n = qr.columns;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X.set(i, j, qr.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, this.Rdiag[i]);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get orthogonalMatrix() {\n    let qr = this.QR;\n    let rows = qr.rows;\n    let columns = qr.columns;\n    let X = new Matrix(rows, columns);\n    let i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X.set(i, k, 0);\n      }\n      X.set(k, k, 1);\n      for (j = k; j < columns; j++) {\n        if (qr.get(k, k) !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr.get(i, k) * X.get(i, j);\n          }\n\n          s = -s / qr.get(k, k);\n\n          for (i = k; i < rows; i++) {\n            X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n\nclass SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    if (value.isEmpty()) {\n      throw new Error('Matrix must be non-empty');\n    }\n\n    let m = value.rows;\n    let n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false,\n    } = options;\n\n    let wantu = Boolean(computeLeftSingularVectors);\n    let wantv = Boolean(computeRightSingularVectors);\n\n    let swapped = false;\n    let a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        let aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    let nu = Math.min(m, n);\n    let ni = Math.min(m + 1, n);\n    let s = new Float64Array(ni);\n    let U = new Matrix(m, nu);\n    let V = new Matrix(n, n);\n\n    let e = new Float64Array(n);\n    let work = new Float64Array(m);\n\n    let si = new Float64Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    let nct = Math.min(m - 1, n);\n    let nrt = Math.max(0, Math.min(n - 2, m));\n    let mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a.get(i, k));\n        }\n        if (s[k] !== 0) {\n          if (a.get(k, k) < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a.set(i, k, a.get(i, k) / s[k]);\n          }\n          a.set(k, k, a.get(k, k) + 1);\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a.get(i, k) * a.get(i, j);\n          }\n          t = -t / a.get(k, k);\n          for (let i = k; i < m; i++) {\n            a.set(i, j, a.get(i, j) + t * a.get(i, k));\n          }\n        }\n        e[j] = a.get(k, j);\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U.set(i, k, a.get(i, k));\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a.get(i, j);\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a.set(i, j, a.get(i, j) + t * work[i]);\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V.set(i, k, e[i]);\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a.get(nct, nct);\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a.get(nrt, p - 1);\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U.set(i, j, 0);\n        }\n        U.set(j, j, 1);\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U.get(i, k) * U.get(i, j);\n            }\n            t = -t / U.get(k, k);\n            for (let i = k; i < m; i++) {\n              U.set(i, j, U.get(i, j) + t * U.get(i, k));\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U.set(i, k, -U.get(i, k));\n          }\n          U.set(k, k, 1 + U.get(k, k));\n          for (let i = 0; i < k - 1; i++) {\n            U.set(i, k, 0);\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U.set(i, k, 0);\n          }\n          U.set(k, k, 1);\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V.get(i, k) * V.get(i, j);\n            }\n            t = -t / V.get(k + 1, k);\n            for (let i = k + 1; i < n; i++) {\n              V.set(i, j, V.get(i, j) + t * V.get(i, k));\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V.set(i, k, 0);\n        }\n        V.set(k, k, 1);\n      }\n    }\n\n    let pp = p - 1;\n    let eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, p - 1);\n                V.set(i, p - 1, -sn * V.get(i, j) + cs * V.get(i, p - 1));\n                V.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, k - 1);\n                U.set(i, k - 1, -sn * U.get(i, j) + cs * U.get(i, k - 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k]),\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, j + 1);\n                V.set(i, j + 1, -sn * V.get(i, j) + cs * V.get(i, j + 1));\n                V.set(i, j, t);\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, j + 1);\n                U.set(i, j + 1, -sn * U.get(i, j) + cs * U.get(i, j + 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          e[p - 2] = f;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V.set(i, k, -V.get(i, k));\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V.get(i, k + 1);\n                V.set(i, k + 1, V.get(i, k));\n                V.set(i, k, t);\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U.get(i, k + 1);\n                U.set(i, k + 1, U.get(i, k));\n                U.set(i, k, t);\n              }\n            }\n            k++;\n          }\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      let tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  solve(value) {\n    let Y = value;\n    let e = this.threshold;\n    let scols = this.s.length;\n    let Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls.set(i, i, 0);\n      } else {\n        Ls.set(i, i, 1 / this.s[i]);\n      }\n    }\n\n    let U = this.U;\n    let V = this.rightSingularVectors;\n\n    let VL = V.mmul(Ls);\n    let vrows = V.rows;\n    let urows = U.rows;\n    let VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL.get(i, k) * U.get(j, k);\n        }\n        VLU.set(i, j, sum);\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  inverse() {\n    let V = this.V;\n    let e = this.threshold;\n    let vrows = V.rows;\n    let vcols = V.columns;\n    let X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X.set(i, j, V.get(i, j) / this.s[j]);\n        }\n      }\n    }\n\n    let U = this.U;\n\n    let urows = U.rows;\n    let ucols = U.columns;\n    let Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X.get(i, k) * U.get(j, k);\n        }\n        Y.set(i, j, sum);\n      }\n    }\n\n    return Y;\n  }\n\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  get norm2() {\n    return this.s[0];\n  }\n\n  get rank() {\n    let tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    let r = 0;\n    let s = this.s;\n    for (let i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  get diagonal() {\n    return Array.from(this.s);\n  }\n\n  get threshold() {\n    return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  get leftSingularVectors() {\n    return this.U;\n  }\n\n  get rightSingularVectors() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n\nfunction inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\nfunction solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n\nfunction determinant(matrix) {\n  matrix = Matrix.checkMatrix(matrix);\n  if (matrix.isSquare()) {\n    if (matrix.columns === 0) {\n      return 1;\n    }\n\n    let a, b, c, d;\n    if (matrix.columns === 2) {\n      // 2 x 2 matrix\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(1, 0);\n      d = matrix.get(1, 1);\n\n      return a * d - b * c;\n    } else if (matrix.columns === 3) {\n      // 3 x 3 matrix\n      let subMatrix0, subMatrix1, subMatrix2;\n      subMatrix0 = new MatrixSelectionView(matrix, [1, 2], [1, 2]);\n      subMatrix1 = new MatrixSelectionView(matrix, [1, 2], [0, 2]);\n      subMatrix2 = new MatrixSelectionView(matrix, [1, 2], [0, 1]);\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(0, 2);\n\n      return (\n        a * determinant(subMatrix0) -\n        b * determinant(subMatrix1) +\n        c * determinant(subMatrix2)\n      );\n    } else {\n      // general purpose determinant using the LU decomposition\n      return new LuDecomposition(matrix).determinant;\n    }\n  } else {\n    throw Error('determinant can only be calculated for a square matrix');\n  }\n}\n\nfunction xrange(n, exception) {\n  let range = [];\n  for (let i = 0; i < n; i++) {\n    if (i !== exception) {\n      range.push(i);\n    }\n  }\n  return range;\n}\n\nfunction dependenciesOneRow(\n  error,\n  matrix,\n  index,\n  thresholdValue = 10e-10,\n  thresholdError = 10e-10,\n) {\n  if (error > thresholdError) {\n    return new Array(matrix.rows + 1).fill(0);\n  } else {\n    let returnArray = matrix.addRow(index, [0]);\n    for (let i = 0; i < returnArray.rows; i++) {\n      if (Math.abs(returnArray.get(i, 0)) < thresholdValue) {\n        returnArray.set(i, 0, 0);\n      }\n    }\n    return returnArray.to1DArray();\n  }\n}\n\nfunction linearDependencies(matrix, options = {}) {\n  const { thresholdValue = 10e-10, thresholdError = 10e-10 } = options;\n  matrix = Matrix.checkMatrix(matrix);\n\n  let n = matrix.rows;\n  let results = new Matrix(n, n);\n\n  for (let i = 0; i < n; i++) {\n    let b = Matrix.columnVector(matrix.getRow(i));\n    let Abis = matrix.subMatrixRow(xrange(n, i)).transpose();\n    let svd = new SingularValueDecomposition(Abis);\n    let x = svd.solve(b);\n    let error = Matrix.sub(b, Abis.mmul(x)).abs().max();\n    results.setRow(\n      i,\n      dependenciesOneRow(error, x, i, thresholdValue, thresholdError),\n    );\n  }\n  return results;\n}\n\nfunction pseudoInverse(matrix, threshold = Number.EPSILON) {\n  matrix = Matrix.checkMatrix(matrix);\n  if (matrix.isEmpty()) {\n    // with a zero dimension, the pseudo-inverse is the transpose, since all 0xn and nx0 matrices are singular\n    // (0xn)*(nx0)*(0xn) = 0xn\n    // (nx0)*(0xn)*(nx0) = nx0\n    return matrix.transpose();\n  }\n  let svdSolution = new SingularValueDecomposition(matrix, { autoTranspose: true });\n\n  let U = svdSolution.leftSingularVectors;\n  let V = svdSolution.rightSingularVectors;\n  let s = svdSolution.diagonal;\n\n  for (let i = 0; i < s.length; i++) {\n    if (Math.abs(s[i]) > threshold) {\n      s[i] = 1.0 / s[i];\n    } else {\n      s[i] = 0.0;\n    }\n  }\n\n  return V.mmul(Matrix.diag(s).mmul(U.transpose()));\n}\n\nfunction covariance(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !isAnyArray.isAnyArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n  const { center = true } = options;\n  if (center) {\n    xMatrix = xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix = yMatrix.center('column');\n    }\n  }\n  const cov = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < cov.rows; i++) {\n    for (let j = 0; j < cov.columns; j++) {\n      cov.set(i, j, cov.get(i, j) * (1 / (xMatrix.rows - 1)));\n    }\n  }\n  return cov;\n}\n\nfunction correlation(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !isAnyArray.isAnyArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n\n  const { center = true, scale = true } = options;\n  if (center) {\n    xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix.center('column');\n    }\n  }\n  if (scale) {\n    xMatrix.scale('column');\n    if (!yIsSame) {\n      yMatrix.scale('column');\n    }\n  }\n\n  const sdx = xMatrix.standardDeviation('column', { unbiased: true });\n  const sdy = yIsSame\n    ? sdx\n    : yMatrix.standardDeviation('column', { unbiased: true });\n\n  const corr = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < corr.rows; i++) {\n    for (let j = 0; j < corr.columns; j++) {\n      corr.set(\n        i,\n        j,\n        corr.get(i, j) * (1 / (sdx[i] * sdy[j])) * (1 / (xMatrix.rows - 1)),\n      );\n    }\n  }\n  return corr;\n}\n\nclass EigenvalueDecomposition {\n  constructor(matrix, options = {}) {\n    const { assumeSymmetric = false } = options;\n\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n    if (!matrix.isSquare()) {\n      throw new Error('Matrix is not a square matrix');\n    }\n\n    if (matrix.isEmpty()) {\n      throw new Error('Matrix must be non-empty');\n    }\n\n    let n = matrix.columns;\n    let V = new Matrix(n, n);\n    let d = new Float64Array(n);\n    let e = new Float64Array(n);\n    let value = matrix;\n    let i, j;\n\n    let isSymmetric = false;\n    if (assumeSymmetric) {\n      isSymmetric = true;\n    } else {\n      isSymmetric = matrix.isSymmetric();\n    }\n\n    if (isSymmetric) {\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          V.set(i, j, value.get(i, j));\n        }\n      }\n      tred2(n, e, d, V);\n      tql2(n, e, d, V);\n    } else {\n      let H = new Matrix(n, n);\n      let ort = new Float64Array(n);\n      for (j = 0; j < n; j++) {\n        for (i = 0; i < n; i++) {\n          H.set(i, j, value.get(i, j));\n        }\n      }\n      orthes(n, H, ort, V);\n      hqr2(n, e, d, V, H);\n    }\n\n    this.n = n;\n    this.e = e;\n    this.d = d;\n    this.V = V;\n  }\n\n  get realEigenvalues() {\n    return Array.from(this.d);\n  }\n\n  get imaginaryEigenvalues() {\n    return Array.from(this.e);\n  }\n\n  get eigenvectorMatrix() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    let n = this.n;\n    let e = this.e;\n    let d = this.d;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        X.set(i, j, 0);\n      }\n      X.set(i, i, d[i]);\n      if (e[i] > 0) {\n        X.set(i, i + 1, e[i]);\n      } else if (e[i] < 0) {\n        X.set(i, i - 1, e[i]);\n      }\n    }\n    return X;\n  }\n}\n\nfunction tred2(n, e, d, V) {\n  let f, g, h, i, j, k, hh, scale;\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n  }\n\n  for (i = n - 1; i > 0; i--) {\n    scale = 0;\n    h = 0;\n    for (k = 0; k < i; k++) {\n      scale = scale + Math.abs(d[k]);\n    }\n\n    if (scale === 0) {\n      e[i] = d[i - 1];\n      for (j = 0; j < i; j++) {\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n        V.set(j, i, 0);\n      }\n    } else {\n      for (k = 0; k < i; k++) {\n        d[k] /= scale;\n        h += d[k] * d[k];\n      }\n\n      f = d[i - 1];\n      g = Math.sqrt(h);\n      if (f > 0) {\n        g = -g;\n      }\n\n      e[i] = scale * g;\n      h = h - f * g;\n      d[i - 1] = f - g;\n      for (j = 0; j < i; j++) {\n        e[j] = 0;\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        V.set(j, i, f);\n        g = e[j] + V.get(j, j) * f;\n        for (k = j + 1; k <= i - 1; k++) {\n          g += V.get(k, j) * d[k];\n          e[k] += V.get(k, j) * f;\n        }\n        e[j] = g;\n      }\n\n      f = 0;\n      for (j = 0; j < i; j++) {\n        e[j] /= h;\n        f += e[j] * d[j];\n      }\n\n      hh = f / (h + h);\n      for (j = 0; j < i; j++) {\n        e[j] -= hh * d[j];\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        g = e[j];\n        for (k = j; k <= i - 1; k++) {\n          V.set(k, j, V.get(k, j) - (f * e[k] + g * d[k]));\n        }\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n      }\n    }\n    d[i] = h;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    V.set(n - 1, i, V.get(i, i));\n    V.set(i, i, 1);\n    h = d[i + 1];\n    if (h !== 0) {\n      for (k = 0; k <= i; k++) {\n        d[k] = V.get(k, i + 1) / h;\n      }\n\n      for (j = 0; j <= i; j++) {\n        g = 0;\n        for (k = 0; k <= i; k++) {\n          g += V.get(k, i + 1) * V.get(k, j);\n        }\n        for (k = 0; k <= i; k++) {\n          V.set(k, j, V.get(k, j) - g * d[k]);\n        }\n      }\n    }\n\n    for (k = 0; k <= i; k++) {\n      V.set(k, i + 1, 0);\n    }\n  }\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n    V.set(n - 1, j, 0);\n  }\n\n  V.set(n - 1, n - 1, 1);\n  e[0] = 0;\n}\n\nfunction tql2(n, e, d, V) {\n  let g, h, i, j, k, l, m, p, r, dl1, c, c2, c3, el1, s, s2;\n\n  for (i = 1; i < n; i++) {\n    e[i - 1] = e[i];\n  }\n\n  e[n - 1] = 0;\n\n  let f = 0;\n  let tst1 = 0;\n  let eps = Number.EPSILON;\n\n  for (l = 0; l < n; l++) {\n    tst1 = Math.max(tst1, Math.abs(d[l]) + Math.abs(e[l]));\n    m = l;\n    while (m < n) {\n      if (Math.abs(e[m]) <= eps * tst1) {\n        break;\n      }\n      m++;\n    }\n\n    if (m > l) {\n      do {\n\n        g = d[l];\n        p = (d[l + 1] - g) / (2 * e[l]);\n        r = hypotenuse(p, 1);\n        if (p < 0) {\n          r = -r;\n        }\n\n        d[l] = e[l] / (p + r);\n        d[l + 1] = e[l] * (p + r);\n        dl1 = d[l + 1];\n        h = g - d[l];\n        for (i = l + 2; i < n; i++) {\n          d[i] -= h;\n        }\n\n        f = f + h;\n\n        p = d[m];\n        c = 1;\n        c2 = c;\n        c3 = c;\n        el1 = e[l + 1];\n        s = 0;\n        s2 = 0;\n        for (i = m - 1; i >= l; i--) {\n          c3 = c2;\n          c2 = c;\n          s2 = s;\n          g = c * e[i];\n          h = c * p;\n          r = hypotenuse(p, e[i]);\n          e[i + 1] = s * r;\n          s = e[i] / r;\n          c = p / r;\n          p = c * d[i] - s * g;\n          d[i + 1] = h + s * (c * g + s * d[i]);\n\n          for (k = 0; k < n; k++) {\n            h = V.get(k, i + 1);\n            V.set(k, i + 1, s * V.get(k, i) + c * h);\n            V.set(k, i, c * V.get(k, i) - s * h);\n          }\n        }\n\n        p = (-s * s2 * c3 * el1 * e[l]) / dl1;\n        e[l] = s * p;\n        d[l] = c * p;\n      } while (Math.abs(e[l]) > eps * tst1);\n    }\n    d[l] = d[l] + f;\n    e[l] = 0;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    k = i;\n    p = d[i];\n    for (j = i + 1; j < n; j++) {\n      if (d[j] < p) {\n        k = j;\n        p = d[j];\n      }\n    }\n\n    if (k !== i) {\n      d[k] = d[i];\n      d[i] = p;\n      for (j = 0; j < n; j++) {\n        p = V.get(j, i);\n        V.set(j, i, V.get(j, k));\n        V.set(j, k, p);\n      }\n    }\n  }\n}\n\nfunction orthes(n, H, ort, V) {\n  let low = 0;\n  let high = n - 1;\n  let f, g, h, i, j, m;\n  let scale;\n\n  for (m = low + 1; m <= high - 1; m++) {\n    scale = 0;\n    for (i = m; i <= high; i++) {\n      scale = scale + Math.abs(H.get(i, m - 1));\n    }\n\n    if (scale !== 0) {\n      h = 0;\n      for (i = high; i >= m; i--) {\n        ort[i] = H.get(i, m - 1) / scale;\n        h += ort[i] * ort[i];\n      }\n\n      g = Math.sqrt(h);\n      if (ort[m] > 0) {\n        g = -g;\n      }\n\n      h = h - ort[m] * g;\n      ort[m] = ort[m] - g;\n\n      for (j = m; j < n; j++) {\n        f = 0;\n        for (i = high; i >= m; i--) {\n          f += ort[i] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (i = m; i <= high; i++) {\n          H.set(i, j, H.get(i, j) - f * ort[i]);\n        }\n      }\n\n      for (i = 0; i <= high; i++) {\n        f = 0;\n        for (j = high; j >= m; j--) {\n          f += ort[j] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (j = m; j <= high; j++) {\n          H.set(i, j, H.get(i, j) - f * ort[j]);\n        }\n      }\n\n      ort[m] = scale * ort[m];\n      H.set(m, m - 1, scale * g);\n    }\n  }\n\n  for (i = 0; i < n; i++) {\n    for (j = 0; j < n; j++) {\n      V.set(i, j, i === j ? 1 : 0);\n    }\n  }\n\n  for (m = high - 1; m >= low + 1; m--) {\n    if (H.get(m, m - 1) !== 0) {\n      for (i = m + 1; i <= high; i++) {\n        ort[i] = H.get(i, m - 1);\n      }\n\n      for (j = m; j <= high; j++) {\n        g = 0;\n        for (i = m; i <= high; i++) {\n          g += ort[i] * V.get(i, j);\n        }\n\n        g = g / ort[m] / H.get(m, m - 1);\n        for (i = m; i <= high; i++) {\n          V.set(i, j, V.get(i, j) + g * ort[i]);\n        }\n      }\n    }\n  }\n}\n\nfunction hqr2(nn, e, d, V, H) {\n  let n = nn - 1;\n  let low = 0;\n  let high = nn - 1;\n  let eps = Number.EPSILON;\n  let exshift = 0;\n  let norm = 0;\n  let p = 0;\n  let q = 0;\n  let r = 0;\n  let s = 0;\n  let z = 0;\n  let iter = 0;\n  let i, j, k, l, m, t, w, x, y;\n  let ra, sa, vr, vi;\n  let notlast, cdivres;\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      d[i] = H.get(i, i);\n      e[i] = 0;\n    }\n\n    for (j = Math.max(i - 1, 0); j < nn; j++) {\n      norm = norm + Math.abs(H.get(i, j));\n    }\n  }\n\n  while (n >= low) {\n    l = n;\n    while (l > low) {\n      s = Math.abs(H.get(l - 1, l - 1)) + Math.abs(H.get(l, l));\n      if (s === 0) {\n        s = norm;\n      }\n      if (Math.abs(H.get(l, l - 1)) < eps * s) {\n        break;\n      }\n      l--;\n    }\n\n    if (l === n) {\n      H.set(n, n, H.get(n, n) + exshift);\n      d[n] = H.get(n, n);\n      e[n] = 0;\n      n--;\n      iter = 0;\n    } else if (l === n - 1) {\n      w = H.get(n, n - 1) * H.get(n - 1, n);\n      p = (H.get(n - 1, n - 1) - H.get(n, n)) / 2;\n      q = p * p + w;\n      z = Math.sqrt(Math.abs(q));\n      H.set(n, n, H.get(n, n) + exshift);\n      H.set(n - 1, n - 1, H.get(n - 1, n - 1) + exshift);\n      x = H.get(n, n);\n\n      if (q >= 0) {\n        z = p >= 0 ? p + z : p - z;\n        d[n - 1] = x + z;\n        d[n] = d[n - 1];\n        if (z !== 0) {\n          d[n] = x - w / z;\n        }\n        e[n - 1] = 0;\n        e[n] = 0;\n        x = H.get(n, n - 1);\n        s = Math.abs(x) + Math.abs(z);\n        p = x / s;\n        q = z / s;\n        r = Math.sqrt(p * p + q * q);\n        p = p / r;\n        q = q / r;\n\n        for (j = n - 1; j < nn; j++) {\n          z = H.get(n - 1, j);\n          H.set(n - 1, j, q * z + p * H.get(n, j));\n          H.set(n, j, q * H.get(n, j) - p * z);\n        }\n\n        for (i = 0; i <= n; i++) {\n          z = H.get(i, n - 1);\n          H.set(i, n - 1, q * z + p * H.get(i, n));\n          H.set(i, n, q * H.get(i, n) - p * z);\n        }\n\n        for (i = low; i <= high; i++) {\n          z = V.get(i, n - 1);\n          V.set(i, n - 1, q * z + p * V.get(i, n));\n          V.set(i, n, q * V.get(i, n) - p * z);\n        }\n      } else {\n        d[n - 1] = x + p;\n        d[n] = x + p;\n        e[n - 1] = z;\n        e[n] = -z;\n      }\n\n      n = n - 2;\n      iter = 0;\n    } else {\n      x = H.get(n, n);\n      y = 0;\n      w = 0;\n      if (l < n) {\n        y = H.get(n - 1, n - 1);\n        w = H.get(n, n - 1) * H.get(n - 1, n);\n      }\n\n      if (iter === 10) {\n        exshift += x;\n        for (i = low; i <= n; i++) {\n          H.set(i, i, H.get(i, i) - x);\n        }\n        s = Math.abs(H.get(n, n - 1)) + Math.abs(H.get(n - 1, n - 2));\n        // eslint-disable-next-line no-multi-assign\n        x = y = 0.75 * s;\n        w = -0.4375 * s * s;\n      }\n\n      if (iter === 30) {\n        s = (y - x) / 2;\n        s = s * s + w;\n        if (s > 0) {\n          s = Math.sqrt(s);\n          if (y < x) {\n            s = -s;\n          }\n          s = x - w / ((y - x) / 2 + s);\n          for (i = low; i <= n; i++) {\n            H.set(i, i, H.get(i, i) - s);\n          }\n          exshift += s;\n          // eslint-disable-next-line no-multi-assign\n          x = y = w = 0.964;\n        }\n      }\n\n      iter = iter + 1;\n\n      m = n - 2;\n      while (m >= l) {\n        z = H.get(m, m);\n        r = x - z;\n        s = y - z;\n        p = (r * s - w) / H.get(m + 1, m) + H.get(m, m + 1);\n        q = H.get(m + 1, m + 1) - z - r - s;\n        r = H.get(m + 2, m + 1);\n        s = Math.abs(p) + Math.abs(q) + Math.abs(r);\n        p = p / s;\n        q = q / s;\n        r = r / s;\n        if (m === l) {\n          break;\n        }\n        if (\n          Math.abs(H.get(m, m - 1)) * (Math.abs(q) + Math.abs(r)) <\n          eps *\n            (Math.abs(p) *\n              (Math.abs(H.get(m - 1, m - 1)) +\n                Math.abs(z) +\n                Math.abs(H.get(m + 1, m + 1))))\n        ) {\n          break;\n        }\n        m--;\n      }\n\n      for (i = m + 2; i <= n; i++) {\n        H.set(i, i - 2, 0);\n        if (i > m + 2) {\n          H.set(i, i - 3, 0);\n        }\n      }\n\n      for (k = m; k <= n - 1; k++) {\n        notlast = k !== n - 1;\n        if (k !== m) {\n          p = H.get(k, k - 1);\n          q = H.get(k + 1, k - 1);\n          r = notlast ? H.get(k + 2, k - 1) : 0;\n          x = Math.abs(p) + Math.abs(q) + Math.abs(r);\n          if (x !== 0) {\n            p = p / x;\n            q = q / x;\n            r = r / x;\n          }\n        }\n\n        if (x === 0) {\n          break;\n        }\n\n        s = Math.sqrt(p * p + q * q + r * r);\n        if (p < 0) {\n          s = -s;\n        }\n\n        if (s !== 0) {\n          if (k !== m) {\n            H.set(k, k - 1, -s * x);\n          } else if (l !== m) {\n            H.set(k, k - 1, -H.get(k, k - 1));\n          }\n\n          p = p + s;\n          x = p / s;\n          y = q / s;\n          z = r / s;\n          q = q / p;\n          r = r / p;\n\n          for (j = k; j < nn; j++) {\n            p = H.get(k, j) + q * H.get(k + 1, j);\n            if (notlast) {\n              p = p + r * H.get(k + 2, j);\n              H.set(k + 2, j, H.get(k + 2, j) - p * z);\n            }\n\n            H.set(k, j, H.get(k, j) - p * x);\n            H.set(k + 1, j, H.get(k + 1, j) - p * y);\n          }\n\n          for (i = 0; i <= Math.min(n, k + 3); i++) {\n            p = x * H.get(i, k) + y * H.get(i, k + 1);\n            if (notlast) {\n              p = p + z * H.get(i, k + 2);\n              H.set(i, k + 2, H.get(i, k + 2) - p * r);\n            }\n\n            H.set(i, k, H.get(i, k) - p);\n            H.set(i, k + 1, H.get(i, k + 1) - p * q);\n          }\n\n          for (i = low; i <= high; i++) {\n            p = x * V.get(i, k) + y * V.get(i, k + 1);\n            if (notlast) {\n              p = p + z * V.get(i, k + 2);\n              V.set(i, k + 2, V.get(i, k + 2) - p * r);\n            }\n\n            V.set(i, k, V.get(i, k) - p);\n            V.set(i, k + 1, V.get(i, k + 1) - p * q);\n          }\n        }\n      }\n    }\n  }\n\n  if (norm === 0) {\n    return;\n  }\n\n  for (n = nn - 1; n >= 0; n--) {\n    p = d[n];\n    q = e[n];\n\n    if (q === 0) {\n      l = n;\n      H.set(n, n, 1);\n      for (i = n - 1; i >= 0; i--) {\n        w = H.get(i, i) - p;\n        r = 0;\n        for (j = l; j <= n; j++) {\n          r = r + H.get(i, j) * H.get(j, n);\n        }\n\n        if (e[i] < 0) {\n          z = w;\n          s = r;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            H.set(i, n, w !== 0 ? -r / w : -r / (eps * norm));\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            q = (d[i] - p) * (d[i] - p) + e[i] * e[i];\n            t = (x * s - z * r) / q;\n            H.set(i, n, t);\n            H.set(\n              i + 1,\n              n,\n              Math.abs(x) > Math.abs(z) ? (-r - w * t) / x : (-s - y * t) / z,\n            );\n          }\n\n          t = Math.abs(H.get(i, n));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    } else if (q < 0) {\n      l = n - 1;\n\n      if (Math.abs(H.get(n, n - 1)) > Math.abs(H.get(n - 1, n))) {\n        H.set(n - 1, n - 1, q / H.get(n, n - 1));\n        H.set(n - 1, n, -(H.get(n, n) - p) / H.get(n, n - 1));\n      } else {\n        cdivres = cdiv(0, -H.get(n - 1, n), H.get(n - 1, n - 1) - p, q);\n        H.set(n - 1, n - 1, cdivres[0]);\n        H.set(n - 1, n, cdivres[1]);\n      }\n\n      H.set(n, n - 1, 0);\n      H.set(n, n, 1);\n      for (i = n - 2; i >= 0; i--) {\n        ra = 0;\n        sa = 0;\n        for (j = l; j <= n; j++) {\n          ra = ra + H.get(i, j) * H.get(j, n - 1);\n          sa = sa + H.get(i, j) * H.get(j, n);\n        }\n\n        w = H.get(i, i) - p;\n\n        if (e[i] < 0) {\n          z = w;\n          r = ra;\n          s = sa;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            cdivres = cdiv(-ra, -sa, w, q);\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            vr = (d[i] - p) * (d[i] - p) + e[i] * e[i] - q * q;\n            vi = (d[i] - p) * 2 * q;\n            if (vr === 0 && vi === 0) {\n              vr =\n                eps *\n                norm *\n                (Math.abs(w) +\n                  Math.abs(q) +\n                  Math.abs(x) +\n                  Math.abs(y) +\n                  Math.abs(z));\n            }\n            cdivres = cdiv(\n              x * r - z * ra + q * sa,\n              x * s - z * sa - q * ra,\n              vr,\n              vi,\n            );\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n            if (Math.abs(x) > Math.abs(z) + Math.abs(q)) {\n              H.set(\n                i + 1,\n                n - 1,\n                (-ra - w * H.get(i, n - 1) + q * H.get(i, n)) / x,\n              );\n              H.set(\n                i + 1,\n                n,\n                (-sa - w * H.get(i, n) - q * H.get(i, n - 1)) / x,\n              );\n            } else {\n              cdivres = cdiv(\n                -r - y * H.get(i, n - 1),\n                -s - y * H.get(i, n),\n                z,\n                q,\n              );\n              H.set(i + 1, n - 1, cdivres[0]);\n              H.set(i + 1, n, cdivres[1]);\n            }\n          }\n\n          t = Math.max(Math.abs(H.get(i, n - 1)), Math.abs(H.get(i, n)));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n - 1, H.get(j, n - 1) / t);\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      for (j = i; j < nn; j++) {\n        V.set(i, j, H.get(i, j));\n      }\n    }\n  }\n\n  for (j = nn - 1; j >= low; j--) {\n    for (i = low; i <= high; i++) {\n      z = 0;\n      for (k = low; k <= Math.min(j, high); k++) {\n        z = z + V.get(i, k) * H.get(k, j);\n      }\n      V.set(i, j, z);\n    }\n  }\n}\n\nfunction cdiv(xr, xi, yr, yi) {\n  let r, d;\n  if (Math.abs(yr) > Math.abs(yi)) {\n    r = yi / yr;\n    d = yr + r * yi;\n    return [(xr + r * xi) / d, (xi - r * xr) / d];\n  } else {\n    r = yr / yi;\n    d = yi + r * yr;\n    return [(r * xr + xi) / d, (r * xi - xr) / d];\n  }\n}\n\nclass CholeskyDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n    if (!value.isSymmetric()) {\n      throw new Error('Matrix is not symmetric');\n    }\n\n    let a = value;\n    let dimension = a.rows;\n    let l = new Matrix(dimension, dimension);\n    let positiveDefinite = true;\n    let i, j, k;\n\n    for (j = 0; j < dimension; j++) {\n      let d = 0;\n      for (k = 0; k < j; k++) {\n        let s = 0;\n        for (i = 0; i < k; i++) {\n          s += l.get(k, i) * l.get(j, i);\n        }\n        s = (a.get(j, k) - s) / l.get(k, k);\n        l.set(j, k, s);\n        d = d + s * s;\n      }\n\n      d = a.get(j, j) - d;\n\n      positiveDefinite &&= d > 0;\n      l.set(j, j, Math.sqrt(Math.max(d, 0)));\n      for (k = j + 1; k < dimension; k++) {\n        l.set(j, k, 0);\n      }\n    }\n\n    this.L = l;\n    this.positiveDefinite = positiveDefinite;\n  }\n\n  isPositiveDefinite() {\n    return this.positiveDefinite;\n  }\n\n  solve(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let l = this.L;\n    let dimension = l.rows;\n\n    if (value.rows !== dimension) {\n      throw new Error('Matrix dimensions do not match');\n    }\n    if (this.isPositiveDefinite() === false) {\n      throw new Error('Matrix is not positive definite');\n    }\n\n    let count = value.columns;\n    let B = value.clone();\n    let i, j, k;\n\n    for (k = 0; k < dimension; k++) {\n      for (j = 0; j < count; j++) {\n        for (i = 0; i < k; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(k, i));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    for (k = dimension - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        for (i = k + 1; i < dimension; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(i, k));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    return B;\n  }\n\n  get lowerTriangularMatrix() {\n    return this.L;\n  }\n}\n\nclass nipals {\n  constructor(X, options = {}) {\n    X = WrapperMatrix2D.checkMatrix(X);\n    let { Y } = options;\n    const {\n      scaleScores = false,\n      maxIterations = 1000,\n      terminationCriteria = 1e-10,\n    } = options;\n\n    let u;\n    if (Y) {\n      if (isAnyArray.isAnyArray(Y) && typeof Y[0] === 'number') {\n        Y = Matrix.columnVector(Y);\n      } else {\n        Y = WrapperMatrix2D.checkMatrix(Y);\n      }\n      if (Y.rows !== X.rows) {\n        throw new Error('Y should have the same number of rows as X');\n      }\n      u = Y.getColumnVector(0);\n    } else {\n      u = X.getColumnVector(0);\n    }\n\n    let diff = 1;\n    let t, q, w, tOld;\n\n    for (\n      let counter = 0;\n      counter < maxIterations && diff > terminationCriteria;\n      counter++\n    ) {\n      w = X.transpose().mmul(u).div(u.transpose().mmul(u).get(0, 0));\n      w = w.div(w.norm());\n\n      t = X.mmul(w).div(w.transpose().mmul(w).get(0, 0));\n\n      if (counter > 0) {\n        diff = t.clone().sub(tOld).pow(2).sum();\n      }\n      tOld = t.clone();\n\n      if (Y) {\n        q = Y.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n        q = q.div(q.norm());\n\n        u = Y.mmul(q).div(q.transpose().mmul(q).get(0, 0));\n      } else {\n        u = t;\n      }\n    }\n\n    if (Y) {\n      let p = X.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      p = p.div(p.norm());\n      let xResidual = X.clone().sub(t.clone().mmul(p.transpose()));\n      let residual = u.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      let yResidual = Y.clone().sub(\n        t.clone().mulS(residual.get(0, 0)).mmul(q.transpose()),\n      );\n\n      this.t = t;\n      this.p = p.transpose();\n      this.w = w.transpose();\n      this.q = q;\n      this.u = u;\n      this.s = t.transpose().mmul(t);\n      this.xResidual = xResidual;\n      this.yResidual = yResidual;\n      this.betas = residual;\n    } else {\n      this.w = w.transpose();\n      this.s = t.transpose().mmul(t).sqrt();\n      if (scaleScores) {\n        this.t = t.clone().div(this.s.get(0, 0));\n      } else {\n        this.t = t;\n      }\n      this.xResidual = X.sub(t.mmul(w.transpose()));\n    }\n  }\n}\n\nexports.AbstractMatrix = AbstractMatrix;\nexports.CHO = CholeskyDecomposition;\nexports.CholeskyDecomposition = CholeskyDecomposition;\nexports.DistanceMatrix = DistanceMatrix;\nexports.EVD = EigenvalueDecomposition;\nexports.EigenvalueDecomposition = EigenvalueDecomposition;\nexports.LU = LuDecomposition;\nexports.LuDecomposition = LuDecomposition;\nexports.Matrix = Matrix;\nexports.MatrixColumnSelectionView = MatrixColumnSelectionView;\nexports.MatrixColumnView = MatrixColumnView;\nexports.MatrixFlipColumnView = MatrixFlipColumnView;\nexports.MatrixFlipRowView = MatrixFlipRowView;\nexports.MatrixRowSelectionView = MatrixRowSelectionView;\nexports.MatrixRowView = MatrixRowView;\nexports.MatrixSelectionView = MatrixSelectionView;\nexports.MatrixSubView = MatrixSubView;\nexports.MatrixTransposeView = MatrixTransposeView;\nexports.NIPALS = nipals;\nexports.Nipals = nipals;\nexports.QR = QrDecomposition;\nexports.QrDecomposition = QrDecomposition;\nexports.SVD = SingularValueDecomposition;\nexports.SingularValueDecomposition = SingularValueDecomposition;\nexports.SymmetricMatrix = SymmetricMatrix;\nexports.WrapperMatrix1D = WrapperMatrix1D;\nexports.WrapperMatrix2D = WrapperMatrix2D;\nexports.correlation = correlation;\nexports.covariance = covariance;\nexports.default = Matrix;\nexports.determinant = determinant;\nexports.inverse = inverse;\nexports.linearDependencies = linearDependencies;\nexports.pseudoInverse = pseudoInverse;\nexports.solve = solve;\nexports.wrap = wrap;\n","var get = require(\"./get.js\");\nvar getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropGet(t, o, e, r) {\n  var p = get(getPrototypeOf(1 & r ? t.prototype : t), o, e);\n  return 2 & r && \"function\" == typeof p ? function (t) {\n    return p.apply(e, t);\n  } : p;\n}\nmodule.exports = _superPropGet, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\nfunction _get() {\n  return module.exports = _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n    var p = superPropBase(e, t);\n    if (p) {\n      var n = Object.getOwnPropertyDescriptor(p, t);\n      return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value;\n    }\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _get.apply(null, arguments);\n}\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nfunction _superPropBase(t, o) {\n  for (; !{}.hasOwnProperty.call(t, o) && null !== (t = getPrototypeOf(t)););\n  return t;\n}\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(t) {\n  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _getPrototypeOf(t);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\nfunction _callSuper(t, o, e) {\n  return o = getPrototypeOf(o), possibleConstructorReturn(t, isNativeReflectConstruct() ? Reflect.construct(o, e || [], getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nmodule.exports = _callSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(t, e) {\n  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _setPrototypeOf(t, e);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classPrivateFieldBase(e, t) {\n  if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\");\n  return e;\n}\nmodule.exports = _classPrivateFieldBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var id = 0;\nfunction _classPrivateFieldKey(e) {\n  return \"__private_\" + id++ + \"_\" + e;\n}\nmodule.exports = _classPrivateFieldKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _readOnlyError(r) {\n  throw new TypeError('\"' + r + '\" is read-only');\n}\nmodule.exports = _readOnlyError, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nvar isAnyArray = require('is-any-array');\nvar max = require('ml-array-max');\nvar min = require('ml-array-min');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar max__default = /*#__PURE__*/_interopDefaultLegacy(max);\nvar min__default = /*#__PURE__*/_interopDefaultLegacy(min);\n\nfunction rescale(input, options = {}) {\n  if (!isAnyArray.isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  let output;\n  if (options.output !== undefined) {\n    if (!isAnyArray.isAnyArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  const currentMin = min__default['default'](input);\n  const currentMax = max__default['default'](input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError(\n      'minimum and maximum input values are equal. Cannot rescale a constant array',\n    );\n  }\n\n  const {\n    min: minValue = options.autoMinMax ? currentMin : 0,\n    max: maxValue = options.autoMinMax ? currentMax : 1,\n  } = options;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  const factor = (maxValue - minValue) / (currentMax - currentMin);\n  for (let i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nmodule.exports = rescale;\n","'use strict';\n\nvar isAnyArray = require('is-any-array');\n\nfunction max(input, options = {}) {\n  if (!isAnyArray.isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  const { fromIndex = 0, toIndex = input.length } = options;\n\n  if (\n    fromIndex < 0 ||\n    fromIndex >= input.length ||\n    !Number.isInteger(fromIndex)\n  ) {\n    throw new Error('fromIndex must be a positive integer smaller than length');\n  }\n\n  if (\n    toIndex <= fromIndex ||\n    toIndex > input.length ||\n    !Number.isInteger(toIndex)\n  ) {\n    throw new Error(\n      'toIndex must be an integer greater than fromIndex and at most equal to length',\n    );\n  }\n\n  let maxValue = input[fromIndex];\n  for (let i = fromIndex + 1; i < toIndex; i++) {\n    if (input[i] > maxValue) maxValue = input[i];\n  }\n  return maxValue;\n}\n\nmodule.exports = max;\n","'use strict';\n\nvar isAnyArray = require('is-any-array');\n\nfunction min(input, options = {}) {\n  if (!isAnyArray.isAnyArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  const { fromIndex = 0, toIndex = input.length } = options;\n\n  if (\n    fromIndex < 0 ||\n    fromIndex >= input.length ||\n    !Number.isInteger(fromIndex)\n  ) {\n    throw new Error('fromIndex must be a positive integer smaller than length');\n  }\n\n  if (\n    toIndex <= fromIndex ||\n    toIndex > input.length ||\n    !Number.isInteger(toIndex)\n  ) {\n    throw new Error(\n      'toIndex must be an integer greater than fromIndex and at most equal to length',\n    );\n  }\n\n  let minValue = input[fromIndex];\n  for (let i = fromIndex + 1; i < toIndex; i++) {\n    if (input[i] < minValue) minValue = input[i];\n  }\n  return minValue;\n}\n\nmodule.exports = min;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ml_matrix_1 = require(\"ml-matrix\");\n/**\n * Difference of the matrix function over the parameters\n * @ignore\n * @param {{x:ArrayLike<number>, y:ArrayLike<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {ArrayLike<number>} evaluatedData - Array of previous evaluated function values\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number|array} gradientDifference - The step size to approximate the jacobian matrix\n * @param {boolean} centralDifference - If true the jacobian matrix is approximated by central differences otherwise by forward differences\n * @param {function} paramFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {Matrix}\n */\nfunction gradientFunction(data, evaluatedData, params, gradientDifference, paramFunction, centralDifference) {\n    const nbParams = params.length;\n    const nbPoints = data.x.length;\n    let ans = ml_matrix_1.Matrix.zeros(nbParams, nbPoints);\n    let rowIndex = 0;\n    for (let param = 0; param < nbParams; param++) {\n        if (gradientDifference[param] === 0)\n            continue;\n        let delta = gradientDifference[param];\n        let auxParams = params.slice();\n        auxParams[param] += delta;\n        let funcParam = paramFunction(auxParams);\n        if (!centralDifference) {\n            for (let point = 0; point < nbPoints; point++) {\n                ans.set(rowIndex, point, (evaluatedData[point] - funcParam(data.x[point])) / delta);\n            }\n        }\n        else {\n            auxParams = params.slice();\n            auxParams[param] -= delta;\n            delta *= 2;\n            let funcParam2 = paramFunction(auxParams);\n            for (let point = 0; point < nbPoints; point++) {\n                ans.set(rowIndex, point, (funcParam2(data.x[point]) - funcParam(data.x[point])) / delta);\n            }\n        }\n        rowIndex++;\n    }\n    return ans;\n}\nexports.default = gradientFunction;\n//# sourceMappingURL=gradientFunction.js.map","/**\n * Core mathematical utilities for page dewarping.\n * Implements cubic polynomial evaluation, 3D projection, and span parameterization.\n * \n * ALGORITHM OVERVIEW:\n * ==================\n * The page dewarping algorithm models a curved page as a 3D surface in space,\n * then determines how that surface projects onto the camera's 2D image plane.\n * \n * Key concepts:\n * 1. CUBIC SHEET MODEL: The page is represented as a cubic polynomial surface\n *    z(x, y) = sum of c_ij * x^i * y^j for i,j = 0..3\n *    This gives us 16 coefficients that describe the page's curvature.\n * \n * 2. TEXT SPANS: Horizontal lines of text that follow the page's curvature.\n *    We detect these spans and sample keypoints along them.\n * \n * 3. PROJECTION: Each point on the 3D curved surface projects to a specific\n *    location in the 2D photograph. We model this with perspective projection.\n * \n * 4. INVERSE MAPPING: Once we know the surface shape, we can map any point\n *    on a flat output image back to where it came from in the curved input,\n *    effectively \"unwarping\" the page.\n */\n\n/**\n * Progress callback for reporting algorithm status.\n */\nexport type DewarpProgressCallback = (\n  phase: string,\n  progress: number,\n  message: string\n) => void;\n\n/**\n * 2D point in image coordinates.\n */\nexport interface Point2D {\n  x: number;\n  y: number;\n}\n\n/**\n * 3D point in world coordinates.\n */\nexport interface Point3D {\n  x: number;\n  y: number;\n  z: number;\n}\n\n/**\n * Cubic polynomial coefficients (16 parameters for cubic sheet).\n */\nexport interface CubicSheetParams {\n  coefficients: Array<number>;\n}\n\n/**\n * Span line parameters (position and curvature).\n */\nexport interface SpanParams {\n  yPosition: number;\n  curvature: number;\n}\n\n/**\n * Mathematical validation results.\n */\nexport interface MathValidation {\n  polynomialTest: boolean;\n  projectionTest: boolean;\n}\n\n/**\n * Evaluate a cubic polynomial at a given point.\n * z(x, y) = Σ(i=0..3) Σ(j=0..3) c_ij * x^i * y^j\n * \n * This is the heart of the cubic sheet model. The function takes a 2D point\n * on the page (x, y) and computes its height (z) above the flat plane.\n * \n * For a flat page, all coefficients would be zero except c_00.\n * For a curved page (like an open book), the coefficients capture:\n * - Linear terms (x, y): overall tilt\n * - Quadratic terms (x², xy, y²): cylindrical curves (like book binding)\n * - Cubic terms (x³, x²y, xy², y³): more complex warping\n * \n * The 16 coefficients are arranged as:\n * [c_00, c_01, c_02, c_03,  // constant, y, y², y³\n *  c_10, c_11, c_12, c_13,  // x, xy, xy², xy³\n *  c_20, c_21, c_22, c_23,  // x², x²y, x²y², x²y³\n *  c_30, c_31, c_32, c_33]  // x³, x³y, x³y², x³y³\n */\nexport function evaluateCubicPolynomial(\n  x: number,\n  y: number,\n  coefficients: Array<number>\n): number {\n  if (coefficients.length !== 16) {\n    throw new Error(\"Cubic polynomial requires exactly 16 coefficients\");\n  }\n\n  let z = 0;\n  let index = 0;\n\n  for (let i = 0; i <= 3; i++) {\n    for (let j = 0; j <= 3; j++) {\n      const term = coefficients[index] * Math.pow(x, i) * Math.pow(y, j);\n      z += term;\n      index++;\n    }\n  }\n\n  return z;\n}\n\n/**\n * Compute the gradient of the cubic polynomial at a point.\n * Returns [dz/dx, dz/dy].\n * \n * The gradient tells us how steeply the surface is sloping in each direction.\n * This is useful for:\n * - Optimization (finding the direction to adjust parameters)\n * - Visualizing the surface curvature\n * - Understanding how the page bends at each location\n * \n * We compute partial derivatives:\n * dz/dx = Σ(i=1..3) Σ(j=0..3) c_ij * i * x^(i-1) * y^j\n * dz/dy = Σ(i=0..3) Σ(j=1..3) c_ij * j * x^i * y^(j-1)\n */\nexport function cubicPolynomialGradient(\n  x: number,\n  y: number,\n  coefficients: Array<number>\n): [number, number] {\n  if (coefficients.length !== 16) {\n    throw new Error(\"Cubic polynomial requires exactly 16 coefficients\");\n  }\n\n  let dzDx = 0;\n  let dzDy = 0;\n  let index = 0;\n\n  for (let i = 0; i <= 3; i++) {\n    for (let j = 0; j <= 3; j++) {\n      const coef = coefficients[index];\n\n      if (i > 0) {\n        dzDx += coef * i * Math.pow(x, i - 1) * Math.pow(y, j);\n      }\n\n      if (j > 0) {\n        dzDy += coef * j * Math.pow(x, i) * Math.pow(y, j - 1);\n      }\n\n      index++;\n    }\n  }\n\n  return [dzDx, dzDy];\n}\n\n/**\n * Project a 3D point to 2D image coordinates using a simple perspective model.\n * Assumes camera at origin looking down the z-axis.\n * \n * PERSPECTIVE PROJECTION EXPLAINED:\n * =================================\n * When a camera photographs a 3D object, points closer to the camera appear\n * larger than points farther away. This is perspective distortion.\n * \n * Our model:\n * - Camera is at position (0, 0, 0) looking down the +z axis\n * - The page is in front of the camera (positive z)\n * - Focal length determines the camera's \"zoom\" (larger = more zoomed in)\n * \n * The projection formula:\n * - Points farther from camera (larger z) appear smaller\n * - scale = focalLength / (focalLength + z)\n * - x_2d = x_3d * scale + center_x\n * - y_2d = y_3d * scale + center_y\n * \n * For a curved page, points that bulge toward the camera (positive z) will\n * appear larger/displaced in the photo compared to flat regions.\n */\nexport function project3DTo2D(\n  point3D: Point3D,\n  focalLength: number = 1000,\n  imageCenter: Point2D = { x: 0, y: 0 }\n): Point2D {\n  const scale = focalLength / (focalLength + point3D.z);\n\n  return {\n    x: point3D.x * scale + imageCenter.x,\n    y: point3D.y * scale + imageCenter.y,\n  };\n}\n\n/**\n * Parameterize a span line (text baseline).\n * A span is a horizontal line with possible curvature.\n * \n * TEXT SPANS EXPLAINED:\n * ====================\n * In a photograph of a page, lines of text appear curved due to the page's\n * warping. We call these curved text lines \"spans\".\n * \n * Each span is characterized by:\n * - yPosition: The vertical position of the span (middle of the page, etc.)\n * - curvature: How much the span curves (0 = straight, positive = curves down)\n * \n * The span follows a parabolic curve:\n * y(x) = yPosition + curvature * normalizedX²\n * \n * where normalizedX ranges from -0.5 to 0.5 across the page width.\n * This gives a symmetric curve that's useful for modeling text on curved pages.\n * \n * We sample points along these spans to get \"keypoints\" - known correspondences\n * between the curved photo and where they should be on a flat page.\n */\nexport function parameterizeSpan(\n  xPosition: number,\n  spanParams: SpanParams,\n  imageWidth: number\n): Point2D {\n  const normalizedX = (xPosition - imageWidth / 2) / imageWidth;\n\n  const yOffset = spanParams.curvature * normalizedX * normalizedX;\n\n  return {\n    x: xPosition,\n    y: spanParams.yPosition + yOffset,\n  };\n}\n\n/**\n * Sample keypoints along a span line.\n */\nexport function sampleKeypointsOnSpan(\n  spanParams: SpanParams,\n  imageWidth: number,\n  numSamples: number\n): Array<Point2D> {\n  const keypoints: Array<Point2D> = [];\n  const step = imageWidth / (numSamples - 1);\n\n  for (let i = 0; i < numSamples; i++) {\n    const x = i * step;\n    const point = parameterizeSpan(x, spanParams, imageWidth);\n    keypoints.push(point);\n  }\n\n  return keypoints;\n}\n\n/**\n * Create initial cubic sheet parameters (flat page).\n */\nexport function createFlatSheetParams(): CubicSheetParams {\n  const coefficients = new Array(16).fill(0);\n\n  return { coefficients };\n}\n\n/**\n * Validate mathematical functions.\n */\nexport function validateMathFunctions(): MathValidation {\n  const polynomialTest = testCubicPolynomial();\n  const projectionTest = testProjection();\n\n  console.log(\"[Dewarp Core] Math validation:\", {\n    polynomialTest,\n    projectionTest,\n  });\n\n  return {\n    polynomialTest,\n    projectionTest,\n  };\n}\n\n/**\n * Test cubic polynomial evaluation.\n */\nfunction testCubicPolynomial(): boolean {\n  try {\n    const flatCoefficients = new Array(16).fill(0);\n    flatCoefficients[0] = 1;\n\n    const result = evaluateCubicPolynomial(0.5, 0.5, flatCoefficients);\n\n    if (Math.abs(result - 1.0) > 1e-10) {\n      console.error(\n        \"[Dewarp Core] Polynomial test failed: expected 1.0, got\",\n        result\n      );\n      return false;\n    }\n\n    const [gradX, gradY] = cubicPolynomialGradient(0.5, 0.5, flatCoefficients);\n\n    if (Math.abs(gradX) > 1e-10 || Math.abs(gradY) > 1e-10) {\n      console.error(\n        \"[Dewarp Core] Gradient test failed: expected [0, 0], got\",\n        [gradX, gradY]\n      );\n      return false;\n    }\n\n    return true;\n  } catch (error) {\n    console.error(\"[Dewarp Core] Polynomial test error:\", error);\n    return false;\n  }\n}\n\n/**\n * Test 3D to 2D projection.\n */\nfunction testProjection(): boolean {\n  try {\n    const point3D: Point3D = { x: 100, y: 200, z: 0 };\n    const projected = project3DTo2D(point3D, 1000, { x: 0, y: 0 });\n\n    if (\n      Math.abs(projected.x - 100) > 1e-6 ||\n      Math.abs(projected.y - 200) > 1e-6\n    ) {\n      console.error(\n        \"[Dewarp Core] Projection test failed: expected (100, 200), got\",\n        projected\n      );\n      return false;\n    }\n\n    return true;\n  } catch (error) {\n    console.error(\"[Dewarp Core] Projection test error:\", error);\n    return false;\n  }\n}\n\n/**\n * Initialize phase reporting.\n */\nexport function reportPhaseInit(\n  progressCallback?: DewarpProgressCallback\n): void {\n  if (progressCallback) {\n    progressCallback(\"Initialization\", 0, \"Initializing core algorithms\");\n  }\n\n  const validation = validateMathFunctions();\n\n  if (progressCallback) {\n    const message =\n      validation.polynomialTest && validation.projectionTest\n        ? \"Core algorithms validated\"\n        : \"Warning: Some validation tests failed\";\n\n    progressCallback(\"Initialization\", 5, message);\n  }\n}\n","import type { DataUrl } from \"@/lib/types/primitives\";\n\n/**\n * Basic configuration for OpenCV demo.\n */\nexport interface PhotoAdjustmentConfig {\n  geometry: {\n    enabled: boolean;\n    minPageArea: number;\n    padding: number;\n  };\n  debug?: {\n    enabled: boolean;\n  };\n}\n\n/**\n * Configuration for page dewarping.\n */\nexport interface DewarpConfig {\n  preprocessing: {\n    edgeThresholdLow: number;\n    edgeThresholdHigh: number;\n    textDilationKernel: number;\n  };\n  spanDetection: {\n    numSpans: number;\n    spanSpacing: number;\n  };\n  modelFitting: {\n    maxIterations: number;\n    tolerance: number;\n  };\n  output: {\n    width: number;\n    height: number;\n    adaptiveThreshold: boolean;\n  };\n}\n\n/**\n * Debug visualization data from basic edge detection.\n */\nexport interface DebugVisualizationData {\n  edges?: DataUrl;\n  imageWidth: number;\n  imageHeight: number;\n}\n\n/**\n * Enhanced debug data for page dewarping.\n */\nexport interface DewarpDebugData extends DebugVisualizationData {\n  mathValidation?: { polynomialTest: boolean; projectionTest: boolean };\n  binaryText?: DataUrl;\n  edgeMap?: DataUrl;\n  detectedLines?: DataUrl;\n  pageBoundary?: DataUrl;\n  preprocessingStats: {\n    contoursFound: number;\n    linesDetected: number;\n    pageBounds: { width: number; height: number };\n  };\n  detectedSpans?: DataUrl;\n  keypointCloud?: DataUrl;\n  optimizationMetrics: {\n    spanIterations: number;\n    spanError: number;\n    modelIterations: number;\n    modelError: number;\n    parameters: Array<number>;\n  };\n  meshGrid?: DataUrl;\n  beforeAfter?: DataUrl;\n  surfaceMesh?: DataUrl;\n  remapStats: {\n    resolution: { width: number; height: number };\n    interpolation: string;\n  };\n  processingTime: number;\n  progressLog: Array<{ phase: string; timestamp: number; message: string }>;\n}\n\n/**\n * Result of photo processing operation.\n */\nexport interface ProcessingResult {\n  success: boolean;\n  processedUri?: DataUrl;\n  error?: ProcessingError;\n  debug?: DebugVisualizationData;\n}\n\n/**\n * Error information from photo processing.\n */\nexport interface ProcessingError {\n  code: \"PROCESSING_FAILED\";\n  message: string;\n}\n\n/**\n * Default configuration for basic OpenCV demo.\n */\nexport const DEFAULT_ADJUSTMENT_CONFIG: PhotoAdjustmentConfig = {\n  geometry: {\n    enabled: true,\n    minPageArea: 0.5,\n    padding: 0.0,\n  },\n  debug: {\n    enabled: true,\n  },\n};\n\n/**\n * Default configuration for page dewarping.\n */\nexport const DEFAULT_DEWARP_CONFIG: DewarpConfig = {\n  preprocessing: {\n    edgeThresholdLow: 50,\n    edgeThresholdHigh: 150,\n    textDilationKernel: 3,\n  },\n  spanDetection: {\n    numSpans: 10,\n    spanSpacing: 50,\n  },\n  modelFitting: {\n    maxIterations: 100,\n    tolerance: 0.001,\n  },\n  output: {\n    width: 1200,\n    height: 1600,\n    adaptiveThreshold: true,\n  },\n};\n","/**\n * OpenCV preprocessing pipeline for page dewarping.\n * Handles edge detection, text line detection, and contour extraction.\n * \n * PREPROCESSING PHASE EXPLAINED:\n * ==============================\n * Before we can fit a 3D model to the page, we need to extract features\n * from the photograph that tell us about the page's structure.\n * \n * Steps in this phase:\n * 1. ADAPTIVE THRESHOLDING: Convert to black text on white background\n *    - Handles varying lighting conditions across the page\n *    - Works better than global thresholding for photos\n * \n * 2. EDGE DETECTION: Find strong gradients (edges) in the image\n *    - Canny edge detector finds both horizontal and vertical edges\n *    - Text creates many horizontal edges (top/bottom of letters)\n * \n * 3. MORPHOLOGICAL OPERATIONS: Connect nearby edges\n *    - Dilation expands edge regions to connect nearby features\n *    - Helps identify continuous text regions\n * \n * 4. CONTOUR DETECTION: Find closed shapes in the image\n *    - The page boundary is typically the largest contour\n *    - Helps us focus processing on the actual page area\n * \n * 5. HOUGH LINE DETECTION: Find straight(-ish) lines\n *    - Text lines appear as approximately straight lines in the image\n *    - Even on curved pages, locally they look straight\n *    - These give us initial estimates for text span positions\n * \n * Output: Edge map, detected lines, and initial span estimates\n * These feed into the optimization phase.\n */\n\nimport type { DataUrl } from \"@/lib/types/primitives\";\nimport type { Mat } from \"@techstark/opencv-js\";\nimport type {\n  DewarpProgressCallback,\n  Point2D,\n  SpanParams,\n} from \"./page-dewarp-core\";\n\n/**\n * Preprocessing statistics.\n */\nexport interface PreprocessingStats {\n  contoursFound: number;\n  linesDetected: number;\n  pageBounds: { width: number; height: number };\n}\n\n/**\n * Preprocessing debug outputs.\n */\nexport interface PreprocessingDebugData {\n  binaryText?: DataUrl;\n  edgeMap?: DataUrl;\n  detectedLines?: DataUrl;\n  pageBoundary?: DataUrl;\n  preprocessingStats: PreprocessingStats;\n}\n\n/**\n * Preprocessing result containing processed Mat and debug data.\n */\nexport interface PreprocessingResult {\n  edgeMat: Mat;\n  contours: Array<Array<Point2D>>;\n  lines: Array<{ start: Point2D; end: Point2D }>;\n  pageBounds: { x: number; y: number; width: number; height: number };\n  debugData?: PreprocessingDebugData;\n}\n\n/**\n * OpenCV interface for preprocessing operations.\n */\nexport interface OpenCVPreprocessing {\n  Mat: new () => Mat;\n  MatVector: new () => any;\n  cvtColor: (src: Mat, dst: Mat, code: number) => void;\n  adaptiveThreshold: (\n    src: Mat,\n    dst: Mat,\n    maxValue: number,\n    adaptiveMethod: number,\n    thresholdType: number,\n    blockSize: number,\n    C: number\n  ) => void;\n  Canny: (src: Mat, dst: Mat, threshold1: number, threshold2: number) => void;\n  dilate: (src: Mat, dst: Mat, kernel: Mat) => void;\n  erode: (src: Mat, dst: Mat, kernel: Mat) => void;\n  findContours: (\n    image: Mat,\n    contours: any,\n    hierarchy: Mat,\n    mode: number,\n    method: number\n  ) => void;\n  HoughLinesP: (\n    image: Mat,\n    lines: Mat,\n    rho: number,\n    theta: number,\n    threshold: number,\n    minLineLength: number,\n    maxLineGap: number\n  ) => void;\n  boundingRect: (contour: any) => {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n  getStructuringElement: (shape: number, size: any) => Mat;\n  imshow: (canvas: HTMLCanvasElement, mat: Mat) => void;\n  line: (\n    img: Mat,\n    pt1: Point2D,\n    pt2: Point2D,\n    color: any,\n    thickness?: number\n  ) => void;\n  rectangle: (\n    img: Mat,\n    pt1: Point2D,\n    pt2: Point2D,\n    color: any,\n    thickness?: number\n  ) => void;\n  COLOR_RGBA2GRAY: number;\n  ADAPTIVE_THRESH_GAUSSIAN_C: number;\n  THRESH_BINARY: number;\n  RETR_EXTERNAL: number;\n  CHAIN_APPROX_SIMPLE: number;\n  MORPH_RECT: number;\n  Size: new (width: number, height: number) => any;\n  Scalar: new (...values: Array<number>) => any;\n}\n\n/**\n * Preprocess image for page dewarping.\n */\nexport function preprocessImage(\n  cv: OpenCVPreprocessing,\n  src: Mat,\n  config: {\n    edgeThresholdLow: number;\n    edgeThresholdHigh: number;\n    textDilationKernel: number;\n  },\n  collectDebugData: boolean = false,\n  progressCallback?: DewarpProgressCallback\n): PreprocessingResult {\n  const gray = new cv.Mat();\n  const binary = new cv.Mat();\n  const edges = new cv.Mat();\n  const dilated = new cv.Mat();\n  const contours = new cv.MatVector();\n  const hierarchy = new cv.Mat();\n  const lines = new cv.Mat();\n\n  try {\n    if (progressCallback) {\n      progressCallback(\"Preprocessing\", 5, \"Converting to grayscale\");\n    }\n\n    cv.cvtColor(src, gray, cv.COLOR_RGBA2GRAY);\n\n    if (progressCallback) {\n      progressCallback(\"Preprocessing\", 10, \"Applying adaptive thresholding\");\n    }\n\n    cv.adaptiveThreshold(\n      gray,\n      binary,\n      255,\n      cv.ADAPTIVE_THRESH_GAUSSIAN_C,\n      cv.THRESH_BINARY,\n      11,\n      2\n    );\n\n    if (progressCallback) {\n      progressCallback(\"Preprocessing\", 15, \"Detecting edges\");\n    }\n\n    cv.Canny(gray, edges, config.edgeThresholdLow, config.edgeThresholdHigh);\n\n    if (progressCallback) {\n      progressCallback(\n        \"Preprocessing\",\n        18,\n        \"Applying morphological operations\"\n      );\n    }\n\n    const kernel = cv.getStructuringElement(\n      cv.MORPH_RECT,\n      new cv.Size(config.textDilationKernel, config.textDilationKernel)\n    );\n    cv.dilate(edges, dilated, kernel);\n    kernel.delete();\n\n    if (progressCallback) {\n      progressCallback(\"Preprocessing\", 20, \"Finding contours\");\n    }\n\n    cv.findContours(\n      dilated,\n      contours,\n      hierarchy,\n      cv.RETR_EXTERNAL,\n      cv.CHAIN_APPROX_SIMPLE\n    );\n\n    if (progressCallback) {\n      progressCallback(\"Preprocessing\", 22, \"Detecting text lines\");\n    }\n\n    cv.HoughLinesP(edges, lines, 1, Math.PI / 180, 50, 50, 10);\n\n    const contoursArray: Array<Array<Point2D>> = [];\n    for (let i = 0; i < contours.size(); i++) {\n      const contour = contours.get(i);\n      const points: Array<Point2D> = [];\n\n      for (let j = 0; j < contour.data32S.length; j += 2) {\n        points.push({\n          x: contour.data32S[j],\n          y: contour.data32S[j + 1],\n        });\n      }\n\n      contoursArray.push(points);\n    }\n\n    const linesArray: Array<{ start: Point2D; end: Point2D }> = [];\n    for (let i = 0; i < lines.rows; i++) {\n      linesArray.push({\n        start: { x: lines.data32S[i * 4], y: lines.data32S[i * 4 + 1] },\n        end: { x: lines.data32S[i * 4 + 2], y: lines.data32S[i * 4 + 3] },\n      });\n    }\n\n    let pageBounds = { x: 0, y: 0, width: src.cols, height: src.rows };\n    if (contours.size() > 0) {\n      let maxArea = 0;\n      for (let i = 0; i < contours.size(); i++) {\n        const rect = cv.boundingRect(contours.get(i));\n        const area = rect.width * rect.height;\n        if (area > maxArea) {\n          maxArea = area;\n          pageBounds = rect;\n        }\n      }\n    }\n\n    if (progressCallback) {\n      progressCallback(\n        \"Preprocessing\",\n        25,\n        `Found ${contoursArray.length} contours and ${linesArray.length} lines`\n      );\n    }\n\n    let debugData: PreprocessingDebugData | undefined;\n\n    if (collectDebugData) {\n      debugData = {\n        binaryText: matToDataUrl(cv, binary),\n        edgeMap: matToDataUrl(cv, edges),\n        detectedLines: visualizeLines(cv, src, linesArray),\n        pageBoundary: visualizeBoundary(cv, src, pageBounds),\n        preprocessingStats: {\n          contoursFound: contoursArray.length,\n          linesDetected: linesArray.length,\n          pageBounds: { width: pageBounds.width, height: pageBounds.height },\n        },\n      };\n    }\n\n    return {\n      edgeMat: edges.clone(),\n      contours: contoursArray,\n      lines: linesArray,\n      pageBounds,\n      debugData,\n    };\n  } finally {\n    gray.delete();\n    binary.delete();\n    edges.delete();\n    dilated.delete();\n    contours.delete();\n    hierarchy.delete();\n    lines.delete();\n  }\n}\n\n/**\n * Extract initial span estimates from detected lines.\n * \n * INITIAL SPAN ESTIMATION:\n * =======================\n * From the lines detected by Hough transform, we need to extract rough\n * positions for horizontal text spans.\n * \n * Algorithm:\n * 1. Filter to approximately horizontal lines (angle < 30°)\n * 2. Sort lines by vertical position (top to bottom)\n * 3. Divide the page into numSpans regions\n * 4. For each region, find the closest detected line\n * 5. Use that line's position as the initial span estimate\n * \n * Why this approach?\n * - Hough lines give us real detected features (not just guesses)\n * - Horizontal filtering ensures we're looking at text, not page edges\n * - Even spacing ensures we sample across the whole page\n * - These estimates will be refined by optimization later\n * \n * Fallback: If no lines detected in a region, we use evenly-spaced positions.\n * This ensures we always have span estimates to work with.\n */\nexport function extractSpanEstimates(\n  lines: Array<{ start: Point2D; end: Point2D }>,\n  imageWidth: number,\n  imageHeight: number,\n  numSpans: number\n): Array<SpanParams> {\n  const horizontalLines = lines.filter((line) => {\n    const angle = Math.abs(\n      Math.atan2(line.end.y - line.start.y, line.end.x - line.start.x)\n    );\n    return angle < Math.PI / 6 || angle > (5 * Math.PI) / 6;\n  });\n\n  horizontalLines.sort((a, b) => {\n    const yA = (a.start.y + a.end.y) / 2;\n    const yB = (b.start.y + b.end.y) / 2;\n    return yA - yB;\n  });\n\n  const spans: Array<SpanParams> = [];\n  const step = imageHeight / (numSpans + 1);\n\n  for (let i = 0; i < numSpans; i++) {\n    const targetY = step * (i + 1);\n\n    let closestLine = horizontalLines.find((line) => {\n      const lineY = (line.start.y + line.end.y) / 2;\n      return Math.abs(lineY - targetY) < step / 2;\n    });\n\n    if (!closestLine && horizontalLines.length > 0) {\n      closestLine = horizontalLines[Math.min(i, horizontalLines.length - 1)];\n    }\n\n    const yPosition = closestLine\n      ? (closestLine.start.y + closestLine.end.y) / 2\n      : targetY;\n\n    spans.push({\n      yPosition,\n      curvature: 0,\n    });\n  }\n\n  return spans;\n}\n\n/**\n * Convert Mat to data URL.\n */\nfunction matToDataUrl(cv: OpenCVPreprocessing, mat: Mat): DataUrl {\n  const canvas = document.createElement(\"canvas\");\n  cv.imshow(canvas, mat);\n  return canvas.toDataURL(\"image/png\") as DataUrl;\n}\n\n/**\n * Visualize detected lines on source image.\n */\nfunction visualizeLines(\n  cv: OpenCVPreprocessing,\n  src: Mat,\n  lines: Array<{ start: Point2D; end: Point2D }>\n): DataUrl {\n  const visualization = src.clone();\n  const color = new cv.Scalar(0, 255, 0, 255);\n\n  for (const line of lines) {\n    cv.line(visualization, line.start, line.end, color, 2);\n  }\n\n  const result = matToDataUrl(cv, visualization);\n  visualization.delete();\n\n  return result;\n}\n\n/**\n * Visualize page boundary on source image.\n */\nfunction visualizeBoundary(\n  cv: OpenCVPreprocessing,\n  src: Mat,\n  bounds: { x: number; y: number; width: number; height: number }\n): DataUrl {\n  const visualization = src.clone();\n  const color = new cv.Scalar(255, 0, 0, 255);\n\n  cv.rectangle(\n    visualization,\n    { x: bounds.x, y: bounds.y },\n    { x: bounds.x + bounds.width, y: bounds.y + bounds.height },\n    color,\n    3\n  );\n\n  const result = matToDataUrl(cv, visualization);\n  visualization.delete();\n\n  return result;\n}\n","/**\n * Remapping logic for page dewarping.\n * Generates mesh grid and applies inverse transformation.\n * \n * REMAPPING PHASE EXPLAINED:\n * =========================\n * Now that we know the 3D shape of the page (from cubic sheet fitting),\n * we need to actually dewarp the image - create a flat output from the\n * curved input.\n * \n * The challenge: Forward vs. Inverse mapping\n * - Forward: \"Where does this input pixel go in the output?\" → Leaves holes\n * - Inverse: \"Where did this output pixel come from in the input?\" → Perfect\n * \n * We use inverse mapping:\n * 1. For each pixel (x, y) in the flat output image:\n *    a. Treat it as a point on the flat page\n *    b. Use the cubic model to determine its z-height on the 3D surface\n *    c. Project that 3D point to find where it appears in the input photo\n * 2. Sample the input photo at that location (with interpolation)\n * 3. Copy the color to the output pixel\n * \n * OpenCV's remap() function:\n * - Takes two \"map\" images: mapX and mapY\n * - For each output pixel at (x, y):\n *   - Looks up source_x = mapX[y][x] and source_y = mapY[y][x]\n *   - Samples input image at (source_x, source_y)\n *   - Uses cubic interpolation for smooth results\n * \n * Result: A flat, dewarped image where text lines are horizontal.\n */\n\nimport type { Mat } from \"@techstark/opencv-js\";\nimport type { DataUrl } from \"@/lib/types/primitives\";\nimport type {\n  Point2D,\n  Point3D,\n  CubicSheetParams,\n  DewarpProgressCallback,\n} from \"./page-dewarp-core\";\nimport { evaluateCubicPolynomial, project3DTo2D } from \"./page-dewarp-core\";\n\n/**\n * Remapping statistics.\n */\nexport interface RemapStats {\n  resolution: { width: number; height: number };\n  interpolation: string;\n}\n\n/**\n * Remapping debug data.\n */\nexport interface RemapDebugData {\n  meshGrid?: DataUrl;\n  beforeAfter?: DataUrl;\n  surfaceMesh?: DataUrl;\n  remapStats: RemapStats;\n}\n\n/**\n * OpenCV interface for remapping operations.\n */\nexport interface OpenCVRemap {\n  Mat: new () => Mat;\n  remap: (\n    src: Mat,\n    dst: Mat,\n    map1: Mat,\n    map2: Mat,\n    interpolation: number,\n    borderMode?: number,\n    borderValue?: any\n  ) => void;\n  convertScaleAbs: (src: Mat, dst: Mat, alpha?: number, beta?: number) => void;\n  adaptiveThreshold: (\n    src: Mat,\n    dst: Mat,\n    maxValue: number,\n    adaptiveMethod: number,\n    thresholdType: number,\n    blockSize: number,\n    C: number\n  ) => void;\n  cvtColor: (src: Mat, dst: Mat, code: number) => void;\n  resize: (src: Mat, dst: Mat, dsize: any, fx?: number, fy?: number, interpolation?: number) => void;\n  hconcat: (src: Array<Mat>, dst: Mat) => void;\n  line: (img: Mat, pt1: Point2D, pt2: Point2D, color: any, thickness?: number) => void;\n  circle: (img: Mat, center: Point2D, radius: number, color: any, thickness?: number) => void;\n  imshow: (canvas: HTMLCanvasElement, mat: Mat) => void;\n  INTER_CUBIC: number;\n  INTER_LINEAR: number;\n  BORDER_CONSTANT: number;\n  ADAPTIVE_THRESH_GAUSSIAN_C: number;\n  THRESH_BINARY: number;\n  COLOR_RGBA2GRAY: number;\n  COLOR_GRAY2RGBA: number;\n  Size: new (width: number, height: number) => any;\n  Scalar: new (...values: Array<number>) => any;\n}\n\n/**\n * Generate dewarp transformation maps.\n * \n * MAP GENERATION EXPLAINED:\n * ========================\n * This is where we compute the inverse mapping from flat output to curved input.\n * \n * For each pixel in the output image:\n * 1. Normalize coordinates: (x, y) → (normX, normY) in range [-0.5, 0.5]\n *    - This makes the math scale-independent\n * \n * 2. Evaluate cubic polynomial: z = f(normX, normY)\n *    - Get the height of the page at this location\n *    - z = 0 means flat, z > 0 means bulging toward camera\n * \n * 3. Create 3D point: (normX * width, normY * height, z * width)\n *    - Scale back to image coordinates\n *    - z is scaled by width to keep proportions reasonable\n * \n * 4. Project to 2D: (x_input, y_input) = project3D(point3D)\n *    - This tells us where this flat point appears in the curved photo\n * \n * 5. Store in maps: mapX[y][x] = x_input, mapY[y][x] = y_input\n * \n * Why two separate maps?\n * - OpenCV remap() wants separate X and Y coordinate maps\n * - This format allows for arbitrary transformations (not just our dewarping)\n * \n * The maps are CV_32FC1 (32-bit float, single channel) to allow sub-pixel accuracy.\n */\nexport function generateDewarpMaps(\n  cv: OpenCVRemap,\n  sheetParams: CubicSheetParams,\n  sourceWidth: number,\n  sourceHeight: number,\n  outputWidth: number,\n  outputHeight: number,\n  progressCallback?: DewarpProgressCallback\n): { mapX: Mat; mapY: Mat } {\n  if (progressCallback) {\n    progressCallback(\"Remapping\", 70, \"Generating transformation maps\");\n  }\n\n  const mapX = new cv.Mat(outputHeight, outputWidth, cv.Mat.CV_32FC1);\n  const mapY = new cv.Mat(outputHeight, outputWidth, cv.Mat.CV_32FC1);\n\n  const focalLength = Math.max(sourceWidth, sourceHeight);\n\n  for (let y = 0; y < outputHeight; y++) {\n    for (let x = 0; x < outputWidth; x++) {\n      const normX = (x - outputWidth / 2) / outputWidth;\n      const normY = (y - outputHeight / 2) / outputHeight;\n\n      const z = evaluateCubicPolynomial(normX, normY, sheetParams.coefficients);\n\n      const point3D: Point3D = {\n        x: normX * sourceWidth,\n        y: normY * sourceHeight,\n        z: z * sourceWidth,\n      };\n\n      const projected = project3DTo2D(\n        point3D,\n        focalLength,\n        { x: sourceWidth / 2, y: sourceHeight / 2 }\n      );\n\n      const idx = y * outputWidth + x;\n      mapX.data32F[idx] = projected.x;\n      mapY.data32F[idx] = projected.y;\n    }\n\n    if (y % 50 === 0 && progressCallback) {\n      const progress = 70 + (y / outputHeight) * 15;\n      progressCallback(\n        \"Remapping\",\n        progress,\n        `Generating maps: ${Math.floor((y / outputHeight) * 100)}%`\n      );\n    }\n  }\n\n  if (progressCallback) {\n    progressCallback(\"Remapping\", 85, \"Transformation maps generated\");\n  }\n\n  return { mapX, mapY };\n}\n\n/**\n * Apply dewarping transformation to image.\n */\nexport function applyDewarp(\n  cv: OpenCVRemap,\n  src: Mat,\n  mapX: Mat,\n  mapY: Mat,\n  applyThreshold: boolean,\n  progressCallback?: DewarpProgressCallback\n): Mat {\n  if (progressCallback) {\n    progressCallback(\"Remapping\", 85, \"Applying transformation\");\n  }\n\n  const dewarped = new cv.Mat();\n\n  cv.remap(\n    src,\n    dewarped,\n    mapX,\n    mapY,\n    cv.INTER_CUBIC,\n    cv.BORDER_CONSTANT,\n    new cv.Scalar(255, 255, 255, 255)\n  );\n\n  if (progressCallback) {\n    progressCallback(\"Remapping\", 90, \"Transformation applied\");\n  }\n\n  if (applyThreshold) {\n    if (progressCallback) {\n      progressCallback(\"Remapping\", 92, \"Applying adaptive threshold\");\n    }\n\n    const gray = new cv.Mat();\n    const thresholded = new cv.Mat();\n\n    try {\n      cv.cvtColor(dewarped, gray, cv.COLOR_RGBA2GRAY);\n\n      cv.adaptiveThreshold(\n        gray,\n        thresholded,\n        255,\n        cv.ADAPTIVE_THRESH_GAUSSIAN_C,\n        cv.THRESH_BINARY,\n        11,\n        2\n      );\n\n      cv.cvtColor(thresholded, dewarped, cv.COLOR_GRAY2RGBA);\n    } finally {\n      gray.delete();\n      thresholded.delete();\n    }\n\n    if (progressCallback) {\n      progressCallback(\"Remapping\", 95, \"Threshold applied\");\n    }\n  }\n\n  return dewarped;\n}\n\n/**\n * Generate debug visualizations for remapping.\n */\nexport function generateRemapDebugData(\n  cv: OpenCVRemap,\n  src: Mat,\n  dewarped: Mat,\n  sheetParams: CubicSheetParams,\n  mapX: Mat,\n  mapY: Mat,\n  collectDebugData: boolean\n): RemapDebugData | undefined {\n  if (!collectDebugData) {\n    return {\n      remapStats: {\n        resolution: { width: dewarped.cols, height: dewarped.rows },\n        interpolation: \"INTER_CUBIC\",\n      },\n    };\n  }\n\n  const meshGrid = visualizeMeshGrid(cv, src, mapX, mapY);\n  const beforeAfter = createBeforeAfter(cv, src, dewarped);\n  const surfaceMesh = visualizeSurfaceMesh(cv, src, sheetParams);\n\n  return {\n    meshGrid,\n    beforeAfter,\n    surfaceMesh,\n    remapStats: {\n      resolution: { width: dewarped.cols, height: dewarped.rows },\n      interpolation: \"INTER_CUBIC\",\n    },\n  };\n}\n\n/**\n * Visualize mesh grid showing warp field.\n */\nfunction visualizeMeshGrid(\n  cv: OpenCVRemap,\n  src: Mat,\n  mapX: Mat,\n  mapY: Mat\n): DataUrl {\n  const visualization = src.clone();\n  const gridSpacing = 30;\n  const color = new cv.Scalar(0, 255, 255, 255);\n\n  for (let y = 0; y < mapY.rows; y += gridSpacing) {\n    for (let x = 0; x < mapX.cols - 1; x += gridSpacing) {\n      const idx1 = y * mapX.cols + x;\n      const idx2 = y * mapX.cols + x + gridSpacing;\n\n      if (idx2 < mapX.data32F.length) {\n        const x1 = mapX.data32F[idx1];\n        const y1 = mapY.data32F[idx1];\n        const x2 = mapX.data32F[idx2];\n        const y2 = mapY.data32F[idx2];\n\n        if (\n          x1 >= 0 && x1 < src.cols && y1 >= 0 && y1 < src.rows &&\n          x2 >= 0 && x2 < src.cols && y2 >= 0 && y2 < src.rows\n        ) {\n          cv.line(visualization, { x: x1, y: y1 }, { x: x2, y: y2 }, color, 1);\n        }\n      }\n    }\n  }\n\n  for (let x = 0; x < mapX.cols; x += gridSpacing) {\n    for (let y = 0; y < mapY.rows - 1; y += gridSpacing) {\n      const idx1 = y * mapX.cols + x;\n      const idx2 = (y + gridSpacing) * mapX.cols + x;\n\n      if (idx2 < mapX.data32F.length) {\n        const x1 = mapX.data32F[idx1];\n        const y1 = mapY.data32F[idx1];\n        const x2 = mapX.data32F[idx2];\n        const y2 = mapY.data32F[idx2];\n\n        if (\n          x1 >= 0 && x1 < src.cols && y1 >= 0 && y1 < src.rows &&\n          x2 >= 0 && x2 < src.cols && y2 >= 0 && y2 < src.rows\n        ) {\n          cv.line(visualization, { x: x1, y: y1 }, { x: x2, y: y2 }, color, 1);\n        }\n      }\n    }\n  }\n\n  const result = matToDataUrl(cv, visualization);\n  visualization.delete();\n\n  return result;\n}\n\n/**\n * Create before/after side-by-side comparison.\n */\nfunction createBeforeAfter(cv: OpenCVRemap, src: Mat, dewarped: Mat): DataUrl {\n  const resized = new cv.Mat();\n  cv.resize(dewarped, resized, new cv.Size(src.cols, src.rows), 0, 0, cv.INTER_LINEAR);\n\n  const combined = new cv.Mat();\n  cv.hconcat([src, resized], combined);\n\n  const result = matToDataUrl(cv, combined);\n\n  resized.delete();\n  combined.delete();\n\n  return result;\n}\n\n/**\n * Visualize 3D surface mesh projection.\n */\nfunction visualizeSurfaceMesh(\n  cv: OpenCVRemap,\n  src: Mat,\n  sheetParams: CubicSheetParams\n): DataUrl {\n  const visualization = src.clone();\n  const gridSpacing = 40;\n  const color = new cv.Scalar(255, 0, 255, 255);\n\n  const focalLength = Math.max(src.cols, src.rows);\n\n  for (let normY = -0.5; normY <= 0.5; normY += 0.1) {\n    for (let normX = -0.5; normX <= 0.5; normX += 0.1) {\n      const z = evaluateCubicPolynomial(normX, normY, sheetParams.coefficients);\n\n      const point3D: Point3D = {\n        x: normX * src.cols,\n        y: normY * src.rows,\n        z: z * src.cols,\n      };\n\n      const projected = project3DTo2D(\n        point3D,\n        focalLength,\n        { x: src.cols / 2, y: src.rows / 2 }\n      );\n\n      if (\n        projected.x >= 0 && projected.x < src.cols &&\n        projected.y >= 0 && projected.y < src.rows\n      ) {\n        cv.circle(visualization, projected, 2, color, -1);\n      }\n    }\n  }\n\n  const result = matToDataUrl(cv, visualization);\n  visualization.delete();\n\n  return result;\n}\n\n/**\n * Convert Mat to data URL.\n */\nfunction matToDataUrl(cv: OpenCVRemap, mat: Mat): DataUrl {\n  const canvas = document.createElement(\"canvas\");\n  cv.imshow(canvas, mat);\n  return canvas.toDataURL(\"image/png\") as DataUrl;\n}\n\n"],"x_google_ignoreList":[0,1,2,3,4,6,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],"names":["global","__r","metroRequire","__METRO_GLOBAL_PREFIX__","define","__c","clear","__registerSegment","registerSegment","modules","EMPTY","CYCLE_DETECTED","_ref","hasOwnProperty","__DEV__","_global$$RefreshReg$","_global$$RefreshSig$","$RefreshReg$","$RefreshSig$","type","Map","verboseNamesToModuleIds","getModuleIdForVerboseName","verboseName","moduleId","get","Error","initializingModuleIds","factory","dependencyMap","has","inverseDependencies","arguments","__accept","mod","hasError","importedAll","importedDefault","isInitialized","publicModule","exports","set","hot","createHotReloadingObject","maybeNameForDev","console","warn","moduleIdReallyIsNumber","initializingIndex","indexOf","cycle","slice","map","id","_modules$get$verboseN","_modules$get","shouldPrintRequireCycle","push","join","module","guardedLoadModule","regExps","Array","isArray","isIgnored","some","regExp","test","every","metroImportDefault","maybeInitializedModule","__esModule","default","initializedModule","importDefault","metroImportAll","key","call","importAll","context","fallbackRequireContext","resolveWeak","fallbackRequireResolveWeak","inGuard","ErrorUtils","returnValue","loadModuleImplementation","e","reportFatalError","ID_MASK_SHIFT","LOCAL_ID_MASK","unpackModuleId","segmentId","localId","packModuleId","value","moduleDefinersBySegmentID","definingSegmentByModuleID","moduleDefiner","moduleIds","forEach","length","_definingSegmentByMod","definer","delete","nativeRequire","_unpackModuleId","unknownModuleError","error","Systrace","requireSystrace","Refresh","requireRefresh","_module","beginEvent","moduleObject","prevRefreshReg","prevRefreshSig","RefreshRuntime","prefixedModuleId","register","createSignatureFunctionForTransform","undefined","endEvent","registerExportsForReactRefresh","pop","message","getModules","_acceptCallback","_disposeCallback","_didAccept","accept","callback","dispose","reactRefreshTimeout","metroHotUpdateModule","refreshBoundaryIDs","Set","didBailOut","updatedModuleIDs","topologicalSort","pendingID","pendingModule","pendingHot","canAccept","isBoundary","isReactRefreshBoundary","add","parentIDs","performFullRefresh","source","failed","reverse","seenModuleIDs","i","updatedID","updatedMod","prevExports","didError","runUpdatedModule","nextExports","isNoLongerABoundary","didInvalidate","shouldInvalidateReactRefreshBoundary","j","parentID","parentMod","canAcceptParent","setTimeout","performReactRefresh","roots","getEdges","earlyStop","result","visited","stack","traverseDependentNodes","node","dependentNodes","dependent","root","reason","window","location","reload","_modules$source$verbo","_modules$source","_modules$failed$verbo","_modules$failed","sourceName","failedName","moduleExports","isLikelyComponentType","hasExports","areAllExportsComponents","desc","Object","getOwnPropertyDescriptor","exportValue","prevSignature","getRefreshBoundarySignature","nextSignature","signature","getFamilyByType","moduleID","typeID","globalThis","inspect","obj","opts","ctx","seen","formatValueCalls","stylize","stylizeNoColor","formatValue","depth","str","styleType","arrayToHash","array","hash","val","idx","recurseTimes","primitive","formatPrimitive","keys","visibleKeys","isError","formatError","isFunction","name","isRegExp","RegExp","prototype","toString","isDate","Date","base","braces","n","toUTCString","output","formatArray","formatProperty","reduceToSingleString","isUndefined","isString","simple","JSON","stringify","replace","isNumber","isBoolean","isNull","l","String","match","split","line","numLinesEst","reduce","prev","cur","ar","arg","isNullOrUndefined","isSymbol","re","isObject","objectToString","d","o","prop","INDEX_COLUMN_NAME","LOG_LEVELS","trace","info","getNativeLogFunction","level","firstArg","logLevel","groupStack","groupFormat","nativeLoggingHook","repeat","element","apply","formatCellValue","cell","cellValue","consoleTablePolyfill","data","columns","rows","row","index","processedRow","assign","concat","from","columnSet","stringRows","columnWidths","k","cellStr","Math","max","joinRow","space","cells","extraSpaces","separators","columnWidth","separatorRow","header","table","GROUP_PAD","GROUP_OPEN","GROUP_CLOSE","prefix","msg","consoleGroupPolyfill","label","consoleGroupCollapsedPolyfill","consoleGroupEndPolyfill","consoleAssertPolyfill","expression","consoleTimeStampPolyfill","originalConsole","descriptor","defineProperty","timeStamp","log","debug","group","groupEnd","groupCollapsed","assert","RN$useAlwaysAvailableJSErrorHandling","stringifySafe","originalConsoleError","reportErrorsAsExceptions","_len","args","_key","RN$inExceptionHandler","startsWith","isFatal","reportToConsole","RN$handleException","enumerable","methodName","reactNativeMethod","stub","print","dir","dirxml","profile","profileEnd","_inGuard","_globalHandler","setGlobalHandler","fun","getGlobalHandler","reportError","applyWithGuard","unused_onError","unused_name","applyWithGuardIfNeeded","guard","guardName","guarded","_pipelinesOpencvCore","require","_dependencyMap","cvReady","forwardConsoleToNative","ReactNativeWebView","postMessage","_len2","_key2","_len3","_key3","onOpenCvReady","cv","onRuntimeInitialized","addEventListener","event","parse","processImage","imageUri","operations","requestId","sendError","_x","_x2","_x3","_processImage","_asyncToGenerator","src","processedMat","loadImageToMat","debugData","operation","_applyGeometryCorrect","applyGeometryCorrection","mat","processedUri","matToDataUrl","sendResult","success","errorMessage","asyncGeneratorStep","t","r","a","c","u","done","Promise","resolve","then","_next","_throw","_optimizationDewarpOptimizer","_types","_pageDewarpCore","_pageDewarpPreprocessing","_pageDewarpRemap","collectDebugData","progressCallback","startTime","now","progressLog","logProgress","phase","progress","timestamp","reportPhaseInit","mathValidation","validateMathFunctions","preprocessingResult","preprocessImage","DEFAULT_DEWARP_CONFIG","preprocessing","spanEstimates","extractSpanEstimates","lines","cols","spanDetection","numSpans","edgeDensity","computeEdgeDensity","edgeMat","spanResult","refineSpans","keypoints","collectKeypointsFromSpans","spans","sheetResult","fitCubicSheet","modelFitting","_generateDewarpMaps","generateDewarpMaps","params","width","height","mapX","mapY","dewarped","applyDewarp","adaptiveThreshold","_preprocessingResult$","remapDebugData","generateRemapDebugData","imageWidth","imageHeight","preprocessingStats","contoursFound","linesDetected","pageBounds","optimizationMetrics","spanIterations","iterations","spanError","modelIterations","modelError","parameters","coefficients","remapStats","resolution","interpolation","processingTime","reject","img","Image","crossOrigin","onload","canvas","document","createElement","getContext","drawImage","imageData","getImageData","matFromImageData","onerror","errorMsg","evt","target","quality","imshow","toDataURL","_babelRuntimeHelpersToConsumableArray","_toConsumableArray","_interopDefault","_mlLevenbergMarquardt","_pipelinesPageDewarpCore","initialSpans","numIterations","learningRate","currentSpans","s","bestError","Infinity","iter","evaluateSpanFit","toFixed","gradients","computeSpanGradients","yPosition","yGrad","curvature","cGrad","min","totalError","numSamples","span","samples","sampleKeypointsOnSpan","spanDensity","point","x","floor","y","epsilon","baseError","yPlus","yPlusError","cPlus","cPlusError","config","normalizedKeypoints","p","initialParams","createFlatSheetParams","x0","fittedParams","finalError","levenbergMarquardt","pointIndex","z","evaluateCubicPolynomial","initialValues","maxIterations","errorTolerance","tolerance","splice","parameterValues","parameterError","kernelSize","density","sum","count","dy","dx","ny","nx","samplesPerSpan","spanKeypoints","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayLikeToArray","_arrayWithoutHoles","_arrayLikeToArray","_iterableToArray","Symbol","iterator","_unsupportedIterableToArray","constructor","_nonIterableSpread","TypeError","__importDefault","checkOptions_1","errorCalculation_1","step_1","parameterizedFunction","options","checkTimeout","minValues","maxValues","weightSquare","damping","dampingStepUp","dampingStepDown","centralDifference","gradientDifference","improvementThreshold","optimalError","optimalParameters","converged","iteration","previousError","_ref2","perturbations","jacobianWeightResidualError","isNaN","improvementMetric","transpose","mmul","mul","timeout","is_any_array_1","checkOptions","_options$weights","weights","_options$damping","_options$dampingStepU","_options$dampingStepD","_options$maxIteration","_options$errorToleran","_options$centralDiffe","_options$gradientDiff","_options$improvementT","isAnyArray","nbPoints","parLen","fill","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","filler","endTime","tag","endsWith","includes","errorCalculation","func","pow","ml_matrix_1","gradientFunction_1","matrixFunction","evaluatedData","m","ans","Matrix","step","identity","eye","Float64Array","gradientFunc","residualError","inverseMatrix","inverse","scale","_superPropGet","_callSuper","_inherits","_classPrivateFieldLooseBase","_classPrivateFieldLooseKey","_slicedToArray","_readOnlyError","_classCallCheck","_createClass","rescale","indent","indentData","inspectMatrix","inspectMatrixWithOptions","matrix","_options$maxRows","maxRows","_options$maxColumns","maxColumns","_options$maxNumSize","maxNumSize","_options$padMinus","padMinus","inspectData","maxI","maxJ","loop","formatNumber","num","formatNumber2","padEnd","len","fix","exp","toExponential","installMathOperations","AbstractMatrix","addS","addM","checkMatrix","RangeError","newMatrix","sub","subS","subM","subtract","subtractS","subtractM","mulS","mulM","multiply","multiplyS","multiplyM","div","divS","divM","divide","divideS","divideM","modS","modM","modulus","modulusS","modulusM","and","andS","andM","or","orS","orM","xor","xorS","xorM","leftShift","leftShiftS","leftShiftM","signPropagatingRightShift","signPropagatingRightShiftS","signPropagatingRightShiftM","rightShift","rightShiftS","rightShiftM","zeroFillRightShift","zeroFillRightShiftS","zeroFillRightShiftM","not","abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","expm1","fround","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc","arg0","powS","powM","checkRowIndex","outer","checkColumnIndex","checkRowVector","vector","to1DArray","checkColumnVector","checkRowIndices","rowIndices","checkColumnIndices","columnIndices","checkRange","startRow","endRow","startColumn","endColumn","checkNumber","newArray","checkNonEmpty","isEmpty","sumByRow","sumByColumn","sumAll","v","productByRow","productByColumn","productAll","varianceByRow","unbiased","mean","variance","sum1","sum2","varianceByColumn","varianceAll","size","centerByRow","centerByColumn","centerAll","getScaleByRow","scaleByRow","getScaleByColumn","scaleByColumn","getScaleAll","divider","scaleAll","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isDistance","isEchelonForm","previousColumn","checked","isReducedEchelonForm","echelonForm","clone","h","iMax","swapRows","tmp","factor","reducedEchelonForm","maxRow","pivot","_options$rows","_options$columns","isInteger","setSubMatrix","neg","getRow","getRowVector","rowVector","setRow","row1","row2","temp","getColumn","column","getColumnVector","columnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","by","NaN","NEGATIVE_INFINITY","maxIndex","POSITIVE_INFINITY","minIndex","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","diag","norm","dot","cumulativeSum","vector2","isMatrix","vector1","other","Bcolj","mpow","scalar","bb","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","r2","c2","embed","resultat","zeros","blockMult","b","halfRows","parseInt","halfCols","subMatrix","scaleRows","_options$min","_options$max","isFinite","scaleColumns","_options$min2","_options$max2","flipRows","middle","first","last","flipColumns","kroneckerProduct","q","kroneckerSum","AxI","IxB","sortRows","compareFunction","compareNumbers","sort","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","rowIndex","columnIndex","product","_options","_options$unbiased","_options$mean","standardDeviation","center","_options2","_options2$center","entries","col","values","from1DArray","newRows","newColumns","newData","ones","rand","_options$random","random","randInt","_options$min3","_options$max3","_options$random2","interval","matrix1","matrix2","klass","to","for","isArrayOfNumbers","randomInt","diagonal","negate","tensorProduct","_initData","_AbstractMatrix","nRows","nColumns","_this","_initData2","arrayData","removeRow","addRow","removeColumn","newRow","addColumn","_matrix","SymmetricMatrix","_AbstractMatrix2","diagonalSize","_this2","writable","_ref3","upperRightEntries","_ref4","toMatrix","removeCross","addCross","applyMask","mask","sidesToRemove","_ref5","_ref6","passthroughs","sideIndex","toCompact","compact","upperRightValues","isSymmetricMatrix","klassType","fromCompact","compactSize","DistanceMatrix","_SymmetricMatrix2","sideSize","_this3","toSymmetricMatrix","_ref7","_ref8","compactLength","isDistanceMatrix","klassSubType","BaseView","_AbstractMatrix3","_this4","MatrixColumnView","_BaseView","_this5","MatrixColumnSelectionView","_BaseView2","_this6","MatrixFlipColumnView","_BaseView3","MatrixFlipRowView","_BaseView4","MatrixRowView","_BaseView5","_this7","MatrixRowSelectionView","_BaseView6","_this8","MatrixSelectionView","_BaseView7","_this9","MatrixSubView","_BaseView8","_this0","MatrixTransposeView","_BaseView9","WrapperMatrix1D","_AbstractMatrix4","_this1","_options$rows2","_calculateIndex","WrapperMatrix2D","_AbstractMatrix5","_this10","wrap","LuDecomposition","lu","pivotVector","pivotSign","LUcolj","kmax","LU","isSingular","solve","X","determinant","hypotenuse","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","SingularValueDecomposition","_options$computeLeftS","computeLeftSingularVectors","_options$computeRight","computeRightSingularVectors","_options$autoTranspos","autoTranspose","wantu","Boolean","wantv","swapped","aux","nu","ni","U","V","work","si","nct","nrt","mrc","pp","eps","EPSILON","kase","alpha","MIN_VALUE","ks","f","cs","sn","sp","spm1","epm1","sk","ek","shift","g","Y","threshold","scols","Ls","rightSingularVectors","VL","vrows","urows","VLU","solveForDiagonal","vcols","ucols","tol","ii","useSVD","leftHandSide","rightHandSide","subMatrix0","subMatrix1","subMatrix2","xrange","exception","range","dependenciesOneRow","thresholdValue","thresholdError","returnArray","linearDependencies","_options$thresholdVal","_options$thresholdErr","results","Abis","svd","pseudoInverse","svdSolution","leftSingularVectors","covariance","xMatrix","yMatrix","yIsSame","_options3","_options3$center","cov","correlation","_options4","_options4$center","_options4$scale","sdx","sdy","corr","EigenvalueDecomposition","_options$assumeSymmet","assumeSymmetric","tred2","tql2","H","ort","orthes","hqr2","hh","dl1","c3","el1","s2","tst1","low","high","nn","exshift","w","ra","sa","vr","vi","notlast","cdivres","cdiv","xr","xi","yr","yi","CholeskyDecomposition","dimension","positiveDefinite","L","isPositiveDefinite","B","nipals","_options$scaleScores","scaleScores","_options$terminationC","terminationCriteria","diff","tOld","counter","xResidual","residual","yResidual","betas","CHO","EVD","NIPALS","Nipals","SVD","getPrototypeOf","superPropBase","_get","Reflect","bind","_superPropBase","_getPrototypeOf","setPrototypeOf","__proto__","isNativeReflectConstruct","possibleConstructorReturn","construct","_isNativeReflectConstruct","valueOf","_typeof","assertThisInitialized","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","create","configurable","_setPrototypeOf","_classPrivateFieldBase","_classPrivateFieldKey","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_arrayWithHoles","_iterableToArrayLimit","next","_nonIterableRest","toPropertyKey","_defineProperties","toPrimitive","_interopDefaultLegacy","max__default","min__default","input","currentMin","currentMax","minValue","autoMinMax","maxValue","_options$fromIndex","fromIndex","_options$toIndex","toIndex","gradientFunction","paramFunction","nbParams","param","delta","auxParams","funcParam","funcParam2","cubicPolynomialGradient","project3DTo2D","parameterizeSpan","_babelRuntimeHelpersSlicedToArray","term","dzDx","dzDy","coef","point3D","focalLength","imageCenter","xPosition","spanParams","normalizedX","yOffset","polynomialTest","testCubicPolynomial","projectionTest","testProjection","flatCoefficients","_cubicPolynomialGradi","_cubicPolynomialGradi2","gradX","gradY","projected","validation","DEFAULT_ADJUSTMENT_CONFIG","geometry","enabled","minPageArea","padding","edgeThresholdLow","edgeThresholdHigh","textDilationKernel","spanSpacing","gray","Mat","binary","edges","dilated","contours","MatVector","hierarchy","cvtColor","COLOR_RGBA2GRAY","ADAPTIVE_THRESH_GAUSSIAN_C","THRESH_BINARY","Canny","kernel","getStructuringElement","MORPH_RECT","Size","dilate","findContours","RETR_EXTERNAL","CHAIN_APPROX_SIMPLE","HoughLinesP","PI","contoursArray","contour","points","data32S","linesArray","start","end","maxArea","rect","boundingRect","area","binaryText","edgeMap","detectedLines","visualizeLines","pageBoundary","visualizeBoundary","horizontalLines","filter","angle","atan2","yA","yB","_loop","targetY","closestLine","find","lineY","visualization","color","Scalar","bounds","rectangle","sheetParams","sourceWidth","sourceHeight","outputWidth","outputHeight","CV_32FC1","normX","normY","data32F","applyThreshold","remap","INTER_CUBIC","BORDER_CONSTANT","thresholded","COLOR_GRAY2RGBA","meshGrid","visualizeMeshGrid","beforeAfter","createBeforeAfter","surfaceMesh","visualizeSurfaceMesh","gridSpacing","idx1","idx2","x1","y1","x2","y2","resized","resize","INTER_LINEAR","combined","hconcat","circle"],"mappings":"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"}